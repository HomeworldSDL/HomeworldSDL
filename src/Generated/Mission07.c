//
//  Mission07.c
//
//  Finite state machine routines for "Mission07" mission
//
//  Copyright (C) 1998 Relic Entertainment Inc.
//  All rights reserved
//
//  This code was autogenerated from Mission07.kp by KAS2C Version 2.05sdl
//


#include "Mission07.h"  // prototypes and #includes for exposed game functions

extern AITeam *CurrentTeamP;
#define kasThisTeamPtr CurrentTeamP

//  for run-time scoping of symbols (variables, timers, etc.)
extern sdword CurrentMissionScope;
extern char CurrentMissionScopeName[];

//  for displaying localized strings
extern udword strCurLanguage;

static char *LSTRING_LCLocationCard[] = {  // multilingual strings
	"THE GARDENS OF KADESH",
	"JARDINS DE KADESH",
	"DIE GÄRTEN VON KADESH",
	"LOS JARDINES DE KADESH",
	"I GIARDINI DI KADESH", };

static char *LSTRING_FINebulaRich[] = {  // multilingual strings
	"The Nebula is incredibly rich in energy and resources.  Energy levels are so high that our sensors are having trouble compensating.\n\nBegin harvesting the nebula while we address this problem.",
	"La Nébuleuse est incroyablement riche en énergie et en ressources. Il y a de tels niveaux d'énergie que nos détecteurs peinent à compenser.\n\nCommencez la collecte dans la nébuleuse pendant que nous nous penchons sur ce problème.",
	"Der Nebel ist unglaublich reich an Energie und Rohstoffen. Die Energie-Level sind so hoch, dass unsere Sensoren Probleme haben, dies zu kompensieren.\n\nBeginnen Sie mit der Rohstoffernte im Nebel, während wir uns um dieses Problem kümmern.",
	"La nebulosa es muy rica en energía y recursos. Los niveles de energía son tan altos que nuestros sensores no pueden compensarlos.\n\nEmpieza a recolectar en la nebulosa mientras buscamos solución a este problema.",
	"Questa nebulosa è ricchissima di energia e risorse; i livelli energetici sono così alti che i nostri sensori non riescono a calcolarli.\n\nComincia la raccolta delle risorse, mentre tentiamo di risolvere questo problema.", };

static char *LSTRING_FIUnknownContacts[] = {  // multilingual strings
	"There is a contact closing with the Mothership.  Sensors instability in this region makes it difficult to identify.",
	"Contact établi avec véhicule près du Vaisseau Mère, mais l'instabilité des détecteurs dans cette région rend son identification difficile.",
	"Ein Kontakt nähert sich dem Mutterschiff. Die Sensor-Instabilität in dieser Region macht eine Identifikation sehr schwierig.",
	"Se está cerrando un contacto con la Nave nodriza. La inestabilidad de los sensores en esta zona dificulta la identificación de ese contacto.",
	"C'è un contatto in avvicinamento all'Astronave Madre. Purtroppo, i sensori sono fuori scala e non riescono a identificarlo.", };

static char *LSTRING_FIPreparingAmbassador[] = {  // multilingual strings
	"Prepare the Ambassador.",
	"Préparation de l'Ambassadeur.",
	"Botschafter bereitmachen.",
	"Preparad al embajador.",
	"Prepara l'Ambassador.", };

static char *LSTRING_FIDefendMothership[] = {  // multilingual strings
	"Delay the attacking ships while Fleet Command charges the hyperdrive module.  We should have the range to jump clear of the nebula.",
	"Retardez les vaisseaux agresseurs pendant que l'Amirauté charge le module d'hyperpropulsion. La portée devrait être suffisante pour nous faire bondir hors de la nébuleuse.",
	"Halten Sie die angreifenden Schiffe zurück, während das Flottenkommando das Hypersprung-Modul auflädt. Unsere Reichweite sollte so groß sein, dass wir aus dem Nebel herausspringen.",
	"Distrae a las naves atacantes mientras el mando de la flota carga el módulo de hiperpropulsión. Deberemos tener el alcance necesario para salir de la nebulosa.",
	"Trattieni le navi nemiche mentre il Comando della Flotta carica il modulo dell'iperguida. Dovremmo essere in grado di allontanarci dalla nebulosa.", };

static char *LSTRING_FCHyperModuleCharging1[] = {  // multilingual strings
	"Hyperspace module at 35%, ready in 8 minutes.",
	"Module hyperspatial à 35%, prêt dans 8 minutes.",
	"Hypersprung-Modul bei 35%. Bereit in 8 Minuten.",
	"Módulo hiperespacial al 35%, preparado en 8 minutos.",
	"Modulo dell'Iperspazio al 35%, pronto in 8 minuti.", };

static char *LSTRING_FCHyperModuleCharging2[] = {  // multilingual strings
	"Hyperspace module at 90%, ready in 1 minute.",
	"Module hyperspatial à 90%, prêt dans 1 minute.",
	"Hypersprung-Modul bei 90%. Bereit in 1 Minute.",
	"Módulo hiperespacial al 90%, preparado en 1 minuto.",
	"Modulo dell'Iperspazio al 90%, pronto in 1 minuto.", };

static char *LSTRING_FCLetsGetOutOfHere[] = {  // multilingual strings
	"Hyperspace module fully charged.  Get us out of this place.",
	"Activation  maximale du module hyperspatial. Sortez-nous vite d'ici.",
	"Hypersprung-Modul voll aufgeladen. Nichts wie raus hier!",
	"Módulo hiperespacial completamente cargado. Vámonos de este sitio.",
	"Modulo dell'Iperspazio pronto. Andiamocene da qui.", };

static char *LSTRING_FIEngage[] = {  // multilingual strings
	"Yes, co-ordinates set.  Engage hyperdrive!",
	"Oui, le cap est déterminé. Enclenchez l'hyperpropulsion!",
	"Ja, Koordinaten sind eingestellt. Hypersprung-Aggregat einschalten!",
	"Sí, coordenadas establecidas. Activar hiperpropulsión.",
	"Coordinate impostate: attiva l'iperguida!", };

static char *LSTRING_FCHyperdriveFail[] = {  // multilingual strings
	"Hyperdrive jump failed!  The Quantum waveform collapsed before the ship could enter hyperspace.",
	"Le bond par hyperpropulsion a échoué ! Il y a eu effondrement de l'amplitude quantique avant même que le vaisseau puisse atteindre l'hyperespace.  ",
	"Hyperraum-Sprung fehlgeschlagen! Die Quanten-Wellenform brach zusammen, bevor das Schiff in den Hyperraum eintreten konnte.",
	"Ha fallado la hiperpropulsión. La forma de onda cuántica ha colapsado antes de que la nave pudiera entrar en el hiperespacio.",
	"Salto nell'Iperspazio fallito! La forma d'onda Quantum è collassata prima che la nave potesse entrare nell'Iperspazio.", };

static char *LSTRING_FIContinueProtecting[] = {  // multilingual strings
	"Analyzing malfunction.  Continue to protect the Mothership until the problem is solved.",
	"Analyse de la défaillance. Protection du Vaisseau Mère jusqu'à résolution du problème.",
	"Fehlfunktion wird analysiert. Schützen Sie weiterhin das Mutterschiff, bis das Problem gelöst ist.",
	"Analizando fallo de funcionamiento. Sigue protegiendo la Nave nodriza hasta que se resuelva el problema.",
	"Stiamo analizzando il malfunzionamento: continua a proteggere l'Astronave Madre fino a quando non avremo trovato una soluzione.", };

static char *LSTRING_FINewResearch[] = {  // multilingual strings
	"We have never had to combat so many fighter craft before.  Our Research division has determined that it can design a new type of Corvette specially suited to combat multiple fighters.  Begin Research as soon as possible.",
	"Jamais n'avons nous dû affronter autant de chasseurs. Notre Service de recherche a établi la faisabilité d'un nouveau type de Corvette adapté au combat contre de multiples chasseurs.  Lancez cette recherche dès que possible.",
	"Wir mussten uns noch nie so vielen Jägern gleichzeitig stellen. Unsere Forschungsabteilung hat festgestellt, dass sie einen neuen Korvettentyp entwickeln kann, der speziell für den Kampf gegen mehrere Jäger ausgelegt ist. Beginnen Sie so schnell wie möglich mit den Forschungsarbeiten.",
	"Nunca habíamos tenido que enfrentarnos a tantos cazas juntos. Nuestra división de investigación ha determinado que puede diseñar un nuevo tipo de corbeta concebida especialmente para combatir a varios cazas. La investigación debe comenzar cuanto antes.",
	"Non abbiamo mai dovuto combattere con così tanti caccia prima d'ora. I nostri ricercatori pensano di poter creare un nuovo tipo di Corvetta, dedicata al combattimento contro nemici multipli. Comincia le ricerche il prima possibile.", };

static char *LSTRING_FIProtectResources[] = {  // multilingual strings
	"Enemy forces are concentrating on our Resource Collectors.  Allocate combat vessels to protect them.",
	"Les forces ennemies se concentrent sur nos Collecteurs de Ressources.  Affectez des unités de combat à leur protection.",
	"Feindliche Kräfte konzentrieren sich auf unsere Rohstoffernteschiffe. Setzen Sie Kampfschiffe zu ihrem Schutz ein.",
	"Las fuerzas enemigas se concentran en nuestros recolectores de recursos. Asigna naves de combate a su protección.",
	"Le forze nemiche si stanno concentrando intorno ai nostri Collettori di Ricerca: disponi le forze in modo da proteggerli.", };

static char *LSTRING_FCHyperspaceBack[] = {  // multilingual strings
	"The Hyperdrive is back on-line.",
	"L'hyperpropulsion est de nouveau opérationnelle.",
	"Das Hypersprung-Aggregat ist wieder online.",
	"Ya funciona la hiperpropulsión.",
	"L'Iperguida è di nuovo operativa.", };

static char *LSTRING_FIJumpAway[] = {  // multilingual strings
	"Let's put these fanatics behind us.",
	"Semons ces fanatiques.",
	"Nichts wie weg von diesen Irren.",
	"Alejémonos de esos fanáticos.",
	"Lasciamoci alle spalle questi pazzi.", };

static char *LSTRING_TBHyperspace[] = {  // multilingual strings
	"                HYPERSPACE",
	"                HYPERESPACE",
	"        HYPERRAUMSPRUNG",
	"              HIPERESPACIO",
	"				IPERSPAZIO", };

static char *LSTRING_OBDefendFleet[] = {  // multilingual strings
	"Defend Fleet",
	"Défendre la Flotte",
	"Flotte schützen.",
	"Defiende la flota",
	"Difendi la flotta", };

static char *LSTRING_OBHarvestNebula[] = {  // multilingual strings
	"Harvest Nebula",
	"Collecter des ressources au sein de la Nébuleuse",
	"Rohstoffe in Nebelwolke ernten.",
	"Recolecta nebulosas",
	"Raccogli le risorse nella nebulosa", };

static char *LSTRING_OBProtect[] = {  // multilingual strings
	"Protect Resourcers",
	"Protéger les collecteurs de ressources",
	"Rohstoffschiffe schützen.",
	"Protege los recursos",
	"Proteggi le risorse", };

static char *LSTRING_LevelSave[] = {  // multilingual strings
	"07 - The Gardens of Kadesh",
	"07 - Jardins de Kadesh",
	"07 – Die Gärten von Kadesh",
	"07 - Los jardines de Kadesh",
	"07 - I giardini di Kadesh", };

//
//  "initialize" code for Mission07 HonourGuardSwarm FSM
//
void Init_Mission07_HonourGuardSwarm(void)
{
	CurrentMissionScope = KAS_SCOPE_FSM;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfVarCreateSet("DockCount", 0), 0);
	(sdword)(kasfVarCreateSet("PodCount", 1), 0);
	if ((sdword)kasfThisTeamIs(kasAITeamPtr("HighGuardSwarmers1")))
	{
	kasJump("WaitingLeader", Init_Mission07_HonourGuardSwarm_WaitingLeader, Watch_Mission07_HonourGuardSwarm_WaitingLeader);
	return;
	}
	else if ((sdword)kasfThisTeamIs(kasAITeamPtr("HighGuardSwarmers2")))
	{
	kasJump("Waiting", Init_Mission07_HonourGuardSwarm_Waiting, Watch_Mission07_HonourGuardSwarm_Waiting);
	return;
	}
	
}


//
//  "watch" code for Mission07 HonourGuardSwarm FSM
//
void Watch_Mission07_HonourGuardSwarm(void)
{
	CurrentMissionScope = KAS_SCOPE_FSM;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if (!kasfVarValueGet("_VIFONCE001") && ((sdword)kasfTeamCount() == 0)) // "ifonce" #1
	{
	kasfVarCreateSet("_VIFONCE001", 1);
	kasJump("NullState", Init_Mission07_HonourGuardSwarm_NullState, Watch_Mission07_HonourGuardSwarm_NullState);
	return;
	}
	
}


//
//  "initialize" code for Mission07 HonourGuardSwarm Waiting state
//
void Init_Mission07_HonourGuardSwarm_Waiting(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "watch" code for Mission07 HonourGuardSwarm Waiting state
//
void Watch_Mission07_HonourGuardSwarm_Waiting(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((sdword)kasfMsgReceived("HonourAttack"))
	{
	kasJump("WaitingLeader", Init_Mission07_HonourGuardSwarm_WaitingLeader, Watch_Mission07_HonourGuardSwarm_WaitingLeader);
	return;
	}
	
}


//
//  "initialize" code for Mission07 HonourGuardSwarm WaitingLeader state
//
void Init_Mission07_HonourGuardSwarm_WaitingLeader(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "watch" code for Mission07 HonourGuardSwarm WaitingLeader state
//
void Watch_Mission07_HonourGuardSwarm_WaitingLeader(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((sdword)kasfFindEnemiesInside(kasVolumePtr("CheckVolume"), kasGrowSelectionPtr("Invaders"), 4000))
	{
	kasJump("Attack", Init_Mission07_HonourGuardSwarm_Attack, Watch_Mission07_HonourGuardSwarm_Attack);
	return;
	}
	
}


//
//  "initialize" code for Mission07 HonourGuardSwarm Attack state
//
void Init_Mission07_HonourGuardSwarm_Attack(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfTacticsAggressive(), 0);
	(sdword)(kasfAttack(kasGrowSelectionPtr("Invaders")), 0);
	
}


//
//  "watch" code for Mission07 HonourGuardSwarm Attack state
//
void Watch_Mission07_HonourGuardSwarm_Attack(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((sdword)kasfTimerExpiredDestroy("DockTimer"))
	{
	kasJump("Dock", Init_Mission07_HonourGuardSwarm_Dock, Watch_Mission07_HonourGuardSwarm_Dock);
	return;
	}
	if (!(sdword)kasfTimerRemaining("DockTimer") && (((sdword)kasfShipsCount(kasGrowSelectionPtr("Invaders")) == 0) || ((sdword)kasfTeamFuelLowest() < 25)))
	{
	(sdword)(kasfTimerCreateSetStart("DockTimer", 3), 0);
	(sdword)(kasfMsgSendAll("HonourAttack"), 0);
	}
	
}


//
//  "initialize" code for Mission07 HonourGuardSwarm Dock state
//
void Init_Mission07_HonourGuardSwarm_Dock(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if (((sdword)kasfShipsCount(kasAITeamShipsPtr("HighGuardFuelPod1"))) && ((sdword)kasfShipsCount(kasAITeamShipsPtr("HighGuardFuelPod2"))))
	{
	(sdword)kasfShipsAdd(kasGrowSelectionPtr("DockShips"), kasAITeamShipsPtr("HighGuardFuelPod1"));
	(sdword)kasfShipsAdd(kasGrowSelectionPtr("DockShips"), kasAITeamShipsPtr("HighGuardFuelPod2"));
	(sdword)(kasfShipsDockSupportWith((&kasThisTeamPtr->shipList), kasGrowSelectionPtr("DockShips")), 0);
	}
	else if ((sdword)kasfShipsCount(kasAITeamShipsPtr("HighGuardFuelPod1")))
	{
	(sdword)(kasfDockSupportWith(kasAITeamPtr("HighGuardFuelPod1")), 0);
	}
	else if ((sdword)kasfShipsCount(kasAITeamShipsPtr("HighGuardFuelPod2")))
	{
	(sdword)(kasfDockSupportWith(kasAITeamPtr("HighGuardFuelPod2")), 0);
	}
	else
	{
	}
	
}


//
//  "watch" code for Mission07 HonourGuardSwarm Dock state
//
void Watch_Mission07_HonourGuardSwarm_Dock(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if (!(sdword)kasfTeamDocking())
	{
	kasJump("Waiting", Init_Mission07_HonourGuardSwarm_Waiting, Watch_Mission07_HonourGuardSwarm_Waiting);
	return;
	}
	
}


//
//  "initialize" code for Mission07 HonourGuardSwarm NullState state
//
void Init_Mission07_HonourGuardSwarm_NullState(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "watch" code for Mission07 HonourGuardSwarm NullState state
//
void Watch_Mission07_HonourGuardSwarm_NullState(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "initialize" code for Mission07 GenericSwarmAttack FSM
//
void Init_Mission07_GenericSwarmAttack(void)
{
	CurrentMissionScope = KAS_SCOPE_FSM;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)kasfShipsAdd(kasGrowSelectionPtr("GenericSwarmers"), (&kasThisTeamPtr->shipList));
	(sdword)(kasfTeamGiveToAI(), 0);
	kasJump("NullState", Init_Mission07_GenericSwarmAttack_NullState, Watch_Mission07_GenericSwarmAttack_NullState);
	return;
	
}


//
//  "watch" code for Mission07 GenericSwarmAttack FSM
//
void Watch_Mission07_GenericSwarmAttack(void)
{
	CurrentMissionScope = KAS_SCOPE_FSM;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "initialize" code for Mission07 GenericSwarmAttack NullState state
//
void Init_Mission07_GenericSwarmAttack_NullState(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "watch" code for Mission07 GenericSwarmAttack NullState state
//
void Watch_Mission07_GenericSwarmAttack_NullState(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "initialize" code for Mission07 GenericMothershipSwarm FSM
//
void Init_Mission07_GenericMothershipSwarm(void)
{
	CurrentMissionScope = KAS_SCOPE_FSM;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfVarCreateSet("DeadMoSwarmers", 0), 0);
	(sdword)kasfShipsAdd(kasGrowSelectionPtr("MothershipSwarm"), (&kasThisTeamPtr->shipList));
	(sdword)(kasfVarCreateSet("LastMoSwarmers", (sdword)kasfShipsCount(kasGrowSelectionPtr("MothershipSwarm"))), 0);
	(sdword)kasfFindEnemyShipsOfType(kasGrowSelectionPtr("Temp"), "Mothership");
	(sdword)kasfFindEnemiesNearby(kasGrowSelectionPtr("Temp"), 10000);
	(sdword)kasfShipsSelectType(kasGrowSelectionPtr("Moship"), kasGrowSelectionPtr("Temp"), "Mothership");
	(sdword)kasfShipsRemove(kasGrowSelectionPtr("Temp"), kasGrowSelectionPtr("Moship"));
	if (((sdword)kasfShipsSelectClass(kasGrowSelectionPtr("Targets"), kasGrowSelectionPtr("Temp"), "CLASS_Fighter")) || ((sdword)kasfShipsSelectClass(kasGrowSelectionPtr("Targets"), kasGrowSelectionPtr("Temp"), "CLASS_Corvette")) || ((sdword)kasfShipsSelectCapital(kasGrowSelectionPtr("Targets"), kasGrowSelectionPtr("Temp"))) || ((sdword)kasfShipsSelectClass(kasGrowSelectionPtr("Targets"), kasGrowSelectionPtr("Temp"), "CLASS_Resource")) || ((sdword)kasfShipsSelectClass(kasGrowSelectionPtr("Targets"), kasGrowSelectionPtr("Temp"), "CLASS_NonCombat")))
	{
	if ((sdword)kasfShipsSelectType(kasGrowSelectionPtr("Field"), kasGrowSelectionPtr("Targets"), "DFGFrigate"))
	{
	(sdword)kasfShipsRemove(kasGrowSelectionPtr("Targets"), kasGrowSelectionPtr("Field"));
	if (!(sdword)kasfShipsCount(kasGrowSelectionPtr("Targets")))
	{
	if ((sdword)kasfShipsSelectClass(kasGrowSelectionPtr("Targets"), kasGrowSelectionPtr("Temp"), "CLASS_Resource") || (sdword)kasfShipsSelectClass(kasGrowSelectionPtr("Targets"), kasGrowSelectionPtr("Temp"), "CLASS_NonCombat"))
	{
	}
	}
	}
	if ((sdword)kasfShipsSelectDamaged(kasGrowSelectionPtr("Damaged"), kasGrowSelectionPtr("Targets"), 50) || (sdword)kasfShipsSelectDamaged(kasGrowSelectionPtr("Damaged"), kasGrowSelectionPtr("Targets"), 90))
	{
	(sdword)(kasfGrowSelectionClear(kasGrowSelectionPtr("Targets")), 0);
	(sdword)kasfShipsAdd(kasGrowSelectionPtr("Targets"), kasGrowSelectionPtr("Damaged"));
	}
	(sdword)(kasfSetSwarmerTargets(kasGrowSelectionPtr("Targets")), 0);
	}
	(sdword)(kasfTeamGiveToAI(), 0);
	kasJump("NullState", Init_Mission07_GenericMothershipSwarm_NullState, Watch_Mission07_GenericMothershipSwarm_NullState);
	return;
	
}


//
//  "watch" code for Mission07 GenericMothershipSwarm FSM
//
void Watch_Mission07_GenericMothershipSwarm(void)
{
	CurrentMissionScope = KAS_SCOPE_FSM;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((sdword)kasfShipsCount(kasGrowSelectionPtr("MothershipSwarm")) < (sdword)kasfVarValueGet("LastMoSwarmers"))
	{
	(sdword)(kasfVarValueSet("DeadMoSwarmers", (sdword)kasfVarValueGet("DeadMoSwarmers") + ((sdword)kasfVarValueGet("LastMoSwarmers") - (sdword)kasfShipsCount(kasGrowSelectionPtr("MothershipSwarm")))), 0);
	(sdword)(kasfVarValueSet("LastMoSwarmers", (sdword)kasfShipsCount(kasGrowSelectionPtr("MothershipSwarm"))), 0);
	}
	if (!kasfVarValueGet("_VIFONCE002") && ((sdword)kasfShipsCount(kasGrowSelectionPtr("MothershipSwarm")) < (sdword)kasfVarValueGet("DeadMoSwarmers"))) // "ifonce" #2
	{
	kasfVarCreateSet("_VIFONCE002", 1);
	(sdword)(kasfMsgSend(kasAITeamPtr("P2Mothership"), "MoSwarmersInTrouble"), 0);
	(sdword)(kasfMsgSend(kasAITeamPtr("Dummy1"), "MoSwarmersInTrouble"), 0);
	}
	if (!kasfVarValueGet("_VIFONCE003") && (!(sdword)kasfShipsCount(kasGrowSelectionPtr("MothershipSwarm")))) // "ifonce" #3
	{
	kasfVarCreateSet("_VIFONCE003", 1);
	(sdword)(kasfMsgSend(kasAITeamPtr("P2Mothership"), "MoSwarmersDead"), 0);
	}
	
}


//
//  "initialize" code for Mission07 GenericMothershipSwarm NullState state
//
void Init_Mission07_GenericMothershipSwarm_NullState(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "watch" code for Mission07 GenericMothershipSwarm NullState state
//
void Watch_Mission07_GenericMothershipSwarm_NullState(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "initialize" code for Mission07 GenericResourcerSwarm FSM
//
void Init_Mission07_GenericResourcerSwarm(void)
{
	CurrentMissionScope = KAS_SCOPE_FSM;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfVarCreateSet("DeadResSwarmers", 0), 0);
	(sdword)kasfShipsAdd(kasGrowSelectionPtr("ResourcerSwarm"), (&kasThisTeamPtr->shipList));
	(sdword)(kasfVarCreateSet("LastResSwarmers", (sdword)kasfShipsCount(kasGrowSelectionPtr("ResourcerSwarm"))), 0);
	if ((sdword)kasfFindEnemyShipsOfType(kasGrowSelectionPtr("Coll"), "ResourceCollector"))
	{
	(sdword)(kasfVarCreateSet("TakingResourcers", 1), 0);
	}
	else
	{
	(sdword)kasfFindEnemyShipsOfType(kasGrowSelectionPtr("Coll"), "ResourceController");
	}
	(sdword)(kasfTimerCreateSetStart("ResSwarm", 40), 0);
	kasJump("MoveToTarget", Init_Mission07_GenericResourcerSwarm_MoveToTarget, Watch_Mission07_GenericResourcerSwarm_MoveToTarget);
	return;
	
}


//
//  "watch" code for Mission07 GenericResourcerSwarm FSM
//
void Watch_Mission07_GenericResourcerSwarm(void)
{
	CurrentMissionScope = KAS_SCOPE_FSM;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((sdword)kasfShipsCount(kasGrowSelectionPtr("ResourcerSwarm")) < (sdword)kasfVarValueGet("LastResSwarmers"))
	{
	(sdword)(kasfVarValueSet("DeadResSwarmers", (sdword)kasfVarValueGet("DeadResSwarmers") + ((sdword)kasfVarValueGet("LastResSwarmers") - (sdword)kasfShipsCount(kasGrowSelectionPtr("ResourcerSwarm")))), 0);
	(sdword)(kasfVarValueSet("LastResSwarmers", (sdword)kasfShipsCount(kasGrowSelectionPtr("ResourcerSwarm"))), 0);
	}
	if (!kasfVarValueGet("_VIFONCE004") && ((sdword)kasfShipsCount(kasGrowSelectionPtr("ResourcerSwarm")) < (sdword)kasfVarValueGet("DeadResSwarmers"))) // "ifonce" #4
	{
	kasfVarCreateSet("_VIFONCE004", 1);
	(sdword)(kasfMsgSend(kasAITeamPtr("P2Mothership"), "ResSwarmersInTrouble"), 0);
	(sdword)(kasfMsgSend(kasAITeamPtr("Dummy1"), "ResSwarmersInTrouble"), 0);
	}
	if (!kasfVarValueGet("_VIFONCE005") && (!(sdword)kasfShipsCount(kasGrowSelectionPtr("ResourcerSwarm")))) // "ifonce" #5
	{
	kasfVarCreateSet("_VIFONCE005", 1);
	(sdword)(kasfMsgSend(kasAITeamPtr("P2Mothership"), "ResSwarmersDead"), 0);
	}
	
}


//
//  "initialize" code for Mission07 GenericResourcerSwarm MoveToTarget state
//
void Init_Mission07_GenericResourcerSwarm_MoveToTarget(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfSwarmMoveTo(kasGrowSelectionPtr("Coll")), 0);
	
}


//
//  "watch" code for Mission07 GenericResourcerSwarm MoveToTarget state
//
void Watch_Mission07_GenericResourcerSwarm_MoveToTarget(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((sdword)kasfTimerExpiredDestroy("ResSwarm"))
	{
	if ((sdword)kasfVarValueGet("TakingResourcers"))
	{
	(sdword)(kasfMsgSendAll("ImTakingTheResourcers"), 0);
	}
	(sdword)(kasfStop(), 0);
	(sdword)(kasfSetSwarmerTargets(kasGrowSelectionPtr("Coll")), 0);
	(sdword)(kasfTeamGiveToAI(), 0);
	kasJump("NullState", Init_Mission07_GenericResourcerSwarm_NullState, Watch_Mission07_GenericResourcerSwarm_NullState);
	return;
	}
	
}


//
//  "initialize" code for Mission07 GenericResourcerSwarm NullState state
//
void Init_Mission07_GenericResourcerSwarm_NullState(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "watch" code for Mission07 GenericResourcerSwarm NullState state
//
void Watch_Mission07_GenericResourcerSwarm_NullState(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "initialize" code for Mission07 ResourceDefenderSwarm FSM
//
void Init_Mission07_ResourceDefenderSwarm(void)
{
	CurrentMissionScope = KAS_SCOPE_FSM;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfVarCreateSet("DeadResDefSwarmers", 0), 0);
	(sdword)kasfShipsAdd(kasGrowSelectionPtr("ResourceDefSwarm"), (&kasThisTeamPtr->shipList));
	(sdword)(kasfVarCreateSet("LastResDefSwarmers", (sdword)kasfShipsCount(kasGrowSelectionPtr("ResourceDefSwarm"))), 0);
	if (((sdword)kasfFindEnemyShipsOfType(kasGrowSelectionPtr("Temp1"), "ResourceController")) || ((sdword)kasfFindEnemyShipsOfType(kasGrowSelectionPtr("Temp2"), "ResourceCollector")))
	{
	(sdword)kasfShipsAdd(kasGrowSelectionPtr("Resource"), kasGrowSelectionPtr("Temp1"));
	(sdword)kasfShipsAdd(kasGrowSelectionPtr("Resource"), kasGrowSelectionPtr("Temp2"));
	(sdword)kasfShipsAdd(kasGrowSelectionPtr("Defenders"), kasGrowSelectionPtr("Resource"));
	(sdword)kasfFindEnemiesNearby(kasGrowSelectionPtr("Defenders"), 5000);
	(sdword)kasfShipsRemove(kasGrowSelectionPtr("Defenders"), kasGrowSelectionPtr("Temp"));
	}
	(sdword)(kasfTimerCreateSetStart("ResDefSwarm", 20), 0);
	kasJump("MoveToTarget", Init_Mission07_ResourceDefenderSwarm_MoveToTarget, Watch_Mission07_ResourceDefenderSwarm_MoveToTarget);
	return;
	
}


//
//  "watch" code for Mission07 ResourceDefenderSwarm FSM
//
void Watch_Mission07_ResourceDefenderSwarm(void)
{
	CurrentMissionScope = KAS_SCOPE_FSM;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((sdword)kasfShipsCount(kasGrowSelectionPtr("ResourceDefSwarm")) < (sdword)kasfVarValueGet("LastResDefSwarmers"))
	{
	(sdword)(kasfVarValueSet("DeadResDefSwarmers", (sdword)kasfVarValueGet("DeadResSwarmers") + ((sdword)kasfVarValueGet("LastResSwarmers") - (sdword)kasfShipsCount(kasGrowSelectionPtr("ResourceDefSwarm")))), 0);
	(sdword)(kasfVarValueSet("LastResDefSwarmers", (sdword)kasfShipsCount(kasGrowSelectionPtr("ResourceDefSwarm"))), 0);
	}
	if (!kasfVarValueGet("_VIFONCE006") && ((sdword)kasfShipsCount(kasGrowSelectionPtr("ResourceDefSwarm")) < (sdword)kasfVarValueGet("DeadResDefSwarmers"))) // "ifonce" #6
	{
	kasfVarCreateSet("_VIFONCE006", 1);
	(sdword)(kasfMsgSend(kasAITeamPtr("P2Mothership"), "ResDefSwarmersInTrouble"), 0);
	(sdword)(kasfMsgSend(kasAITeamPtr("Dummy1"), "ResDefSwarmersInTrouble"), 0);
	}
	if (!kasfVarValueGet("_VIFONCE007") && (!(sdword)kasfShipsCount(kasGrowSelectionPtr("ResourceDefSwarm")))) // "ifonce" #7
	{
	kasfVarCreateSet("_VIFONCE007", 1);
	(sdword)(kasfMsgSend(kasAITeamPtr("P2Mothership"), "ResDefSwarmersDead"), 0);
	}
	
}


//
//  "initialize" code for Mission07 ResourceDefenderSwarm MoveToTarget state
//
void Init_Mission07_ResourceDefenderSwarm_MoveToTarget(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfSwarmMoveTo(kasGrowSelectionPtr("Defenders")), 0);
	
}


//
//  "watch" code for Mission07 ResourceDefenderSwarm MoveToTarget state
//
void Watch_Mission07_ResourceDefenderSwarm_MoveToTarget(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((sdword)kasfTimerExpiredDestroy("ResDefSwarm"))
	{
	(sdword)(kasfStop(), 0);
	(sdword)(kasfSetSwarmerTargets(kasGrowSelectionPtr("Defenders")), 0);
	(sdword)(kasfTeamGiveToAI(), 0);
	kasJump("NullState", Init_Mission07_ResourceDefenderSwarm_NullState, Watch_Mission07_ResourceDefenderSwarm_NullState);
	return;
	}
	
}


//
//  "initialize" code for Mission07 ResourceDefenderSwarm NullState state
//
void Init_Mission07_ResourceDefenderSwarm_NullState(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "watch" code for Mission07 ResourceDefenderSwarm NullState state
//
void Watch_Mission07_ResourceDefenderSwarm_NullState(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "initialize" code for Mission07 DefendMothership FSM
//
void Init_Mission07_DefendMothership(void)
{
	CurrentMissionScope = KAS_SCOPE_FSM;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)kasfUnderAttackElsewhere(kasAITeamPtr("P2Mothership"), kasGrowSelectionPtr("Attackers"));
	(sdword)(kasfSetSwarmerTargets(kasGrowSelectionPtr("Attackers")), 0);
	(sdword)kasfShipsAdd(kasGrowSelectionPtr("DefendMothership"), (&kasThisTeamPtr->shipList));
	(sdword)(kasfTeamGiveToAI(), 0);
	kasJump("NullState", Init_Mission07_DefendMothership_NullState, Watch_Mission07_DefendMothership_NullState);
	return;
	
}


//
//  "watch" code for Mission07 DefendMothership FSM
//
void Watch_Mission07_DefendMothership(void)
{
	CurrentMissionScope = KAS_SCOPE_FSM;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if (!kasfVarValueGet("_VIFONCE008") && ((sdword)kasfTeamCount() == 0)) // "ifonce" #8
	{
	kasfVarCreateSet("_VIFONCE008", 1);
	kasJump("NullState", Init_Mission07_DefendMothership_NullState, Watch_Mission07_DefendMothership_NullState);
	return;
	}
	
}


//
//  "initialize" code for Mission07 DefendMothership NullState state
//
void Init_Mission07_DefendMothership_NullState(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "watch" code for Mission07 DefendMothership NullState state
//
void Watch_Mission07_DefendMothership_NullState(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "initialize" code for Mission07 IntroAttack FSM
//
void Init_Mission07_IntroAttack(void)
{
	CurrentMissionScope = KAS_SCOPE_FSM;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfShipsSetNonRetaliation((&kasThisTeamPtr->shipList)), 0);
	kasJump("GetStarted", Init_Mission07_IntroAttack_GetStarted, Watch_Mission07_IntroAttack_GetStarted);
	return;
	
}


//
//  "watch" code for Mission07 IntroAttack FSM
//
void Watch_Mission07_IntroAttack(void)
{
	CurrentMissionScope = KAS_SCOPE_FSM;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if (!kasfVarValueGet("_VIFONCE009") && ((sdword)kasfTeamCount() == 0)) // "ifonce" #9
	{
	kasfVarCreateSet("_VIFONCE009", 1);
	kasJump("NullState", Init_Mission07_IntroAttack_NullState, Watch_Mission07_IntroAttack_NullState);
	return;
	}
	
}


//
//  "initialize" code for Mission07 IntroAttack GetStarted state
//
void Init_Mission07_IntroAttack_GetStarted(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfAttackMothership(), 0);
	
}


//
//  "watch" code for Mission07 IntroAttack GetStarted state
//
void Watch_Mission07_IntroAttack_GetStarted(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((sdword)kasfNearby(kasVectorPtr("StartPointPlayer"), 10000))
	{
	kasJump("WaitForAttack", Init_Mission07_IntroAttack_WaitForAttack, Watch_Mission07_IntroAttack_WaitForAttack);
	return;
	}
	if ((sdword)kasfMsgReceived("Attack"))
	{
	(sdword)(kasfStop(), 0);
	(sdword)(kasfShipsSetRetaliation((&kasThisTeamPtr->shipList)), 0);
	kasFSMCreate("GenericMothershipSwarm", Init_Mission07_GenericMothershipSwarm, Watch_Mission07_GenericMothershipSwarm, kasThisTeamPtr);
	}
	if ((sdword)kasfUnderAttack(kasGrowSelectionPtr("PartyPoopers")))
	{
	(sdword)(kasfStop(), 0);
	(sdword)(kasfShipsSetRetaliation((&kasThisTeamPtr->shipList)), 0);
	(sdword)(kasfMsgSend(kasAITeamPtr("Dummy1"), "UnderAttack"), 0);
	kasFSMCreate("GenericMothershipSwarm", Init_Mission07_GenericMothershipSwarm, Watch_Mission07_GenericMothershipSwarm, kasThisTeamPtr);
	}
	
}


//
//  "initialize" code for Mission07 IntroAttack WaitForAttack state
//
void Init_Mission07_IntroAttack_WaitForAttack(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfMsgSend(kasAITeamPtr("Dummy1"), "Stopped"), 0);
	(sdword)(kasfStop(), 0);
	
}


//
//  "watch" code for Mission07 IntroAttack WaitForAttack state
//
void Watch_Mission07_IntroAttack_WaitForAttack(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((sdword)kasfMsgReceived("Attack"))
	{
	(sdword)(kasfShipsSetRetaliation((&kasThisTeamPtr->shipList)), 0);
	kasFSMCreate("GenericMothershipSwarm", Init_Mission07_GenericMothershipSwarm, Watch_Mission07_GenericMothershipSwarm, kasThisTeamPtr);
	}
	if ((sdword)kasfUnderAttack(kasGrowSelectionPtr("PartyPoopers")))
	{
	(sdword)(kasfShipsSetRetaliation((&kasThisTeamPtr->shipList)), 0);
	(sdword)(kasfMsgSendAll("Attack"), 0);
	(sdword)(kasfMsgSend(kasAITeamPtr("Dummy1"), "UnderAttack"), 0);
	kasFSMCreate("GenericMothershipSwarm", Init_Mission07_GenericMothershipSwarm, Watch_Mission07_GenericMothershipSwarm, kasThisTeamPtr);
	}
	
}


//
//  "initialize" code for Mission07 IntroAttack NullState state
//
void Init_Mission07_IntroAttack_NullState(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "watch" code for Mission07 IntroAttack NullState state
//
void Watch_Mission07_IntroAttack_NullState(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "initialize" code for Mission07 PreAttackPod FSM
//
void Init_Mission07_PreAttackPod(void)
{
	CurrentMissionScope = KAS_SCOPE_FSM;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	kasJump("Dock", Init_Mission07_PreAttackPod_Dock, Watch_Mission07_PreAttackPod_Dock);
	return;
	
}


//
//  "watch" code for Mission07 PreAttackPod FSM
//
void Watch_Mission07_PreAttackPod(void)
{
	CurrentMissionScope = KAS_SCOPE_FSM;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((sdword)kasfMsgReceived("DockNow"))
	{
	kasJump("NullState", Init_Mission07_PreAttackPod_NullState, Watch_Mission07_PreAttackPod_NullState);
	return;
	}
	
}


//
//  "initialize" code for Mission07 PreAttackPod Dock state
//
void Init_Mission07_PreAttackPod_Dock(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfTeamHyperspaceOut(), 0);
	
}


//
//  "watch" code for Mission07 PreAttackPod Dock state
//
void Watch_Mission07_PreAttackPod_Dock(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((sdword)kasfMsgReceived("DefendMothership"))
	{
	(sdword)(kasfVarCreateSet("DefendMothership", 1), 0);
	kasJump("WaitToLaunch", Init_Mission07_PreAttackPod_WaitToLaunch, Watch_Mission07_PreAttackPod_WaitToLaunch);
	return;
	}
	else if ((sdword)kasfMsgReceived("MothershipSwarm"))
	{
	(sdword)(kasfVarCreateSet("MothershipSwarm", 1), 0);
	kasJump("WaitToLaunch", Init_Mission07_PreAttackPod_WaitToLaunch, Watch_Mission07_PreAttackPod_WaitToLaunch);
	return;
	}
	else if ((sdword)kasfMsgReceived("ResourceSwarm"))
	{
	(sdword)(kasfVarCreateSet("ResourceSwarm", 1), 0);
	kasJump("WaitToLaunch", Init_Mission07_PreAttackPod_WaitToLaunch, Watch_Mission07_PreAttackPod_WaitToLaunch);
	return;
	}
	else if ((sdword)kasfMsgReceived("ResourceDefenderSwarm"))
	{
	(sdword)(kasfVarCreateSet("ResourceDefenderSwarm", 1), 0);
	kasJump("WaitToLaunch", Init_Mission07_PreAttackPod_WaitToLaunch, Watch_Mission07_PreAttackPod_WaitToLaunch);
	return;
	}
	else if ((sdword)kasfMsgReceived("IntroAttack"))
	{
	(sdword)(kasfVarCreateSet("IntroAttack", 1), 0);
	kasJump("WaitToLaunch", Init_Mission07_PreAttackPod_WaitToLaunch, Watch_Mission07_PreAttackPod_WaitToLaunch);
	return;
	}
	
}


//
//  "initialize" code for Mission07 PreAttackPod WaitToLaunch state
//
void Init_Mission07_PreAttackPod_WaitToLaunch(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfTimerCreateSetStart("WaitToLaunch", 5), 0);
	
}


//
//  "watch" code for Mission07 PreAttackPod WaitToLaunch state
//
void Watch_Mission07_PreAttackPod_WaitToLaunch(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((sdword)kasfTimerExpiredDestroy("WaitToLaunch"))
	{
	kasJump("Launch", Init_Mission07_PreAttackPod_Launch, Watch_Mission07_PreAttackPod_Launch);
	return;
	}
	
}


//
//  "initialize" code for Mission07 PreAttackPod Launch state
//
void Init_Mission07_PreAttackPod_Launch(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfTeamHyperspaceInNear(kasTeamsVectorPtr("MsgSender"), 1000), 0);
	(sdword)(kasfTimerCreateSetStart("GiveToAI", 10), 0);
	
}


//
//  "watch" code for Mission07 PreAttackPod Launch state
//
void Watch_Mission07_PreAttackPod_Launch(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((sdword)kasfTimerExpiredDestroy("GiveToAI"))
	{
	kasJump("GetOrders", Init_Mission07_PreAttackPod_GetOrders, Watch_Mission07_PreAttackPod_GetOrders);
	return;
	}
	
}


//
//  "initialize" code for Mission07 PreAttackPod GetOrders state
//
void Init_Mission07_PreAttackPod_GetOrders(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((sdword)kasfVarValueGet("DefendMothership"))
	{
	kasFSMCreate("DefendMothership", Init_Mission07_DefendMothership, Watch_Mission07_DefendMothership, kasThisTeamPtr);
	}
	else if ((sdword)kasfVarValueGet("MothershipSwarm"))
	{
	kasFSMCreate("GenericMothershipSwarm", Init_Mission07_GenericMothershipSwarm, Watch_Mission07_GenericMothershipSwarm, kasThisTeamPtr);
	}
	else if ((sdword)kasfVarValueGet("ResourceSwarm"))
	{
	kasFSMCreate("GenericResourcerSwarm", Init_Mission07_GenericResourcerSwarm, Watch_Mission07_GenericResourcerSwarm, kasThisTeamPtr);
	}
	else if ((sdword)kasfVarValueGet("ResourceDefenderSwarm"))
	{
	kasFSMCreate("ResourceDefenderSwarm", Init_Mission07_ResourceDefenderSwarm, Watch_Mission07_ResourceDefenderSwarm, kasThisTeamPtr);
	}
	else if ((sdword)kasfVarValueGet("IntroAttack"))
	{
	kasFSMCreate("IntroAttack", Init_Mission07_IntroAttack, Watch_Mission07_IntroAttack, kasThisTeamPtr);
	}
	
}


//
//  "watch" code for Mission07 PreAttackPod GetOrders state
//
void Watch_Mission07_PreAttackPod_GetOrders(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "initialize" code for Mission07 PreAttackPod NullState state
//
void Init_Mission07_PreAttackPod_NullState(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "watch" code for Mission07 PreAttackPod NullState state
//
void Watch_Mission07_PreAttackPod_NullState(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((sdword)kasfShipsCount((&kasThisTeamPtr->shipList)) && (sdword)kasfMsgReceived("P2MothershipBlowin"))
	{
	(sdword)(kasfTeamHyperspaceOut(), 0);
	}
	
}


//
//  "initialize" code for Mission07 PreAttackSwarm FSM
//
void Init_Mission07_PreAttackSwarm(void)
{
	CurrentMissionScope = KAS_SCOPE_FSM;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	kasJump("Dock", Init_Mission07_PreAttackSwarm_Dock, Watch_Mission07_PreAttackSwarm_Dock);
	return;
	
}


//
//  "watch" code for Mission07 PreAttackSwarm FSM
//
void Watch_Mission07_PreAttackSwarm(void)
{
	CurrentMissionScope = KAS_SCOPE_FSM;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "initialize" code for Mission07 PreAttackSwarm Dock state
//
void Init_Mission07_PreAttackSwarm_Dock(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfDockInstant(kasAITeamPtr("P2Mothership")), 0);
	
}


//
//  "watch" code for Mission07 PreAttackSwarm Dock state
//
void Watch_Mission07_PreAttackSwarm_Dock(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((sdword)kasfMsgReceived("DefendMothership"))
	{
	(sdword)(kasfVarCreateSet("DefendMothership", 1), 0);
	kasJump("WaitToLaunch", Init_Mission07_PreAttackSwarm_WaitToLaunch, Watch_Mission07_PreAttackSwarm_WaitToLaunch);
	return;
	}
	else if ((sdword)kasfMsgReceived("MothershipSwarm"))
	{
	(sdword)(kasfVarCreateSet("MothershipSwarm", 1), 0);
	kasJump("WaitToLaunch", Init_Mission07_PreAttackSwarm_WaitToLaunch, Watch_Mission07_PreAttackSwarm_WaitToLaunch);
	return;
	}
	else if ((sdword)kasfMsgReceived("ResourceSwarm"))
	{
	(sdword)(kasfVarCreateSet("ResourceSwarm", 1), 0);
	kasJump("WaitToLaunch", Init_Mission07_PreAttackSwarm_WaitToLaunch, Watch_Mission07_PreAttackSwarm_WaitToLaunch);
	return;
	}
	else if ((sdword)kasfMsgReceived("ResourceDefenderSwarm"))
	{
	(sdword)(kasfVarCreateSet("ResourceDefenderSwarm", 1), 0);
	kasJump("WaitToLaunch", Init_Mission07_PreAttackSwarm_WaitToLaunch, Watch_Mission07_PreAttackSwarm_WaitToLaunch);
	return;
	}
	else if ((sdword)kasfMsgReceived("IntroAttack"))
	{
	(sdword)(kasfVarCreateSet("IntroAttack", 1), 0);
	kasJump("WaitToLaunch", Init_Mission07_PreAttackSwarm_WaitToLaunch, Watch_Mission07_PreAttackSwarm_WaitToLaunch);
	return;
	}
	if ((sdword)kasfMsgReceived("DockNow"))
	{
	kasJump("NullState", Init_Mission07_PreAttackSwarm_NullState, Watch_Mission07_PreAttackSwarm_NullState);
	return;
	}
	
}


//
//  "initialize" code for Mission07 PreAttackSwarm WaitToLaunch state
//
void Init_Mission07_PreAttackSwarm_WaitToLaunch(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfTimerCreateSetStart("WaitToLaunch", 5), 0);
	
}


//
//  "watch" code for Mission07 PreAttackSwarm WaitToLaunch state
//
void Watch_Mission07_PreAttackSwarm_WaitToLaunch(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((sdword)kasfTimerExpiredDestroy("WaitToLaunch"))
	{
	kasJump("Launch", Init_Mission07_PreAttackSwarm_Launch, Watch_Mission07_PreAttackSwarm_Launch);
	return;
	}
	
}


//
//  "initialize" code for Mission07 PreAttackSwarm Launch state
//
void Init_Mission07_PreAttackSwarm_Launch(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfLaunch(), 0);
	(sdword)(kasfTimerCreateSetStart("GiveToAI", 10), 0);
	
}


//
//  "watch" code for Mission07 PreAttackSwarm Launch state
//
void Watch_Mission07_PreAttackSwarm_Launch(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((sdword)kasfMsgReceived("DockNow"))
	{
	kasJump("DockAgain", Init_Mission07_PreAttackSwarm_DockAgain, Watch_Mission07_PreAttackSwarm_DockAgain);
	return;
	}
	if ((sdword)kasfTimerExpiredDestroy("GiveToAI"))
	{
	kasJump("GetOrders", Init_Mission07_PreAttackSwarm_GetOrders, Watch_Mission07_PreAttackSwarm_GetOrders);
	return;
	}
	
}


//
//  "initialize" code for Mission07 PreAttackSwarm DockAgain state
//
void Init_Mission07_PreAttackSwarm_DockAgain(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfDockStay(kasAITeamPtr("P2Mothership")), 0);
	
}


//
//  "watch" code for Mission07 PreAttackSwarm DockAgain state
//
void Watch_Mission07_PreAttackSwarm_DockAgain(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "initialize" code for Mission07 PreAttackSwarm GetOrders state
//
void Init_Mission07_PreAttackSwarm_GetOrders(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((sdword)kasfVarValueGet("DefendMothership"))
	{
	kasFSMCreate("DefendMothership", Init_Mission07_DefendMothership, Watch_Mission07_DefendMothership, kasThisTeamPtr);
	}
	else if ((sdword)kasfVarValueGet("MothershipSwarm"))
	{
	kasFSMCreate("GenericMothershipSwarm", Init_Mission07_GenericMothershipSwarm, Watch_Mission07_GenericMothershipSwarm, kasThisTeamPtr);
	}
	else if ((sdword)kasfVarValueGet("ResourceSwarm"))
	{
	kasFSMCreate("GenericResourcerSwarm", Init_Mission07_GenericResourcerSwarm, Watch_Mission07_GenericResourcerSwarm, kasThisTeamPtr);
	}
	else if ((sdword)kasfVarValueGet("ResourceDefenderSwarm"))
	{
	kasFSMCreate("ResourceDefenderSwarm", Init_Mission07_ResourceDefenderSwarm, Watch_Mission07_ResourceDefenderSwarm, kasThisTeamPtr);
	}
	else if ((sdword)kasfVarValueGet("IntroAttack"))
	{
	kasFSMCreate("IntroAttack", Init_Mission07_IntroAttack, Watch_Mission07_IntroAttack, kasThisTeamPtr);
	}
	
}


//
//  "watch" code for Mission07 PreAttackSwarm GetOrders state
//
void Watch_Mission07_PreAttackSwarm_GetOrders(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "initialize" code for Mission07 PreAttackSwarm NullState state
//
void Init_Mission07_PreAttackSwarm_NullState(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "watch" code for Mission07 PreAttackSwarm NullState state
//
void Watch_Mission07_PreAttackSwarm_NullState(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "initialize" code for Mission07 Events FSM
//
void Init_Mission07_Events(void)
{
	CurrentMissionScope = KAS_SCOPE_FSM;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfVarCreateSet("InNullState", 0), 0);
	(sdword)(kasfIntelEventNotEnded(), 0);
	kasJump("LocationCard", Init_Mission07_Events_LocationCard, Watch_Mission07_Events_LocationCard);
	return;
	
}


//
//  "watch" code for Mission07 Events FSM
//
void Watch_Mission07_Events(void)
{
	CurrentMissionScope = KAS_SCOPE_FSM;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if (!kasfVarValueGet("_VIFONCE010") && ((sdword)kasfVarValueGet("G_HarvestedRUs") > 600)) // "ifonce" #10
	{
	kasfVarCreateSet("_VIFONCE010", 1);
	(sdword)(kasfMsgSend(kasAITeamPtr("P2Mothership"), "MothershipComeOnIn"), 0);
	(sdword)(kasfVarValueSet("InNullState", 0), 0);
	kasJump("UnknownContactsWait", Init_Mission07_Events_UnknownContactsWait, Watch_Mission07_Events_UnknownContactsWait);
	return;
	}
	if (!kasfVarValueGet("_VIFONCE011") && ((sdword)kasfFindEnemyShipsOfType(kasGrowSelectionPtr("Stuff"), "HeavyCruiser"))) // "ifonce" #11
	{
	kasfVarCreateSet("_VIFONCE011", 1);
	(sdword)(kasfMsgSend(kasAITeamPtr("P2Mothership"), "MothershipComeOnIn"), 0);
	(sdword)(kasfVarValueSet("InNullState", 0), 0);
	kasJump("UnknownContactsWait", Init_Mission07_Events_UnknownContactsWait, Watch_Mission07_Events_UnknownContactsWait);
	return;
	}
	if (!kasfVarValueGet("_VIFONCE012") && (((sdword)kasfRUsEnemyCollected() > 1400))) // "ifonce" #12
	{
	kasfVarCreateSet("_VIFONCE012", 1);
	(sdword)(kasfObjectiveSet("Harvest", 1), 0);
	}
	if (!kasfVarValueGet("_VIFONCE013") && ((sdword)kasfMsgReceived("ImTakingTheResourcers"))) // "ifonce" #13
	{
	kasfVarCreateSet("_VIFONCE013", 1);
	(sdword)(kasfTimerCreateSetStart("Resourcers", (sdword)kasfRandom(20, 30)), 0);
	}
	if (!kasfVarValueGet("_VIFONCE014") && ((sdword)kasfMsgReceived("MoSwarmersInTrouble"))) // "ifonce" #14
	{
	kasfVarCreateSet("_VIFONCE014", 1);
	(sdword)(kasfTimerCreateSetStart("ResearchTimer", 45), 0);
	}
	if ((sdword)kasfVarValueGet("G_CLICK_Harvest"))
	{
	(sdword)(kasfVarDestroy("G_CLICK_Harvest"), 0);
	kasJump("NebulaRich", Init_Mission07_Events_NebulaRich, Watch_Mission07_Events_NebulaRich);
	return;
	}
	else if ((sdword)kasfVarValueGet("G_CLICK_DefendFleet"))
	{
	(sdword)(kasfVarDestroy("G_CLICK_DefendFleet"), 0);
	kasJump("DefendMothership", Init_Mission07_Events_DefendMothership, Watch_Mission07_Events_DefendMothership);
	return;
	}
	else if ((sdword)kasfVarValueGet("G_CLICK_ProtectResourcers"))
	{
	(sdword)(kasfVarDestroy("G_CLICK_ProtectResourcers"), 0);
	kasJump("ProtectResourcers", Init_Mission07_Events_ProtectResourcers, Watch_Mission07_Events_ProtectResourcers);
	return;
	}
	if ((sdword)kasfVarValueGet("InNullState") && !(sdword)kasfVarValueGet("InFinalState"))
	{
	if (!kasfVarValueGet("_VIFONCE015") && ((sdword)kasfTimerExpiredDestroy("ChargeUpTimer1"))) // "ifonce" #15
	{
	kasfVarCreateSet("_VIFONCE015", 1);
	(sdword)(kasfVarValueSet("InNullState", 0), 0);
	kasJump("HyperModuleCharging1", Init_Mission07_Events_HyperModuleCharging1, Watch_Mission07_Events_HyperModuleCharging1);
	return;
	}
	if (!kasfVarValueGet("_VIFONCE016") && ((sdword)kasfTimerExpiredDestroy("ChargeUpTimer2"))) // "ifonce" #16
	{
	kasfVarCreateSet("_VIFONCE016", 1);
	(sdword)(kasfVarValueSet("InNullState", 0), 0);
	kasJump("HyperModuleCharging2", Init_Mission07_Events_HyperModuleCharging2, Watch_Mission07_Events_HyperModuleCharging2);
	return;
	}
	if (!kasfVarValueGet("_VIFONCE017") && ((sdword)kasfTimerExpiredDestroy("ChargeUpTimer3"))) // "ifonce" #17
	{
	kasfVarCreateSet("_VIFONCE017", 1);
	(sdword)(kasfVarValueSet("InNullState", 0), 0);
	kasJump("LetsGetOutOfHere", Init_Mission07_Events_LetsGetOutOfHere, Watch_Mission07_Events_LetsGetOutOfHere);
	return;
	}
	if (!kasfVarValueGet("_VIFONCE018") && ((sdword)kasfTimerExpiredDestroy("ResearchTimer"))) // "ifonce" #18
	{
	kasfVarCreateSet("_VIFONCE018", 1);
	(sdword)(kasfVarValueSet("InNullState", 0), 0);
	kasJump("AddedResearch", Init_Mission07_Events_AddedResearch, Watch_Mission07_Events_AddedResearch);
	return;
	}
	if (!kasfVarValueGet("_VIFONCE019") && ((sdword)kasfTimerExpiredDestroy("Resourcers"))) // "ifonce" #19
	{
	kasfVarCreateSet("_VIFONCE019", 1);
	(sdword)(kasfVarValueSet("InNullState", 0), 0);
	kasJump("ProtectResourcers", Init_Mission07_Events_ProtectResourcers, Watch_Mission07_Events_ProtectResourcers);
	return;
	}
	if (!kasfVarValueGet("_VIFONCE020") && ((sdword)kasfMsgReceived("P2MothershipBlowin"))) // "ifonce" #20
	{
	kasfVarCreateSet("_VIFONCE020", 1);
	(sdword)(kasfVarValueSet("InNullState", 0), 0);
	kasJump("P2MothershipEscapes", Init_Mission07_Events_P2MothershipEscapes, Watch_Mission07_Events_P2MothershipEscapes);
	return;
	}
	if (!kasfVarValueGet("_VIFONCE021") && ((sdword)kasfVarValueGet("P2MothershipIn") && !(sdword)kasfFindFriendlyShipsOfType(kasGrowSelectionPtr("Temp"), "P2Mothership"))) // "ifonce" #21
	{
	kasfVarCreateSet("_VIFONCE021", 1);
	(sdword)(kasfVarValueSet("InNullState", 0), 0);
	kasJump("HyperspaceBack", Init_Mission07_Events_HyperspaceBack, Watch_Mission07_Events_HyperspaceBack);
	return;
	}
	}
	
}


//
//  "initialize" code for Mission07 Events LocationCard state
//
void Init_Mission07_Events_LocationCard(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfTimerCreateSetStart("LocationCardTimer", 2), 0);
	
}


//
//  "watch" code for Mission07 Events LocationCard state
//
void Watch_Mission07_Events_LocationCard(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((sdword)kasfTimerExpiredDestroy("LocationCardTimer"))
	{
	(sdword)(kasfLocationCard(5000, LSTRING_LCLocationCard[strCurLanguage]), 0);
	kasJump("Wait1", Init_Mission07_Events_Wait1, Watch_Mission07_Events_Wait1);
	return;
	}
	
}


//
//  "initialize" code for Mission07 Events Wait1 state
//
void Init_Mission07_Events_Wait1(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfTimerCreateSetStart("Launching", 8), 0);
	
}


//
//  "watch" code for Mission07 Events Wait1 state
//
void Watch_Mission07_Events_Wait1(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((sdword)kasfTimerExpiredDestroy("Launching"))
	{
	kasJump("NebulaRich", Init_Mission07_Events_NebulaRich, Watch_Mission07_Events_NebulaRich);
	return;
	}
	
}


//
//  "initialize" code for Mission07 Events NebulaRich state
//
void Init_Mission07_Events_NebulaRich(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfSoundEvent(262), 0);
	(sdword)(kasfSpeechEvent((540 + 4096 + 268435456), 0), 0);
	(sdword)(kasfObjectiveCreate("Harvest", LSTRING_OBHarvestNebula[strCurLanguage], "fleet intel 3.2"), 0);
	kasJump("NullState", Init_Mission07_Events_NullState, Watch_Mission07_Events_NullState);
	return;
	
}


//
//  "watch" code for Mission07 Events NebulaRich state
//
void Watch_Mission07_Events_NebulaRich(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "initialize" code for Mission07 Events UnknownContactsWait state
//
void Init_Mission07_Events_UnknownContactsWait(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfTimerCreateSetStart("ScaryUFOGuys", (sdword)kasfRandom(20, 28)), 0);
	
}


//
//  "watch" code for Mission07 Events UnknownContactsWait state
//
void Watch_Mission07_Events_UnknownContactsWait(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((sdword)kasfTimerExpiredDestroy("ScaryUFOGuys"))
	{
	(sdword)(kasfVarCreateSet("MothershipIn", 1), 0);
	kasJump("LBXIn1", Init_Mission07_Events_LBXIn1, Watch_Mission07_Events_LBXIn1);
	return;
	}
	
}


//
//  "initialize" code for Mission07 Events LBXIn1 state
//
void Init_Mission07_Events_LBXIn1(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfWideScreenIn(30), 0);
	(sdword)(kasfTimerCreateSetStart("LBXTimer", 4), 0);
	
}


//
//  "watch" code for Mission07 Events LBXIn1 state
//
void Watch_Mission07_Events_LBXIn1(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if (((sdword)kasfTimerRemaining("LBXTimer") == 0))
	{
	(sdword)(kasfOpenSensors(80000), 0);
	kasJump("UnknownContacts", Init_Mission07_Events_UnknownContacts, Watch_Mission07_Events_UnknownContacts);
	return;
	}
	
}


//
//  "initialize" code for Mission07 Events UnknownContacts state
//
void Init_Mission07_Events_UnknownContacts(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfSoundEvent(262), 0);
	(sdword)(kasfSpeechEvent((541 + 4096 + 268435456), 0), 0);
	(sdword)(kasfTutSetPointerTargetShipSelection("Contacts", kasAITeamShipsPtr("P2Mothership")), 0);
	(sdword)(kasfPingAddShips(kasAITeamShipsPtr("P2Mothership"), "UnknownContacts"), 0);
	
}


//
//  "watch" code for Mission07 Events UnknownContacts state
//
void Watch_Mission07_Events_UnknownContacts(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((sdword)kasfIntelEventEnded())
	{
	(sdword)(kasfTutRemoveAllPointers(), 0);
	(sdword)(kasfCloseSensors(1), 0);
	(sdword)(kasfWideScreenOut(90), 0);
	kasJump("PreparingAmbassador", Init_Mission07_Events_PreparingAmbassador, Watch_Mission07_Events_PreparingAmbassador);
	return;
	}
	
}


//
//  "initialize" code for Mission07 Events PreparingAmbassador state
//
void Init_Mission07_Events_PreparingAmbassador(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfSoundEvent(262), 0);
	(sdword)(kasfSpeechEvent((542 + 4096 + 268435456), 0), 0);
	
}


//
//  "watch" code for Mission07 Events PreparingAmbassador state
//
void Watch_Mission07_Events_PreparingAmbassador(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((sdword)kasfIntelEventEnded())
	{
	(sdword)(kasfTimerCreateSetStart("Ambassador", 5), 0);
	(sdword)(kasfTimerCreateSetStart("LBX", 2), 0);
	}
	if ((sdword)kasfTimerExpiredDestroy("LBX"))
	{
	(sdword)(kasfWideScreenIn(90), 0);
	}
	if ((sdword)kasfTimerExpiredDestroy("Ambassador"))
	{
	kasJump("P2IntroNIS", Init_Mission07_Events_P2IntroNIS, Watch_Mission07_Events_P2IntroNIS);
	return;
	}
	
}


//
//  "initialize" code for Mission07 Events P2IntroNIS state
//
void Init_Mission07_Events_P2IntroNIS(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)kasfFindEnemyShipsOfType(kasGrowSelectionPtr("NISTargetShips"), "Mothership");
	(sdword)(kasfPingRemove("UnknownContacts"), 0);
	(sdword)(kasfVarCreateSet("G_PlayNis", 5), 0);
	(sdword)(kasfVarCreateSet("G_PlayingNIS", 1), 0);
	
}


//
//  "watch" code for Mission07 Events P2IntroNIS state
//
void Watch_Mission07_Events_P2IntroNIS(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((sdword)kasfVarValueGet("G_Nis5Complete"))
	{
	(sdword)(kasfVarValueSet("G_PlayingNIS", 0), 0);
	(sdword)(kasfWideScreenOut(90), 0);
	kasJump("DefendMothership", Init_Mission07_Events_DefendMothership, Watch_Mission07_Events_DefendMothership);
	return;
	}
	
}


//
//  "initialize" code for Mission07 Events DefendMothership state
//
void Init_Mission07_Events_DefendMothership(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfMusicPlay(14), 0);
	(sdword)(kasfSoundEvent(262), 0);
	(sdword)(kasfSpeechEvent((550 + 4096 + 268435456), 0), 0);
	(sdword)(kasfObjectiveCreate("DefendFleet", LSTRING_OBDefendFleet[strCurLanguage], "fleet intel 3.2"), 0);
	(sdword)(kasfTimerCreateSetStart("ChargeUpTimer1", 30), 0);
	
}


//
//  "watch" code for Mission07 Events DefendMothership state
//
void Watch_Mission07_Events_DefendMothership(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	kasJump("NullState", Init_Mission07_Events_NullState, Watch_Mission07_Events_NullState);
	return;
	
}


//
//  "initialize" code for Mission07 Events HyperModuleCharging1 state
//
void Init_Mission07_Events_HyperModuleCharging1(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfSoundEvent(262), 0);
	(sdword)(kasfSpeechEvent((788 + 2048 + 268435456), 0), 0);
	(sdword)(kasfTimerCreateSetStart("ChargeUpTimer2", 420), 0);
	
}


//
//  "watch" code for Mission07 Events HyperModuleCharging1 state
//
void Watch_Mission07_Events_HyperModuleCharging1(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	kasJump("NullState", Init_Mission07_Events_NullState, Watch_Mission07_Events_NullState);
	return;
	
}


//
//  "initialize" code for Mission07 Events HyperModuleCharging2 state
//
void Init_Mission07_Events_HyperModuleCharging2(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfSoundEvent(262), 0);
	(sdword)(kasfSpeechEvent((789 + 2048 + 268435456), 0), 0);
	(sdword)(kasfTimerCreateSetStart("ChargeUpTimer3", 60), 0);
	
}


//
//  "watch" code for Mission07 Events HyperModuleCharging2 state
//
void Watch_Mission07_Events_HyperModuleCharging2(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	kasJump("NullState", Init_Mission07_Events_NullState, Watch_Mission07_Events_NullState);
	return;
	
}


//
//  "initialize" code for Mission07 Events LetsGetOutOfHere state
//
void Init_Mission07_Events_LetsGetOutOfHere(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfSoundEvent(262), 0);
	(sdword)(kasfSpeechEvent((553 + 2048 + 268435456), 0), 0);
	(sdword)(kasfMsgSend(kasAITeamPtr("P2Mothership"), "PlayerPoweredUp"), 0);
	
}


//
//  "watch" code for Mission07 Events LetsGetOutOfHere state
//
void Watch_Mission07_Events_LetsGetOutOfHere(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((sdword)kasfIntelEventEnded())
	{
	kasJump("Engage", Init_Mission07_Events_Engage, Watch_Mission07_Events_Engage);
	return;
	}
	
}


//
//  "initialize" code for Mission07 Events Engage state
//
void Init_Mission07_Events_Engage(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfSoundEvent(262), 0);
	(sdword)(kasfSpeechEvent((554 + 4096 + 268435456), 0), 0);
	(sdword)(kasfDisablePlayerHyperspace(), 0);
	(sdword)(kasfObjectiveSet("DefendFleet", 1), 0);
	(sdword)(kasfObjectiveCreate("Hyperspace", LSTRING_TBHyperspace[strCurLanguage], LSTRING_FIEngage[strCurLanguage]), 0);
	
}


//
//  "watch" code for Mission07 Events Engage state
//
void Watch_Mission07_Events_Engage(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((sdword)kasfTutGameSentMessage("Game_HyperspaceFailed") == 1)
	{
	kasJump("HyperdriveFail", Init_Mission07_Events_HyperdriveFail, Watch_Mission07_Events_HyperdriveFail);
	return;
	}
	
}


//
//  "initialize" code for Mission07 Events HyperdriveFail state
//
void Init_Mission07_Events_HyperdriveFail(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfSoundEvent(262), 0);
	(sdword)(kasfSpeechEvent((790 + 2048 + 268435456), 0), 0);
	
}


//
//  "watch" code for Mission07 Events HyperdriveFail state
//
void Watch_Mission07_Events_HyperdriveFail(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((sdword)kasfIntelEventEnded())
	{
	(sdword)(kasfMsgSend(kasAITeamPtr("P2Mothership"), "TheyreGettingAway"), 0);
	kasJump("ContinueProtecting", Init_Mission07_Events_ContinueProtecting, Watch_Mission07_Events_ContinueProtecting);
	return;
	}
	
}


//
//  "initialize" code for Mission07 Events ContinueProtecting state
//
void Init_Mission07_Events_ContinueProtecting(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfSoundEvent(262), 0);
	(sdword)(kasfSpeechEvent((767 + 4096 + 268435456), 0), 0);
	(sdword)(kasfObjectiveDestroy("DefendFleet"), 0);
	(sdword)(kasfObjectiveDestroy("Hyperspace"), 0);
	(sdword)(kasfObjectiveCreate("DefendFleet", LSTRING_OBDefendFleet[strCurLanguage], "fleet intel 3.2"), 0);
	(sdword)(kasfTimerCreateSetStart("ResearchTimer", 45), 0);
	
}


//
//  "watch" code for Mission07 Events ContinueProtecting state
//
void Watch_Mission07_Events_ContinueProtecting(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	kasJump("NullState", Init_Mission07_Events_NullState, Watch_Mission07_Events_NullState);
	return;
	
}


//
//  "initialize" code for Mission07 Events AddedResearch state
//
void Init_Mission07_Events_AddedResearch(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfSoundEvent(262), 0);
	(sdword)(kasfSpeechEvent((770 + 4096 + 268435456), 0), 0);
	(sdword)(kasfAllowPlayerToResearch("TargetingSystems"), 0);
	
}


//
//  "watch" code for Mission07 Events AddedResearch state
//
void Watch_Mission07_Events_AddedResearch(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	kasJump("NullState", Init_Mission07_Events_NullState, Watch_Mission07_Events_NullState);
	return;
	
}


//
//  "initialize" code for Mission07 Events ProtectResourcers state
//
void Init_Mission07_Events_ProtectResourcers(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfSoundEvent(262), 0);
	(sdword)(kasfSpeechEvent((557 + 4096 + 268435456), 0), 0);
	(sdword)(kasfObjectiveCreateSecondary("ProtectResourcers", LSTRING_OBProtect[strCurLanguage], LSTRING_FIProtectResources[strCurLanguage]), 0);
	
}


//
//  "watch" code for Mission07 Events ProtectResourcers state
//
void Watch_Mission07_Events_ProtectResourcers(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	kasJump("NullState", Init_Mission07_Events_NullState, Watch_Mission07_Events_NullState);
	return;
	
}


//
//  "initialize" code for Mission07 Events P2MothershipEscapes state
//
void Init_Mission07_Events_P2MothershipEscapes(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfSoundEvent(262), 0);
	(sdword)(kasfTutCameraFocus(kasAITeamShipsPtr("P2Mothership")), 0);
	(sdword)(kasfTutCameraFocus(kasAITeamShipsPtr("P2Mothership")), 0);
	(sdword)(kasfMusicStop(4), 0);
	(sdword)(kasfTimerCreateSetStart("P2EscapeTimer", 20), 0);
	(sdword)(kasfTimerCreateSetStart("CancelFocus", 14), 0);
	
}


//
//  "watch" code for Mission07 Events P2MothershipEscapes state
//
void Watch_Mission07_Events_P2MothershipEscapes(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((sdword)kasfTutGameSentMessage("Game_BandBoxFocus,Game_ClickFocus,KB_CancelFocus,KB_Focus"))
	{
	(sdword)(kasfTimerDestroy("CancelFocus"), 0);
	}
	if ((sdword)kasfTimerExpiredDestroy("CancelFocus"))
	{
	(sdword)(kasfSoundEvent(262), 0);
	(sdword)(kasfTutCameraFocusCancel(), 0);
	(sdword)(kasfTutCameraFocusCancel(), 0);
	}
	if ((sdword)kasfTimerExpiredDestroy("P2EscapeTimer"))
	{
	(sdword)(kasfVarValueSet("P2MothershipIn", 0), 0);
	kasJump("HyperspaceBack", Init_Mission07_Events_HyperspaceBack, Watch_Mission07_Events_HyperspaceBack);
	return;
	}
	
}


//
//  "initialize" code for Mission07 Events HyperspaceBack state
//
void Init_Mission07_Events_HyperspaceBack(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfSoundEvent(262), 0);
	(sdword)(kasfSpeechEvent((768 + 4096 + 268435456), 0), 0);
	(sdword)(kasfObjectiveCreate("Hyperspace", LSTRING_TBHyperspace[strCurLanguage], LSTRING_FIEngage[strCurLanguage]), 0);
	(sdword)(kasfObjectiveSet("DefendFleet", 1), 0);
	
}


//
//  "watch" code for Mission07 Events HyperspaceBack state
//
void Watch_Mission07_Events_HyperspaceBack(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((sdword)kasfIntelEventEnded())
	{
	kasJump("JumpAway", Init_Mission07_Events_JumpAway, Watch_Mission07_Events_JumpAway);
	return;
	}
	
}


//
//  "initialize" code for Mission07 Events JumpAway state
//
void Init_Mission07_Events_JumpAway(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfSoundEvent(262), 0);
	(sdword)(kasfSpeechEvent((769 + 4096 + 268435456), 0), 0);
	
}


//
//  "watch" code for Mission07 Events JumpAway state
//
void Watch_Mission07_Events_JumpAway(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	kasJump("FinalState", Init_Mission07_Events_FinalState, Watch_Mission07_Events_FinalState);
	return;
	
}


//
//  "initialize" code for Mission07 Events NullState state
//
void Init_Mission07_Events_NullState(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfVarCreateSet("InNullState", 1), 0);
	
}


//
//  "watch" code for Mission07 Events NullState state
//
void Watch_Mission07_Events_NullState(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "initialize" code for Mission07 Events FinalState state
//
void Init_Mission07_Events_FinalState(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfVarCreateSet("InFinalState", 1), 0);
	
}


//
//  "watch" code for Mission07 Events FinalState state
//
void Watch_Mission07_Events_FinalState(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "initialize" code for Mission07 P2Mothership FSM
//
void Init_Mission07_P2Mothership(void)
{
	CurrentMissionScope = KAS_SCOPE_FSM;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfVarCreateSet("WaveNum", 0), 0);
	kasJump("Wait", Init_Mission07_P2Mothership_Wait, Watch_Mission07_P2Mothership_Wait);
	return;
	
}


//
//  "watch" code for Mission07 P2Mothership FSM
//
void Watch_Mission07_P2Mothership(void)
{
	CurrentMissionScope = KAS_SCOPE_FSM;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if (!(sdword)kasfVarValueGet("G_MothershipDead"))
	{
	if (!kasfVarValueGet("_VIFONCE022") && ((sdword)kasfNearby(kasVectorPtr("Vol2"), 2000))) // "ifonce" #22
	{
	kasfVarCreateSet("_VIFONCE022", 1);
	(sdword)(kasfVarValueSet("MovingToVol2", 0), 0);
	(sdword)(kasfVarCreateSet("MovingToVol1", 1), 0);
	(sdword)(kasfMoveTo(kasVectorPtr("Vol1")), 0);
	}
	if (!kasfVarValueGet("_VIFONCE023") && ((sdword)kasfNearby(kasVectorPtr("Vol1"), 2000))) // "ifonce" #23
	{
	kasfVarCreateSet("_VIFONCE023", 1);
	(sdword)(kasfVarValueSet("MovingToVol1", 0), 0);
	(sdword)(kasfVarCreateSet("MovingToVol3", 1), 0);
	(sdword)(kasfMoveTo(kasVectorPtr("Vol3")), 0);
	}
	if (!kasfVarValueGet("_VIFONCE024") && ((sdword)kasfNearby(kasVectorPtr("Vol3"), 2000))) // "ifonce" #24
	{
	kasfVarCreateSet("_VIFONCE024", 1);
	(sdword)(kasfVarValueSet("MovingToVol2", 0), 0);
	(sdword)(kasfVarCreateSet("AttackingMothership", 1), 0);
	(sdword)(kasfAttackMothership(), 0);
	}
	if (!kasfVarValueGet("_VIFONCE025") && (((sdword)kasfVarValueGet("WaveNum") == 6) && (sdword)kasfVarValueGet("FinalAssaultGone"))) // "ifonce" #25
	{
	kasfVarCreateSet("_VIFONCE025", 1);
	(sdword)(kasfTimerCreateSetStart("ImDryImOuttaHere", (sdword)kasfRandom(60, 90)), 0);
	}
	if (!kasfVarValueGet("_VIFONCE026") && ((sdword)kasfTimerExpiredDestroy("ImDryImOuttaHere"))) // "ifonce" #26
	{
	kasfVarCreateSet("_VIFONCE026", 1);
	kasJump("GetOuttaHere", Init_Mission07_P2Mothership_GetOuttaHere, Watch_Mission07_P2Mothership_GetOuttaHere);
	return;
	}
	if (!(sdword)kasfVarValueGet("DodgingOrOuttaHere") && (sdword)kasfTeamHealthLowest() <= 45)
	{
	if ((sdword)kasfVarValueGet("AttackingMothership"))
	{
	kasJump("GetOuttaHere", Init_Mission07_P2Mothership_GetOuttaHere, Watch_Mission07_P2Mothership_GetOuttaHere);
	return;
	}
	else
	{
	kasJump("HyperDodge", Init_Mission07_P2Mothership_HyperDodge, Watch_Mission07_P2Mothership_HyperDodge);
	return;
	}
	}
	}
	if (!kasfVarValueGet("_VIFONCE027") && ((sdword)kasfTeamCount() == 0)) // "ifonce" #27
	{
	kasfVarCreateSet("_VIFONCE027", 1);
	(sdword)kasfFindEnemyShipsOfType(kasGrowSelectionPtr("YourDeadNow"), "Mothership");
	(sdword)(kasfKamikazeEveryone(kasGrowSelectionPtr("YourDeadNow")), 0);
	(sdword)(kasfVarCreateSet("G_MothershipDead", 1), 0);
	kasJump("NullState", Init_Mission07_P2Mothership_NullState, Watch_Mission07_P2Mothership_NullState);
	return;
	}
	
}


//
//  "initialize" code for Mission07 P2Mothership Wait state
//
void Init_Mission07_P2Mothership_Wait(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfTimerCreateSetStart("WaitForDocking", 2), 0);
	
}


//
//  "watch" code for Mission07 P2Mothership Wait state
//
void Watch_Mission07_P2Mothership_Wait(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((sdword)kasfTimerExpiredDestroy("WaitForDocking"))
	{
	(sdword)(kasfTeamHyperspaceOut(), 0);
	}
	if ((sdword)kasfMsgReceived("MothershipComeOnIn"))
	{
	kasJump("Reappear", Init_Mission07_P2Mothership_Reappear, Watch_Mission07_P2Mothership_Reappear);
	return;
	}
	
}


//
//  "initialize" code for Mission07 P2Mothership Reappear state
//
void Init_Mission07_P2Mothership_Reappear(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfTeamHyperspaceIn(kasVectorPtr("MothershipIn")), 0);
	
}


//
//  "watch" code for Mission07 P2Mothership Reappear state
//
void Watch_Mission07_P2Mothership_Reappear(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if (!kasfVarValueGet("_VIFONCE028") && ((sdword)kasfNearby(kasVectorPtr("MothershipIn"), 2000))) // "ifonce" #28
	{
	kasfVarCreateSet("_VIFONCE028", 1);
	(sdword)(kasfAttackMothership(), 0);
	}
	if (!kasfVarValueGet("_VIFONCE029") && ((sdword)kasfVarValueGet("G_PlayingNIS"))) // "ifonce" #29
	{
	kasfVarCreateSet("_VIFONCE029", 1);
	(sdword)(kasfStop(), 0);
	(sdword)(kasfHideShips(kasAITeamShipsPtr("P2Mothership")), 0);
	}
	if ((sdword)kasfVarValueGet("G_Nis5Complete"))
	{
	(sdword)(kasfUnhideShips(kasAITeamShipsPtr("P2Mothership")), 0);
	(sdword)(kasfMoveTo(kasVectorPtr("Vol2")), 0);
	(sdword)(kasfVarCreateSet("MovingToVol2", 1), 0);
	kasJump("InitialAttack", Init_Mission07_P2Mothership_InitialAttack, Watch_Mission07_P2Mothership_InitialAttack);
	return;
	}
	
}


//
//  "initialize" code for Mission07 P2Mothership InitialAttack state
//
void Init_Mission07_P2Mothership_InitialAttack(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfVarValueInc("WaveNum"), 0);
	kasFSMCreate("GenericMothershipSwarm", Init_Mission07_GenericMothershipSwarm, Watch_Mission07_GenericMothershipSwarm, kasAITeamPtr("NISTeam1"));
	(sdword)kasfFindEnemyShipsOfType(kasGrowSelectionPtr("Test"), "ResourceCollector");
	(sdword)kasfFindEnemiesNearby(kasGrowSelectionPtr("Test"), 6000);
	if ((sdword)kasfShipsSelectSpecial(kasGrowSelectionPtr("Armed"), kasGrowSelectionPtr("Test"), 3) > 5)
	{
	kasFSMCreate("ResourceDefenderSwarm", Init_Mission07_ResourceDefenderSwarm, Watch_Mission07_ResourceDefenderSwarm, kasAITeamPtr("NISTeam2"));
	(sdword)(kasfTimerCreateSetStart("ResourcerSwarm", (sdword)kasfRandom(50, 70)), 0);
	}
	else
	{
	kasFSMCreate("GenericResourcerSwarm", Init_Mission07_GenericResourcerSwarm, Watch_Mission07_GenericResourcerSwarm, kasAITeamPtr("NISTeam2"));
	(sdword)(kasfTimerCreateSetStart("ResourceDefenderSwarm", (sdword)kasfRandom(50, 70)), 0);
	}
	
}


//
//  "watch" code for Mission07 P2Mothership InitialAttack state
//
void Watch_Mission07_P2Mothership_InitialAttack(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((sdword)kasfTimerExpiredDestroy("ResourcerSwarm"))
	{
	kasFSMCreate("GenericResourcerSwarm", Init_Mission07_GenericResourcerSwarm, Watch_Mission07_GenericResourcerSwarm, kasAITeamPtr("NISTeam3"));
	kasJump("MidBattle", Init_Mission07_P2Mothership_MidBattle, Watch_Mission07_P2Mothership_MidBattle);
	return;
	}
	if ((sdword)kasfTimerExpiredDestroy("ResourceDefenderSwarm"))
	{
	kasFSMCreate("ResourceDefenderSwarm", Init_Mission07_ResourceDefenderSwarm, Watch_Mission07_ResourceDefenderSwarm, kasAITeamPtr("NISTeam3"));
	kasJump("MidBattle", Init_Mission07_P2Mothership_MidBattle, Watch_Mission07_P2Mothership_MidBattle);
	return;
	}
	
}


//
//  "initialize" code for Mission07 P2Mothership ReissueMove state
//
void Init_Mission07_P2Mothership_ReissueMove(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((sdword)kasfVarValueGet("MovingToVol2"))
	{
	(sdword)(kasfMoveTo(kasVectorPtr("Vol2")), 0);
	}
	else if ((sdword)kasfVarValueGet("MovingToVol1"))
	{
	(sdword)(kasfMoveTo(kasVectorPtr("Vol1")), 0);
	}
	else if ((sdword)kasfVarValueGet("MovingToVol3"))
	{
	(sdword)(kasfMoveTo(kasVectorPtr("Vol3")), 0);
	}
	else if ((sdword)kasfVarValueGet("AttackingMothership"))
	{
	(sdword)(kasfAttackMothership(), 0);
	}
	kasJump("MidBattle", Init_Mission07_P2Mothership_MidBattle, Watch_Mission07_P2Mothership_MidBattle);
	return;
	
}


//
//  "watch" code for Mission07 P2Mothership ReissueMove state
//
void Watch_Mission07_P2Mothership_ReissueMove(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "initialize" code for Mission07 P2Mothership HyperDodge state
//
void Init_Mission07_P2Mothership_HyperDodge(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfVarCreateSet("DodgingOrOuttaHere", 1), 0);
	(sdword)(kasfTeamHyperspaceOut(), 0);
	(sdword)(kasfTimerCreateSetStart("HyperspaceTimer", 15), 0);
	
}


//
//  "watch" code for Mission07 P2Mothership HyperDodge state
//
void Watch_Mission07_P2Mothership_HyperDodge(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((sdword)kasfTimerExpiredDestroy("HyperspaceTimer"))
	{
	kasJump("HypeDodgeIn", Init_Mission07_P2Mothership_HypeDodgeIn, Watch_Mission07_P2Mothership_HypeDodgeIn);
	return;
	}
	
}


//
//  "initialize" code for Mission07 P2Mothership HypeDodgeIn state
//
void Init_Mission07_P2Mothership_HypeDodgeIn(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfTeamSetPercentDamaged(100), 0);
	if ((sdword)kasfVarValueGet("MovingToVol2"))
	{
	(sdword)(kasfTeamHyperspaceIn(kasVectorPtr("Vol2")), 0);
	}
	else if ((sdword)kasfVarValueGet("MovingToVol1"))
	{
	(sdword)(kasfTeamHyperspaceIn(kasVectorPtr("Vol1")), 0);
	}
	else if ((sdword)kasfVarValueGet("MovingToVol3"))
	{
	(sdword)(kasfTeamHyperspaceIn(kasVectorPtr("Vol3")), 0);
	}
	else
	{
	(sdword)(kasfTeamHyperspaceIn(kasVectorPtr("Vol2")), 0);
	}
	
}


//
//  "watch" code for Mission07 P2Mothership HypeDodgeIn state
//
void Watch_Mission07_P2Mothership_HypeDodgeIn(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((sdword)kasfNearby(kasThisTeamsVectorPtr(), 10000))
	{
	(sdword)(kasfVarDestroy("DodgingOrOuttaHere"), 0);
	kasJump("MidBattle", Init_Mission07_P2Mothership_MidBattle, Watch_Mission07_P2Mothership_MidBattle);
	return;
	}
	
}


//
//  "initialize" code for Mission07 P2Mothership MidBattle state
//
void Init_Mission07_P2Mothership_MidBattle(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfVarCreate("NumSwarmers"), 0);
	(sdword)(kasfVarCreate("NumPods"), 0);
	(sdword)(kasfTimerCreateSetStart("DownTime", (sdword)kasfRandom(80, 100)), 0);
	
}


//
//  "watch" code for Mission07 P2Mothership MidBattle state
//
void Watch_Mission07_P2Mothership_MidBattle(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if (!kasfVarValueGet("_VIFONCE030") && ((sdword)kasfMsgReceived("PlayerPoweredUp"))) // "ifonce" #30
	{
	kasfVarCreateSet("_VIFONCE030", 1);
	kasJump("EndBattleDelay", Init_Mission07_P2Mothership_EndBattleDelay, Watch_Mission07_P2Mothership_EndBattleDelay);
	return;
	}
	if ((sdword)kasfUnderAttack(kasGrowSelectionPtr("Attacking")) && ((sdword)kasfShipsCount(kasGrowSelectionPtr("DefendMothership")) < (sdword)kasfRandom(4, 8)))
	{
	kasJump("DefendSelf", Init_Mission07_P2Mothership_DefendSelf, Watch_Mission07_P2Mothership_DefendSelf);
	return;
	}
	if (!(sdword)kasfShipsSelectMoving(kasGrowSelectionPtr("Move"), (&kasThisTeamPtr->shipList)))
	{
	kasJump("ReissueMove", Init_Mission07_P2Mothership_ReissueMove, Watch_Mission07_P2Mothership_ReissueMove);
	return;
	}
	if ((sdword)kasfTimerExpiredDestroy("PodTest"))
	{
	(sdword)(kasfTimerSet("DownTime", 0), 0);
	}
	if (!(sdword)kasfTimerExpired("DownTime") && !(sdword)kasfFindFriendlyShipsOfType(kasGrowSelectionPtr("Pods"), "P2FuelPod") && !(sdword)kasfTimerRemaining("PodTest"))
	{
	(sdword)(kasfTimerCreateSetStart("PodTest", 8), 0);
	}
	if ((sdword)kasfTimerExpired("DownTime"))
	{
	if ((sdword)kasfMsgReceived("ResSwarmersInTrouble"))
	{
	(sdword)(kasfVarCreateSet("ResSwarmers", 1), 0);
	kasJump("SecondAttack", Init_Mission07_P2Mothership_SecondAttack, Watch_Mission07_P2Mothership_SecondAttack);
	return;
	}
	if ((sdword)kasfMsgReceived("ResDefSwarmersInTrouble"))
	{
	(sdword)(kasfVarCreateSet("ResSwarmers", 1), 0);
	kasJump("SecondAttack", Init_Mission07_P2Mothership_SecondAttack, Watch_Mission07_P2Mothership_SecondAttack);
	return;
	}
	(sdword)(kasfVarValueSet("NumSwarmers", (sdword)kasfFindFriendlyShipsOfType(kasGrowSelectionPtr("Swarmers"), "P2Swarmer")), 0);
	(sdword)(kasfVarValueSet("NumPods", (sdword)kasfFindFriendlyShipsOfType(kasGrowSelectionPtr("Pods"), "P2FuelPod")), 0);
	if (((sdword)kasfVarValueGet("NumPods") < 2) || ((sdword)kasfVarValueGet("NumSwarmers") < 10))
	{
	(sdword)(kasfVarCreateSet("ResSwarmers", 1), 0);
	kasJump("SecondAttack", Init_Mission07_P2Mothership_SecondAttack, Watch_Mission07_P2Mothership_SecondAttack);
	return;
	}
	if (((sdword)kasfVarValueGet("WaveNum") != 2) && ((sdword)kasfVarValueGet("WaveNum") != 4))
	{
	if ((sdword)kasfMsgReceived("MoSwarmersInTrouble"))
	{
	(sdword)(kasfVarCreateSet("MoSwarmers", 1), 0);
	kasJump("SecondAttack", Init_Mission07_P2Mothership_SecondAttack, Watch_Mission07_P2Mothership_SecondAttack);
	return;
	}
	}
	}
	
}


//
//  "initialize" code for Mission07 P2Mothership SecondAttack state
//
void Init_Mission07_P2Mothership_SecondAttack(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((sdword)kasfVarValueGet("WaveNum") == 1)
	{
	if ((sdword)kasfVarValueGet("ResSwarmers"))
	{
	(sdword)(kasfMsgSend(kasAITeamPtr("FuelPod1WAVE1"), "ResourceSwarm"), 0);
	(sdword)(kasfMsgSend(kasAITeamPtr("Swarmer1WAVE1"), "ResourceSwarm"), 0);
	}
	else if ((sdword)kasfVarValueGet("ResDefSwarmers"))
	{
	(sdword)(kasfMsgSend(kasAITeamPtr("FuelPod1WAVE1"), "ResourceDefenderSwarm"), 0);
	(sdword)(kasfMsgSend(kasAITeamPtr("Swarmer1WAVE1"), "ResourceDefenderSwarm"), 0);
	}
	else if ((sdword)kasfVarValueGet("MoSwarmers"))
	{
	(sdword)(kasfMsgSend(kasAITeamPtr("FuelPod1WAVE1"), "MothershipSwarm"), 0);
	(sdword)(kasfMsgSend(kasAITeamPtr("Swarmer1WAVE1"), "MothershipSwarm"), 0);
	}
	else
	{
	(sdword)(kasfCommandMessage("No One To Send To"), 0);
	}
	(sdword)(kasfVarValueInc("WaveNum"), 0);
	}
	else if ((sdword)kasfVarValueGet("WaveNum") == 2)
	{
	(sdword)(kasfMsgSend(kasAITeamPtr("FuelPod1WAVE2"), "ResourceSwarm"), 0);
	(sdword)(kasfMsgSend(kasAITeamPtr("Swarmer1WAVE2A"), "ResourceSwarm"), 0);
	(sdword)(kasfMsgSend(kasAITeamPtr("Swarmer1WAVE2B"), "ResourceSwarm"), 0);
	(sdword)(kasfVarValueInc("WaveNum"), 0);
	}
	else if ((sdword)kasfVarValueGet("WaveNum") == 3)
	{
	if ((sdword)kasfVarValueGet("MoSwarmers"))
	{
	(sdword)(kasfMsgSend(kasAITeamPtr("FuelPod2WAVE1"), "MothershipSwarm"), 0);
	(sdword)(kasfMsgSend(kasAITeamPtr("Swarmer2WAVE1"), "MothershipSwarm"), 0);
	}
	else if ((sdword)kasfVarValueGet("ResDefSwarmers"))
	{
	(sdword)(kasfMsgSend(kasAITeamPtr("FuelPod2WAVE1"), "ResourceDefenderSwarm"), 0);
	(sdword)(kasfMsgSend(kasAITeamPtr("Swarmer2WAVE1"), "ResourceDefenderSwarm"), 0);
	}
	else if ((sdword)kasfVarValueGet("ResSwarmers"))
	{
	(sdword)(kasfMsgSend(kasAITeamPtr("FuelPod2WAVE1"), "ResourceSwarm"), 0);
	(sdword)(kasfMsgSend(kasAITeamPtr("Swarmer2WAVE1"), "ResourceSwarm"), 0);
	}
	(sdword)(kasfVarValueInc("WaveNum"), 0);
	}
	else if ((sdword)kasfVarValueGet("WaveNum") == 4)
	{
	if ((sdword)kasfVarValueGet("MoSwarmers"))
	{
	(sdword)(kasfMsgSend(kasAITeamPtr("FuelPod2WAVE2"), "MothershipSwarm"), 0);
	(sdword)(kasfMsgSend(kasAITeamPtr("Swarmer2WAVE2A"), "MothershipSwarm"), 0);
	(sdword)(kasfMsgSend(kasAITeamPtr("Swarmer2WAVE2B"), "MothershipSwarm"), 0);
	}
	else if ((sdword)kasfVarValueGet("ResDefSwarmers"))
	{
	(sdword)(kasfMsgSend(kasAITeamPtr("FuelPod2WAVE2"), "ResourceDefenderSwarm"), 0);
	(sdword)(kasfMsgSend(kasAITeamPtr("Swarmer2WAVE2A"), "ResourceDefenderSwarm"), 0);
	(sdword)(kasfMsgSend(kasAITeamPtr("Swarmer2WAVE2B"), "ResourceDefenderSwarm"), 0);
	}
	else if ((sdword)kasfVarValueGet("ResSwarmers"))
	{
	(sdword)(kasfMsgSend(kasAITeamPtr("FuelPod2WAVE2"), "ResourceSwarm"), 0);
	(sdword)(kasfMsgSend(kasAITeamPtr("Swarmer2WAVE2A"), "ResourceSwarm"), 0);
	(sdword)(kasfMsgSend(kasAITeamPtr("Swarmer2WAVE2B"), "ResourceSwarm"), 0);
	}
	(sdword)(kasfVarValueInc("WaveNum"), 0);
	}
	else if ((sdword)kasfVarValueGet("WaveNum") == 5)
	{
	if ((sdword)kasfVarValueGet("MoSwarmers"))
	{
	(sdword)(kasfMsgSend(kasAITeamPtr("FuelPod3WAVE1"), "MothershipSwarm"), 0);
	(sdword)(kasfMsgSend(kasAITeamPtr("Swarmer3WAVE1"), "MothershipSwarm"), 0);
	}
	else if ((sdword)kasfVarValueGet("ResDefSwarmers"))
	{
	(sdword)(kasfMsgSend(kasAITeamPtr("FuelPod3WAVE1"), "ResourceDefenderSwarm"), 0);
	(sdword)(kasfMsgSend(kasAITeamPtr("Swarmer3WAVE1"), "ResourceDefenderSwarm"), 0);
	}
	else if ((sdword)kasfVarValueGet("ResSwarmers"))
	{
	(sdword)(kasfMsgSend(kasAITeamPtr("FuelPod3WAVE1"), "ResourceSwarm"), 0);
	(sdword)(kasfMsgSend(kasAITeamPtr("Swarmer3WAVE1"), "ResourceSwarm"), 0);
	}
	(sdword)(kasfVarValueInc("WaveNum"), 0);
	}
	(sdword)(kasfTimerCreateSetStart("AttackTimer", (sdword)kasfRandom(50, 90)), 0);
	
}


//
//  "watch" code for Mission07 P2Mothership SecondAttack state
//
void Watch_Mission07_P2Mothership_SecondAttack(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((sdword)kasfTimerExpiredDestroy("AttackTimer"))
	{
	kasJump("MidBattle", Init_Mission07_P2Mothership_MidBattle, Watch_Mission07_P2Mothership_MidBattle);
	return;
	}
	
}


//
//  "initialize" code for Mission07 P2Mothership DefendSelf state
//
void Init_Mission07_P2Mothership_DefendSelf(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)kasfUnderAttack(kasGrowSelectionPtr("Attacking"));
	if ((sdword)kasfShipsSelectCapital(kasGrowSelectionPtr("Capital"), kasGrowSelectionPtr("Attacking")))
	{
	(sdword)(kasfVarCreateSet("CounterAttack", 1), 0);
	(sdword)(kasfAttack(kasGrowSelectionPtr("Capital")), 0);
	}
	if ((sdword)kasfVarValueGet("WaveNum") == 1)
	{
	(sdword)(kasfMsgSend(kasAITeamPtr("FuelPod1WAVE1"), "DefendMothership"), 0);
	(sdword)(kasfMsgSend(kasAITeamPtr("Swarmer1WAVE1"), "DefendMothership"), 0);
	}
	else if ((sdword)kasfVarValueGet("WaveNum") == 2)
	{
	(sdword)(kasfMsgSend(kasAITeamPtr("FuelPod1WAVE2"), "DefendMothership"), 0);
	(sdword)(kasfMsgSend(kasAITeamPtr("Swarmer1WAVE2A"), "DefendMothership"), 0);
	(sdword)(kasfMsgSend(kasAITeamPtr("Swarmer1WAVE2B"), "DefendMothership"), 0);
	(sdword)(kasfVarValueInc("WaveNum"), 0);
	}
	else if ((sdword)kasfVarValueGet("WaveNum") == 3)
	{
	(sdword)(kasfMsgSend(kasAITeamPtr("FuelPod2WAVE1"), "DefendMothership"), 0);
	(sdword)(kasfMsgSend(kasAITeamPtr("Swarmer2WAVE1"), "DefendMothership"), 0);
	(sdword)(kasfVarValueInc("WaveNum"), 0);
	}
	else if ((sdword)kasfVarValueGet("WaveNum") == 4)
	{
	(sdword)(kasfMsgSend(kasAITeamPtr("FuelPod2WAVE2"), "DefendMothership"), 0);
	(sdword)(kasfMsgSend(kasAITeamPtr("Swarmer2WAVE2A"), "DefendMothership"), 0);
	(sdword)(kasfMsgSend(kasAITeamPtr("Swarmer2WAVE2B"), "DefendMothership"), 0);
	(sdword)(kasfVarValueInc("WaveNum"), 0);
	}
	else if ((sdword)kasfVarValueGet("WaveNum") == 5)
	{
	(sdword)(kasfMsgSend(kasAITeamPtr("FuelPod3WAVE1"), "DefendMothership"), 0);
	(sdword)(kasfMsgSend(kasAITeamPtr("Swarmer3WAVE1"), "DefendMothership"), 0);
	(sdword)(kasfVarValueInc("WaveNum"), 0);
	}
	(sdword)(kasfTimerCreateSetStart("DefenseTimer", (sdword)kasfRandom(40, 100)), 0);
	
}


//
//  "watch" code for Mission07 P2Mothership DefendSelf state
//
void Watch_Mission07_P2Mothership_DefendSelf(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((sdword)kasfTimerExpiredDestroy("DefenseTimer"))
	{
	if ((sdword)kasfUnderAttack(kasGrowSelectionPtr("Attacking")))
	{
	(sdword)(kasfSetSwarmerTargets(kasGrowSelectionPtr("Attacking")), 0);
	}
	kasJump("MidBattle", Init_Mission07_P2Mothership_MidBattle, Watch_Mission07_P2Mothership_MidBattle);
	return;
	}
	if ((sdword)kasfVarValueGet("CounterAttack") && ((sdword)kasfShipsOrder((&kasThisTeamPtr->shipList)) != 2))
	{
	if ((sdword)kasfUnderAttack(kasGrowSelectionPtr("Attacking")) && (sdword)kasfShipsSelectCapital(kasGrowSelectionPtr("Capital"), kasGrowSelectionPtr("Attacking")))
	{
	(sdword)(kasfAttack(kasGrowSelectionPtr("Capital")), 0);
	}
	else
	{
	(sdword)(kasfVarDestroy("CounterAttack"), 0);
	}
	}
	
}


//
//  "initialize" code for Mission07 P2Mothership EndBattleDelay state
//
void Init_Mission07_P2Mothership_EndBattleDelay(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfTimerCreateSetStart("AttackTimer", (sdword)kasfRandom(5, 20)), 0);
	
}


//
//  "watch" code for Mission07 P2Mothership EndBattleDelay state
//
void Watch_Mission07_P2Mothership_EndBattleDelay(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((sdword)kasfTimerExpiredDestroy("AttackTimer"))
	{
	kasJump("EndBattle", Init_Mission07_P2Mothership_EndBattle, Watch_Mission07_P2Mothership_EndBattle);
	return;
	}
	
}


//
//  "initialize" code for Mission07 P2Mothership EndBattle state
//
void Init_Mission07_P2Mothership_EndBattle(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfMsgSend(kasAITeamPtr("FuelPod3WAVE2"), "MothershipSwarm"), 0);
	(sdword)(kasfMsgSend(kasAITeamPtr("Swarmer3WAVE2A"), "MothershipSwarm"), 0);
	(sdword)(kasfMsgSend(kasAITeamPtr("Swarmer3WAVE2B"), "MothershipSwarm"), 0);
	(sdword)(kasfTimerCreateSetStart("AttackTimer", (sdword)kasfRandom(30, 60)), 0);
	(sdword)(kasfVarCreateSet("FinalAssaultGone", 1), 0);
	
}


//
//  "watch" code for Mission07 P2Mothership EndBattle state
//
void Watch_Mission07_P2Mothership_EndBattle(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((sdword)kasfTimerExpiredDestroy("AttackTimer") && (sdword)kasfVarValueGet("WaveNum") < 6)
	{
	kasJump("MidBattle", Init_Mission07_P2Mothership_MidBattle, Watch_Mission07_P2Mothership_MidBattle);
	return;
	}
	
}


//
//  "initialize" code for Mission07 P2Mothership GetOuttaHere state
//
void Init_Mission07_P2Mothership_GetOuttaHere(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfVarCreateSet("DodgingOrOuttaHere", 1), 0);
	(sdword)(kasfMsgSendAll("DockNow"), 0);
	(sdword)(kasfTimerCreateSetStart("BootIt", 50), 0);
	
}


//
//  "watch" code for Mission07 P2Mothership GetOuttaHere state
//
void Watch_Mission07_P2Mothership_GetOuttaHere(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((sdword)kasfTeamHealthLowest() < 10)
	{
	(sdword)(kasfTeamSetPercentDamaged(15), 0);
	}
	(sdword)(kasfVarValueSet("NumSwarmers", (sdword)kasfFindFriendlyShipsOfType(kasGrowSelectionPtr("Swarmers"), "P2Swarmer")), 0);
	(sdword)(kasfVarValueSet("NumAdv", (sdword)kasfFindFriendlyShipsOfType(kasGrowSelectionPtr("AdvSwarmers"), "P2AdvanceSwarmer")), 0);
	if ((((sdword)kasfVarValueGet("NumSwarmers") == 0) && ((sdword)kasfVarValueGet("NumAdv") == 0)) || ((sdword)kasfTeamHealthLowest() <= 8) || ((sdword)kasfTimerExpiredDestroy("BootIt")))
	{
	(sdword)(kasfMsgSendAll("P2MothershipBlowin"), 0);
	(sdword)(kasfTeamHyperspaceOut(), 0);
	kasJump("NullState", Init_Mission07_P2Mothership_NullState, Watch_Mission07_P2Mothership_NullState);
	return;
	}
	
}


//
//  "initialize" code for Mission07 P2Mothership NullState state
//
void Init_Mission07_P2Mothership_NullState(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "watch" code for Mission07 P2Mothership NullState state
//
void Watch_Mission07_P2Mothership_NullState(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "initialize" code for Mission07 mission
//
void Init_Mission07(void)
{
	CurrentMissionScope = KAS_SCOPE_MISSION;
	strcpy(CurrentMissionScopeName, "Mission07");
	kasFSMCreate("P2Mothership", Init_Mission07_P2Mothership, Watch_Mission07_P2Mothership, kasAITeamPtr("P2Mothership"));
	kasFSMCreate("PreAttackPod", Init_Mission07_PreAttackPod, Watch_Mission07_PreAttackPod, kasAITeamPtr("FuelPod1WAVE1"));
	kasFSMCreate("PreAttackPod", Init_Mission07_PreAttackPod, Watch_Mission07_PreAttackPod, kasAITeamPtr("FuelPod1WAVE2"));
	kasFSMCreate("PreAttackSwarm", Init_Mission07_PreAttackSwarm, Watch_Mission07_PreAttackSwarm, kasAITeamPtr("Swarmer1WAVE1"));
	kasFSMCreate("PreAttackSwarm", Init_Mission07_PreAttackSwarm, Watch_Mission07_PreAttackSwarm, kasAITeamPtr("Swarmer1WAVE2A"));
	kasFSMCreate("PreAttackSwarm", Init_Mission07_PreAttackSwarm, Watch_Mission07_PreAttackSwarm, kasAITeamPtr("Swarmer1WAVE2B"));
	kasFSMCreate("PreAttackPod", Init_Mission07_PreAttackPod, Watch_Mission07_PreAttackPod, kasAITeamPtr("FuelPod2WAVE1"));
	kasFSMCreate("PreAttackPod", Init_Mission07_PreAttackPod, Watch_Mission07_PreAttackPod, kasAITeamPtr("FuelPod2WAVE2"));
	kasFSMCreate("PreAttackSwarm", Init_Mission07_PreAttackSwarm, Watch_Mission07_PreAttackSwarm, kasAITeamPtr("Swarmer2WAVE1"));
	kasFSMCreate("PreAttackSwarm", Init_Mission07_PreAttackSwarm, Watch_Mission07_PreAttackSwarm, kasAITeamPtr("Swarmer2WAVE2A"));
	kasFSMCreate("PreAttackSwarm", Init_Mission07_PreAttackSwarm, Watch_Mission07_PreAttackSwarm, kasAITeamPtr("Swarmer2WAVE2B"));
	kasFSMCreate("PreAttackPod", Init_Mission07_PreAttackPod, Watch_Mission07_PreAttackPod, kasAITeamPtr("FuelPod3WAVE1"));
	kasFSMCreate("PreAttackPod", Init_Mission07_PreAttackPod, Watch_Mission07_PreAttackPod, kasAITeamPtr("FuelPod3WAVE2"));
	kasFSMCreate("PreAttackSwarm", Init_Mission07_PreAttackSwarm, Watch_Mission07_PreAttackSwarm, kasAITeamPtr("Swarmer3WAVE1"));
	kasFSMCreate("PreAttackSwarm", Init_Mission07_PreAttackSwarm, Watch_Mission07_PreAttackSwarm, kasAITeamPtr("Swarmer3WAVE2A"));
	kasFSMCreate("PreAttackSwarm", Init_Mission07_PreAttackSwarm, Watch_Mission07_PreAttackSwarm, kasAITeamPtr("Swarmer3WAVE2B"));
	kasFSMCreate("Events", Init_Mission07_Events, Watch_Mission07_Events, kasAITeamPtr("Dummy1"));
	(sdword)(kasfVarCreateSet("WorldStartRUs", (sdword)kasfGetWorldResources()), 0);
	(sdword)(kasfVarCreateSet("PreviousWorldRUs", (sdword)kasfGetWorldResources()), 0);
	(sdword)(kasfVarCreateSet("CurrentRUs", (sdword)kasfGetWorldResources()), 0);
	(sdword)(kasfVarCreateSet("G_HarvestedRUs", 0), 0);
	(sdword)(kasfSensorsWeirdness(160), 0);
	(sdword)(kasfSaveLevel(7, LSTRING_LevelSave[strCurLanguage]), 0);
	
}


//
//  "watch" code for Mission07 mission
//
void Watch_Mission07(void)
{
	CurrentMissionScope = KAS_SCOPE_MISSION;
	strcpy(CurrentMissionScopeName, "Mission07");
	(sdword)(kasfVarValueSet("CurrentRUs", (sdword)kasfGetWorldResources()), 0);
	(sdword)(kasfVarValueSet("G_HarvestedRUs", (sdword)kasfVarValueGet("HarvestedRUs") + ((sdword)kasfVarValueGet("PreviousWorldRUs") - (sdword)kasfVarValueGet("CurrentRUs"))), 0);
	(sdword)(kasfVarValueSet("PreviousWorldRUs", (sdword)kasfVarValueGet("CurrentRUs")), 0);
	(sdword)(kasfSensorsWeirdness((160 * (sdword)kasfVarValueGet("CurrentRUs")) / (sdword)kasfVarValueGet("WorldStartRUs")), 0);
	if (!kasfVarValueGet("_VIFONCE031") && ((sdword)kasfDoesPlayerHave("MassDrive10Kt"))) // "ifonce" #31
	{
	kasfVarCreateSet("_VIFONCE031", 1);
	(sdword)(kasfAllowPlayerToResearch("Chassis2"), 0);
	}
	if (!kasfVarValueGet("_VIFONCE032") && (((sdword)kasfDoesPlayerHave("Chassis2")) && ((sdword)kasfVarValueGet("SetMediumGuns") == 0))) // "ifonce" #32
	{
	kasfVarCreateSet("_VIFONCE032", 1);
	(sdword)(kasfAllowPlayerToResearch("MediumGuns"), 0);
	(sdword)(kasfVarCreateSet("SetMediumGuns", 1), 0);
	}
	if (!kasfVarValueGet("_VIFONCE033") && ((sdword)kasfDoesPlayerHave("MassDrive1Kt"))) // "ifonce" #33
	{
	kasfVarCreateSet("_VIFONCE033", 1);
	(sdword)(kasfAllowPlayerToResearch("Chassis2"), 0);
	}
	if (!kasfVarValueGet("_VIFONCE034") && (!(sdword)kasfDoesPlayerHave("MassDrive1Mt"))) // "ifonce" #34
	{
	kasfVarCreateSet("_VIFONCE034", 1);
	(sdword)(kasfTimerCreateSetStart("Tech1Mt", (sdword)kasfRandom(15, 25)), 0);
	}
	if ((sdword)kasfTimerExpiredDestroy("Tech1Mt"))
	{
	(sdword)(kasfSpeechEvent((531 + 4096 + 268435456), 0), 0);
	(sdword)(kasfAllowPlayerToResearch("MassDrive1Mt"), 0);
	}
	
}


