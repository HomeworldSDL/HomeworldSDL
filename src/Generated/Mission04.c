//
//  Mission04.c
//
//  Finite state machine routines for "Mission04" mission
//
//  Copyright (C) 1998 Relic Entertainment Inc.
//  All rights reserved
//
//  This code was autogenerated from Mission04.kp by KAS2C Version 2.05sdl
//


#include "Mission04.h"  // prototypes and #includes for exposed game functions

extern AITeam *CurrentTeamP;
#define kasThisTeamPtr CurrentTeamP

//  for run-time scoping of symbols (variables, timers, etc.)
extern sdword CurrentMissionScope;
extern char CurrentMissionScopeName[];

//  for displaying localized strings
extern udword strCurLanguage;

static char *LSTRING_LocationCard[] = {  // multilingual strings
	"Great Wastelands",
	"Macro-déserts",
	"Große Einöde",
	"Grandes páramos",
	"Le lande desolate", };

static char *LSTRING_PrimaryObjective01[] = {  // multilingual strings
	"Begin collection of resources.",
	"Démarrage collecte des ressources.",
	"Mit der Sammlung von Rohstoffen beginnen.",
	"Comenzar recolección de recursos.",
	"Inizia la raccolta delle risorse.", };

static char *LSTRING_PrimaryObjective02[] = {  // multilingual strings
	"Destroy all Turanic Raider ships",
	"Destruction totalité des Vaisseaux du Maraudeur Turanique",
	"Alle Schiffe der turanischen Freibeuter sind zu zerstören.",
	"Destruir todas las naves de asalto turánicas",
	"Distruggi tutte le astronavi Raider dei Turanic", };

static char *LSTRING_SecondaryObjective01[] = {  // multilingual strings
	"Build and Deploy Resource Controller",
	"Construction et mise en place du Contrôleur des Ressources",
	"Rohstoffüberwachungsschiff bauen und einsetzen.",
	"Construir y desarrollar controlador de recursos",
	"Costruisci e posiziona un Controllore di Risorse.", };

static char *LSTRING_FISetupCollection[] = {  // multilingual strings
	"Set up a collection operation.",
	"Mise en oeuvre opération de collecte.",
	"Sammelaktion einleiten.",
	"Establecer operación de recolección.",
	"Prepara un'operazione di raccolta.", };

static char *LSTRING_FIResourceControllerTip[] = {  // multilingual strings
	"Move your resource controller as close to heavy resource areas as possible.  This will reduce your resource collectors dropoff time and increase your resource collection efficiency.",
	"Approchez le plus possible votre Contrôleur des Ressources des gisements importants de ressources. Ceci réduira la durée de déchargement pour le Collecteur de Ressources et améliorera l'efficacité de la collecte.",
	"Bringen Sie Ihr Rohstoffüberwachungsschiff so dicht wie möglich an ergiebige Rohstoffbereiche heran. Das verringert die Transportzeit der Rohstoffernteschiffe und erhöht die Effizienz der Rohstoffernte.",
	"Acerca el controlador de recursos a las zonas con abundancia de recursos tanto como puedas. Esto reduce el tiempo de descarga de los recolectores de recursos y aumenta la eficacia de la recolección.",
	"Sposta il Collettore di Risorse il più vicino possibile alle zone più ricche di risorse. In questo modo, ridurrai al minimo i tempi morti della raccolta, ottimizzandone la produzione.", };

static char *LSTRING_TraderIntro[] = {  // multilingual strings
	"Welcome.",
	"Bienvenue.",
	"Willkommen.",
	"Bienvenido.",
	"Benvenuto.", };

static char *LSTRING_TraderPurchaseMade[] = {  // multilingual strings
	"Thank you.  Enjoy your purchase.",
	"Merci. Profitez bien de votre acquisition.",
	"Besten Dank. Erfreut euch an eurem Kauf.",
	"Gracias. Que disfrutes de tu compra.",
	"Grazie. Speriamo che il tuo acquisto ti torni utile.", };

static char *LSTRING_Savegame[] = {  // multilingual strings
	"04 - Great Wastelands",
	"04 - Macro-déserts",
	"04 - Große Einöde",
	"04 - Grandes páramos",
	"04 - Le lande desolate", };

static char *LSTRING_Objective1[] = {  // multilingual strings
	"Protect The Fleet",
	"Protection de la Flotte",
	"Die Flotte schützen.",
	"Proteger la flota",
	"Progetta la flotta", };

static char *LSTRING_GoodBusiness[] = {  // multilingual strings
	"When you have collected enough resources we have a piece of technology that we would be willing to sell you.",
	"Nous possédons une avancée technologique que nous serions prêts à vous vendre lorsque vous aurez réuni assez de ressources.",
	"Wenn ihr genügend Rohstoffe gesammelt habt, haben wir eine Technologie, die wir euch verkaufen würden",
	"Cuando hayas recolectado suficientes recursos, tenemos cierta tecnología que estamos dispuestos a venderte.",
	"Quando avrai raccolto risorse sufficienti, vieni da noi: abbiamo qualcosa che crediamo ti potrà tornare davvero utile.", };

static char *LSTRING_IonFrigs[] = {  // multilingual strings
	"Several Turanic Raider capital ships have just hyperspaced in close to the Mothership.  They pose by far the greatest threat yet faced.  Protecting the Mothership is the highest priority.",
	"Plusieurs Unités lourdes du Maraudeur Turanique viennent de sortir de l'hyperespace près du Vaisseau Mère. C'est de loin la menace la plus sérieuse qui se soit présentée jusqu'à présent. Priorité absolue : Protection du Vaisseau Mère.",
	"Mehrere Schlachtschiffe der turanischen Freibeuter sind gerade in der Nähe des Mutterschiffs aus dem Hyperraum gekommen. Sie stellen mit Abstand die größte Gefahr dar, der wir uns je gegenüber sahen. Der Schutz des Mutterschiffs hat oberste Priorität.",
	"Varias Naves capital turánicas de asalto acaban de salir del hiperespacio cerca de la Nave nodriza. Representan el mayor peligro al que nos hemos enfrentado. Nuestra prioridad es la de proteger a la Nave nodriza.",
	"Molte navi Incursori dei Turanic sono appena emerse dall'Iperspazio e si stanno dirigendo verso l'Astronave Madre. Siamo di fronte a una minaccia senza precedenti, è assolutamente necessario difendere l'Astronave Madre.", };

static char *LSTRING_TBHyperspace[] = {  // multilingual strings
	"                HYPERSPACE",
	"                HYPERESPACE",
	"        HYPERRAUMSPRUNG",
	"              HIPERESPACIO",
	"				IPERSPAZIO", };

static char *LSTRING_FIGoGetThem[] = {  // multilingual strings
	"Destroy Retreating Turanic Raider Carrier",
	"Destruction du transporteur fuyard du Maraudeur Turanique",
	"Trägerschiffe der zurückweichenden turanischen Freibeuter zerstören.",
	"Destruir el portanaves de asalto turánico que se retira",
	"Distruggi l'astronave Porta-Incursori dei Turanic in ritirata.", };

//
//  "initialize" code for Mission04 Traders FSM
//
void Init_Mission04_Traders(void)
{
	CurrentMissionScope = KAS_SCOPE_FSM;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfVarCreateSet("G_FuckingStupid", 0), 0);
	(sdword)(kasfSetTraderDisabled(0), 0);
	(sdword)(kasfTeamSetMaxVelocity(10000), 0);
	(sdword)(kasfTeamHyperspaceOut(), 0);
	kasJump("Wait", Init_Mission04_Traders_Wait, Watch_Mission04_Traders_Wait);
	return;
	
}


//
//  "watch" code for Mission04 Traders FSM
//
void Watch_Mission04_Traders(void)
{
	CurrentMissionScope = KAS_SCOPE_FSM;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)kasfUnderAttack(kasGrowSelectionPtr("FuckingStupid"));
	(sdword)kasfShipsSelectCapital(kasGrowSelectionPtr("CapsFuckingStupid"), kasGrowSelectionPtr("FuckingStupid"));
	if (((sdword)kasfShipsCount(kasGrowSelectionPtr("FuckingStupid")) > 0) && ((sdword)kasfVarValueGet("G_FuckingStupid") == 0) && ((sdword)kasfVarValueGet("G_TradersRHere") == 1))
	{
	(sdword)(kasfVarValueSet("G_FuckingStupid", 1), 0);
	(sdword)(kasfTimerCreateSetStart("AttackTraders1Timer", 16), 0);
	kasJump("Attack1", Init_Mission04_Traders_Attack1, Watch_Mission04_Traders_Attack1);
	return;
	}
	
}


//
//  "initialize" code for Mission04 Traders Wait state
//
void Init_Mission04_Traders_Wait(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "watch" code for Mission04 Traders Wait state
//
void Watch_Mission04_Traders_Wait(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if (!kasfVarValueGet("_VIFONCE001") && ((sdword)kasfTimerExpiredDestroy("G_TimerTradersVisit"))) // "ifonce" #1
	{
	kasfVarCreateSet("_VIFONCE001", 1);
	kasJump("TradersHyperspaceIn", Init_Mission04_Traders_TradersHyperspaceIn, Watch_Mission04_Traders_TradersHyperspaceIn);
	return;
	}
	
}


//
//  "initialize" code for Mission04 Traders Attack1 state
//
void Init_Mission04_Traders_Attack1(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfStop(), 0);
	
}


//
//  "watch" code for Mission04 Traders Attack1 state
//
void Watch_Mission04_Traders_Attack1(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if (((sdword)kasfTimerExpired("AttackTraders1Timer")) && ((sdword)kasfUnderAttack(kasGrowSelectionPtr("FuckingStupid")) > 0))
	{
	kasJump("Attack2", Init_Mission04_Traders_Attack2, Watch_Mission04_Traders_Attack2);
	return;
	}
	else if (((sdword)kasfTimerExpired("AttackTraders1Timer")) && ((sdword)kasfUnderAttack(kasGrowSelectionPtr("FuckingStupid")) < 1))
	{
	(sdword)(kasfVarValueSet("G_FuckingStupid", 0), 0);
	if ((sdword)kasfVarValueGet("BentState") == 1)
	{
	kasJump("TradersHyperspaceIn", Init_Mission04_Traders_TradersHyperspaceIn, Watch_Mission04_Traders_TradersHyperspaceIn);
	return;
	}
	else if ((sdword)kasfVarValueGet("BentState") == 2)
	{
	kasJump("TradersHyperspaceIn", Init_Mission04_Traders_TradersHyperspaceIn, Watch_Mission04_Traders_TradersHyperspaceIn);
	return;
	}
	else if ((sdword)kasfVarValueGet("BentState") == 3)
	{
	kasJump("TimeToTrade", Init_Mission04_Traders_TimeToTrade, Watch_Mission04_Traders_TimeToTrade);
	return;
	}
	else if ((sdword)kasfVarValueGet("BentState") == 4)
	{
	kasJump("TradersLeave", Init_Mission04_Traders_TradersLeave, Watch_Mission04_Traders_TradersLeave);
	return;
	}
	}
	
}


//
//  "initialize" code for Mission04 Traders Attack2 state
//
void Init_Mission04_Traders_Attack2(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfVarCreateSet("G_FuckingStupid2", 1), 0);
	
}


//
//  "watch" code for Mission04 Traders Attack2 state
//
void Watch_Mission04_Traders_Attack2(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)kasfFindEnemiesInside(kasVolumePtr("WorldSphere"), kasGrowSelectionPtr("DeadPlayerShips"), 1000000);
	(sdword)kasfShipsSelectCapital(kasGrowSelectionPtr("DeadPlayerCaps"), kasGrowSelectionPtr("DeadPlayerShips"));
	if ((sdword)kasfShipsCount(kasGrowSelectionPtr("DeadPlayerCaps")) > 0)
	{
	(sdword)(kasfAttack(kasGrowSelectionPtr("DeadPlayerCaps")), 0);
	}
	else if ((sdword)kasfShipsCount(kasGrowSelectionPtr("DeadPlayerCaps")) < 1)
	{
	kasJump("TradersLeave", Init_Mission04_Traders_TradersLeave, Watch_Mission04_Traders_TradersLeave);
	return;
	}
	
}


//
//  "initialize" code for Mission04 Traders TradersHyperspaceIn state
//
void Init_Mission04_Traders_TradersHyperspaceIn(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if (!kasfVarValueGet("_VIFONCE002") && (1)) // "ifonce" #2
	{
	kasfVarCreateSet("_VIFONCE002", 1);
	(sdword)(kasfTeamHyperspaceIn(kasVectorPtr("TraderOriginPoint")), 0);
	}
	(sdword)(kasfVarCreateSet("BentState", 1), 0);
	(sdword)(kasfPatrolPath(kasPathPtr("BentusiAvenue")), 0);
	kasJump("BentusiFleetIntelIN", Init_Mission04_Traders_BentusiFleetIntelIN, Watch_Mission04_Traders_BentusiFleetIntelIN);
	return;
	
}


//
//  "watch" code for Mission04 Traders TradersHyperspaceIn state
//
void Watch_Mission04_Traders_TradersHyperspaceIn(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "initialize" code for Mission04 Traders BentusiFleetIntelIN state
//
void Init_Mission04_Traders_BentusiFleetIntelIN(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfVarValueSet("BentState", 2), 0);
	
}


//
//  "watch" code for Mission04 Traders BentusiFleetIntelIN state
//
void Watch_Mission04_Traders_BentusiFleetIntelIN(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if (!kasfVarValueGet("_VIFONCE003") && (((sdword)kasfFindShipsInside(kasVolumePtr("PlayIntelHere"), kasGrowSelectionPtr("IsInside")) > 0) && ((sdword)kasfShipsSelectType(kasGrowSelectionPtr("ISBentusi"), kasGrowSelectionPtr("IsInside"), "FloatingCity") > 0))) // "ifonce" #3
	{
	kasfVarCreateSet("_VIFONCE003", 1);
	(sdword)(kasfWideScreenIn(75), 0);
	(sdword)(kasfTimerCreateSetStart("BentTimer", 3), 0);
	}
	if (!kasfVarValueGet("_VIFONCE004") && ((sdword)kasfTimerExpiredDestroy("BentTimer"))) // "ifonce" #4
	{
	kasfVarCreateSet("_VIFONCE004", 1);
	(sdword)(kasfPauseBuildShips(), 0);
	(sdword)(kasfVarCreateSet("G_TradersRHere", 1), 0);
	kasJump("BentusiFIOpenSensors", Init_Mission04_Traders_BentusiFIOpenSensors, Watch_Mission04_Traders_BentusiFIOpenSensors);
	return;
	}
	
}


//
//  "initialize" code for Mission04 Traders BentusiFIOpenSensors state
//
void Init_Mission04_Traders_BentusiFIOpenSensors(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfPingAddShips(kasAITeamShipsPtr("Traders"), "BentusiPing"), 0);
	(sdword)(kasfOpenSensors(1), 0);
	(sdword)(kasfSpeechEvent((481 + 4096 + 268435456), 0), 0);
	kasJump("BentusiFIpointer", Init_Mission04_Traders_BentusiFIpointer, Watch_Mission04_Traders_BentusiFIpointer);
	return;
	
}


//
//  "watch" code for Mission04 Traders BentusiFIOpenSensors state
//
void Watch_Mission04_Traders_BentusiFIOpenSensors(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "initialize" code for Mission04 Traders BentusiFIpointer state
//
void Init_Mission04_Traders_BentusiFIpointer(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfTutSetPointerTargetShip("BentusiPOINTER", kasAITeamShipsPtr("Traders")), 0);
	kasJump("TradersFCFeelie", Init_Mission04_Traders_TradersFCFeelie, Watch_Mission04_Traders_TradersFCFeelie);
	return;
	
}


//
//  "watch" code for Mission04 Traders BentusiFIpointer state
//
void Watch_Mission04_Traders_BentusiFIpointer(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "initialize" code for Mission04 Traders TradersFCFeelie state
//
void Init_Mission04_Traders_TradersFCFeelie(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "watch" code for Mission04 Traders TradersFCFeelie state
//
void Watch_Mission04_Traders_TradersFCFeelie(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((sdword)kasfPathNextPoint() == 0)
	{
	(sdword)(kasfPingRemove("BentusiPing"), 0);
	(sdword)(kasfHideShips(kasAITeamShipsPtr("Traders")), 0);
	kasJump("TraderNIS", Init_Mission04_Traders_TraderNIS, Watch_Mission04_Traders_TraderNIS);
	return;
	}
	
}


//
//  "initialize" code for Mission04 Traders TraderNIS state
//
void Init_Mission04_Traders_TraderNIS(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfTutRemoveAllPointers(), 0);
	(sdword)(kasfCloseSensors(1), 0);
	(sdword)(kasfTeamAttributesSet(256), 0);
	(sdword)(kasfVarCreateSet("G_PlayNis", 4), 0);
	
}


//
//  "watch" code for Mission04 Traders TraderNIS state
//
void Watch_Mission04_Traders_TraderNIS(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if (!kasfVarValueGet("_VIFONCE005") && (1)) // "ifonce" #5
	{
	kasfVarCreateSet("_VIFONCE005", 1);
	(sdword)kasfShipsSelectIndex(kasGrowSelectionPtr("Trader"), (&kasThisTeamPtr->shipList), 0);
	(sdword)(kasfDeleteShips(kasGrowSelectionPtr("Trader")), 0);
	}
	if (!kasfVarValueGet("_VIFONCE006") && ((sdword)kasfVarValueGet("G_Nis4Complete"))) // "ifonce" #6
	{
	kasfVarCreateSet("_VIFONCE006", 1);
	(sdword)(kasfUnpauseBuildShips(), 0);
	(sdword)(kasfTimerCreateSetStart("NisTimer", 2), 0);
	}
	if ((sdword)kasfTimerExpiredDestroy("NisTimer"))
	{
	kasJump("TimeToTrade", Init_Mission04_Traders_TimeToTrade, Watch_Mission04_Traders_TimeToTrade);
	return;
	}
	
}


//
//  "initialize" code for Mission04 Traders TimeToTrade state
//
void Init_Mission04_Traders_TimeToTrade(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfVarValueSet("BentState", 3), 0);
	(sdword)(kasfSoundEvent(267), 0);
	if ((sdword)kasfDoesPlayerHave("Chassis3"))
	{
	(sdword)(kasfEnableTraderGUI(), 0);
	if ((sdword)kasfRUsGet(0) < 500)
	{
	(sdword)(kasfSetBaseTechnologyCost("IonWeapons", 300), 0);
	}
	else if ((sdword)kasfRUsGet(0) > 500)
	{
	(sdword)(kasfSetBaseTechnologyCost("IonWeapons", 500), 0);
	}
	(sdword)(kasfAllowPlayerToPurchase("IonWeapons"), 0);
	(sdword)(kasfSetTraderDialog(0, LSTRING_TraderIntro[strCurLanguage]), 0);
	(sdword)(kasfSetTraderDialog(1, LSTRING_TraderIntro[strCurLanguage]), 0);
	(sdword)(kasfSetTraderDialog(2, LSTRING_GoodBusiness[strCurLanguage]), 0);
	(sdword)(kasfSetTraderDialog(4, LSTRING_TraderPurchaseMade[strCurLanguage]), 0);
	(sdword)(kasfSetTraderDialog(5, LSTRING_TraderPurchaseMade[strCurLanguage]), 0);
	}
	else if (!((sdword)kasfDoesPlayerHave("Chassis3")))
	{
	(sdword)(kasfEnableTraderGUI(), 0);
	if ((sdword)kasfRUsGet(0) < 500)
	{
	(sdword)(kasfSetBaseTechnologyCost("PlasmaWeapons", 300), 0);
	}
	else if ((sdword)kasfRUsGet(0) > 500)
	{
	(sdword)(kasfSetBaseTechnologyCost("PlasmaWeapons", 500), 0);
	}
	(sdword)(kasfAllowPlayerToPurchase("PlasmaWeapons"), 0);
	(sdword)(kasfSetTraderDialog(0, LSTRING_TraderIntro[strCurLanguage]), 0);
	(sdword)(kasfSetTraderDialog(1, LSTRING_TraderIntro[strCurLanguage]), 0);
	(sdword)(kasfSetTraderDialog(2, LSTRING_GoodBusiness[strCurLanguage]), 0);
	(sdword)(kasfSetTraderDialog(4, LSTRING_TraderPurchaseMade[strCurLanguage]), 0);
	(sdword)(kasfSetTraderDialog(5, LSTRING_TraderPurchaseMade[strCurLanguage]), 0);
	}
	(sdword)(kasfTimerCreateSetStart("FuckOffTimer", 300), 0);
	
}


//
//  "watch" code for Mission04 Traders TimeToTrade state
//
void Watch_Mission04_Traders_TimeToTrade(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if (((!(sdword)kasfTraderGUIActive()) && (((sdword)kasfDoesPlayerHave("IonWeapons")) || ((sdword)kasfDoesPlayerHave("PlasmaWeapons")))) || ((sdword)kasfTimerExpiredDestroy("FuckOffTimer")))
	{
	kasJump("TipClickToTrade", Init_Mission04_Traders_TipClickToTrade, Watch_Mission04_Traders_TipClickToTrade);
	return;
	}
	
}


//
//  "initialize" code for Mission04 Traders TipClickToTrade state
//
void Init_Mission04_Traders_TipClickToTrade(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfTimerCreateSetStart("TipClickToTrade", 1), 0);
	
}


//
//  "watch" code for Mission04 Traders TipClickToTrade state
//
void Watch_Mission04_Traders_TipClickToTrade(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((sdword)kasfTimerExpiredDestroy("TipClickToTrade"))
	{
	kasJump("TaiidanAgentsArrive", Init_Mission04_Traders_TaiidanAgentsArrive, Watch_Mission04_Traders_TaiidanAgentsArrive);
	return;
	}
	
}


//
//  "initialize" code for Mission04 Traders TaiidanAgentsArrive state
//
void Init_Mission04_Traders_TaiidanAgentsArrive(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((sdword)kasfRaceOfHuman() == 0)
	{
	(sdword)(kasfSpeechEvent((492 + 8192 + 268435456), 0), 0);
	}
	else if ((sdword)kasfRaceOfHuman() == 1)
	{
	(sdword)(kasfSpeechEvent((493 + 8192 + 268435456), 0), 0);
	}
	(sdword)(kasfTimerCreateSetStart("GoneTimer", 12), 0);
	
}


//
//  "watch" code for Mission04 Traders TaiidanAgentsArrive state
//
void Watch_Mission04_Traders_TaiidanAgentsArrive(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((sdword)kasfTimerExpiredDestroy("GoneTimer"))
	{
	kasJump("TradersLeave", Init_Mission04_Traders_TradersLeave, Watch_Mission04_Traders_TradersLeave);
	return;
	}
	
}


//
//  "initialize" code for Mission04 Traders TradersLeave state
//
void Init_Mission04_Traders_TradersLeave(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfVarValueSet("BentState", 4), 0);
	(sdword)(kasfSetTraderDisabled(1), 0);
	(sdword)(kasfTimerCreateSetStart("AllHellLetsLoose", 15), 0);
	(sdword)(kasfVarDestroy("G_TradersRHere"), 0);
	(sdword)(kasfTeamHyperspaceOut(), 0);
	
}


//
//  "watch" code for Mission04 Traders TradersLeave state
//
void Watch_Mission04_Traders_TradersLeave(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	kasJump("Done", Init_Mission04_Traders_Done, Watch_Mission04_Traders_Done);
	return;
	
}


//
//  "initialize" code for Mission04 Traders AlmostDone state
//
void Init_Mission04_Traders_AlmostDone(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfTutRemoveAllPointers(), 0);
	(sdword)(kasfUniverseUnpause(), 0);
	(sdword)(kasfCloseSensors(1), 0);
	kasJump("Done", Init_Mission04_Traders_Done, Watch_Mission04_Traders_Done);
	return;
	
}


//
//  "watch" code for Mission04 Traders AlmostDone state
//
void Watch_Mission04_Traders_AlmostDone(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "initialize" code for Mission04 Traders Done state
//
void Init_Mission04_Traders_Done(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "watch" code for Mission04 Traders Done state
//
void Watch_Mission04_Traders_Done(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if (!kasfVarValueGet("_VIFONCE007") && ((sdword)kasfTimerExpiredDestroy("AllHellLetsLoose"))) // "ifonce" #7
	{
	kasfVarCreateSet("_VIFONCE007", 1);
	(sdword)(kasfMsgSendAll("AttackPlayerMothership"), 0);
	(sdword)(kasfVarCreateSet("G_AssaultMsgSent", 1), 0);
	(sdword)(kasfMsgSendAll("TradersGone"), 0);
	}
	
}


//
//  "initialize" code for Mission04 MissionBriefing FSM
//
void Init_Mission04_MissionBriefing(void)
{
	CurrentMissionScope = KAS_SCOPE_FSM;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfVarCreateSet("G_AreTheyHere", 0), 0);
	(sdword)(kasfTimerCreateSetStart("TimerFIInitialBriefing", 4), 0);
	
}


//
//  "watch" code for Mission04 MissionBriefing FSM
//
void Watch_Mission04_MissionBriefing(void)
{
	CurrentMissionScope = KAS_SCOPE_FSM;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if (!kasfVarValueGet("_VIFONCE008") && ((sdword)kasfTimerExpired("TimerFIInitialBriefing"))) // "ifonce" #8
	{
	kasfVarCreateSet("_VIFONCE008", 1);
	kasJump("ResourceVeinsIntro", Init_Mission04_MissionBriefing_ResourceVeinsIntro, Watch_Mission04_MissionBriefing_ResourceVeinsIntro);
	return;
	}
	if (!kasfVarValueGet("_VIFONCE009") && ((sdword)kasfRUsEnemyCollected() >= 600)) // "ifonce" #9
	{
	kasfVarCreateSet("_VIFONCE009", 1);
	(sdword)(kasfTimerCreateSetStart("G_TimerTradersVisit", 9), 0);
	(sdword)(kasfObjectiveSet("CollectResources", 1), 0);
	}
	
}


//
//  "initialize" code for Mission04 MissionBriefing ResourceVeinsIntro state
//
void Init_Mission04_MissionBriefing_ResourceVeinsIntro(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfSpeechEvent((478 + 2048 + 268435456), 0), 0);
	(sdword)(kasfTimerCreateSetStart("MarniTimer", 5), 0);
	
}


//
//  "watch" code for Mission04 MissionBriefing ResourceVeinsIntro state
//
void Watch_Mission04_MissionBriefing_ResourceVeinsIntro(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((sdword)kasfTimerExpiredDestroy("MarniTimer"))
	{
	kasJump("ResourceVeinsTransIn", Init_Mission04_MissionBriefing_ResourceVeinsTransIn, Watch_Mission04_MissionBriefing_ResourceVeinsTransIn);
	return;
	}
	
}


//
//  "initialize" code for Mission04 MissionBriefing ResourceVeinsTransIn state
//
void Init_Mission04_MissionBriefing_ResourceVeinsTransIn(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfWideScreenIn(90), 0);
	kasJump("ResourceVeinsOpenSensors", Init_Mission04_MissionBriefing_ResourceVeinsOpenSensors, Watch_Mission04_MissionBriefing_ResourceVeinsOpenSensors);
	return;
	
}


//
//  "watch" code for Mission04 MissionBriefing ResourceVeinsTransIn state
//
void Watch_Mission04_MissionBriefing_ResourceVeinsTransIn(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "initialize" code for Mission04 MissionBriefing ResourceVeinsOpenSensors state
//
void Init_Mission04_MissionBriefing_ResourceVeinsOpenSensors(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfTimerCreateSetStart("FIOpenSensorsTimer", 4), 0);
	
}


//
//  "watch" code for Mission04 MissionBriefing ResourceVeinsOpenSensors state
//
void Watch_Mission04_MissionBriefing_ResourceVeinsOpenSensors(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((sdword)kasfTimerExpiredDestroy("FIOpenSensorsTimer"))
	{
	(sdword)(kasfOpenSensors(1), 0);
	(sdword)(kasfUniversePause(), 0);
	kasJump("FIResourceVeins", Init_Mission04_MissionBriefing_FIResourceVeins, Watch_Mission04_MissionBriefing_FIResourceVeins);
	return;
	}
	
}


//
//  "initialize" code for Mission04 MissionBriefing FIResourceVeins state
//
void Init_Mission04_MissionBriefing_FIResourceVeins(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfSpeechEvent((479 + 4096 + 268435456), 0), 0);
	(sdword)(kasfObjectiveCreate("CollectResources", LSTRING_PrimaryObjective01[strCurLanguage], LSTRING_FISetupCollection[strCurLanguage]), 0);
	(sdword)(kasfTimerCreateSetStart("FISeTimer", 1), 0);
	
}


//
//  "watch" code for Mission04 MissionBriefing FIResourceVeins state
//
void Watch_Mission04_MissionBriefing_FIResourceVeins(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((sdword)kasfIntelEventEnded())
	{
	(sdword)(kasfTimerCreateSetStart("G_TimerSecondaryObjective01", 30), 0);
	(sdword)(kasfWideScreenOut(30), 0);
	kasJump("Done", Init_Mission04_MissionBriefing_Done, Watch_Mission04_MissionBriefing_Done);
	return;
	}
	if ((sdword)kasfTimerExpiredDestroy("FISeTimer"))
	{
	kasJump("FIResourceVeinsPING", Init_Mission04_MissionBriefing_FIResourceVeinsPING, Watch_Mission04_MissionBriefing_FIResourceVeinsPING);
	return;
	}
	
}


//
//  "initialize" code for Mission04 MissionBriefing FIResourceVeinsPING state
//
void Init_Mission04_MissionBriefing_FIResourceVeinsPING(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfTutSetPointerTargetAIVolume("ResourceVeinsPOINTER", kasVolumePtr("ResourcePointerVolume")), 0);
	(sdword)(kasfTimerCreateSetStart("FIFIResourceVeinsPINGTimer", 5), 0);
	
}


//
//  "watch" code for Mission04 MissionBriefing FIResourceVeinsPING state
//
void Watch_Mission04_MissionBriefing_FIResourceVeinsPING(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((sdword)kasfTimerExpiredDestroy("FIFIResourceVeinsPINGTimer"))
	{
	kasJump("ResourceVeinsTransOut", Init_Mission04_MissionBriefing_ResourceVeinsTransOut, Watch_Mission04_MissionBriefing_ResourceVeinsTransOut);
	return;
	}
	
}


//
//  "initialize" code for Mission04 MissionBriefing ResourceVeinsTransOut state
//
void Init_Mission04_MissionBriefing_ResourceVeinsTransOut(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfWideScreenOut(60), 0);
	(sdword)(kasfTimerCreateSetStart("TimerTransOut", 1), 0);
	
}


//
//  "watch" code for Mission04 MissionBriefing ResourceVeinsTransOut state
//
void Watch_Mission04_MissionBriefing_ResourceVeinsTransOut(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if (((sdword)kasfTimerExpiredDestroy("TimerTransOut")) || ((sdword)kasfIntelEventEnded()))
	{
	(sdword)(kasfTimerCreateSetStart("G_TimerSecondaryObjective01", 15), 0);
	kasJump("Done", Init_Mission04_MissionBriefing_Done, Watch_Mission04_MissionBriefing_Done);
	return;
	}
	
}


//
//  "initialize" code for Mission04 MissionBriefing HasTech state
//
void Init_Mission04_MissionBriefing_HasTech(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfSpeechEvent((480 + 4096 + 268435456), 0), 0);
	(sdword)(kasfObjectiveCreateSecondary("BuildResourceController", LSTRING_SecondaryObjective01[strCurLanguage], LSTRING_FIResourceControllerTip[strCurLanguage]), 0);
	
}


//
//  "watch" code for Mission04 MissionBriefing HasTech state
//
void Watch_Mission04_MissionBriefing_HasTech(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((sdword)kasfIntelEventEnded())
	{
	kasJump("Done", Init_Mission04_MissionBriefing_Done, Watch_Mission04_MissionBriefing_Done);
	return;
	}
	
}


//
//  "initialize" code for Mission04 MissionBriefing HasShip state
//
void Init_Mission04_MissionBriefing_HasShip(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfSpeechEvent((761 + 4096 + 268435456), 0), 0);
	
}


//
//  "watch" code for Mission04 MissionBriefing HasShip state
//
void Watch_Mission04_MissionBriefing_HasShip(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((sdword)kasfIntelEventEnded())
	{
	kasJump("Done", Init_Mission04_MissionBriefing_Done, Watch_Mission04_MissionBriefing_Done);
	return;
	}
	
}


//
//  "initialize" code for Mission04 MissionBriefing FrigatesFITransIn state
//
void Init_Mission04_MissionBriefing_FrigatesFITransIn(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfWideScreenIn(45), 0);
	(sdword)(kasfMusicPlay(12), 0);
	(sdword)(kasfPingAddShips(kasAITeamShipsPtr("IonFrig1"), "Turanic Raider Ion Array Frigate"), 0);
	(sdword)(kasfPingAddShips(kasAITeamShipsPtr("IonFrig2"), "Turanic Raider Ion Array Frigate"), 0);
	(sdword)(kasfPingAddShips(kasAITeamShipsPtr("IonFrig3"), "Turanic Raider Ion Array Frigate"), 0);
	
}


//
//  "watch" code for Mission04 MissionBriefing FrigatesFITransIn state
//
void Watch_Mission04_MissionBriefing_FrigatesFITransIn(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	kasJump("FrigatesFIOpenSensors", Init_Mission04_MissionBriefing_FrigatesFIOpenSensors, Watch_Mission04_MissionBriefing_FrigatesFIOpenSensors);
	return;
	
}


//
//  "initialize" code for Mission04 MissionBriefing FrigatesFIOpenSensors state
//
void Init_Mission04_MissionBriefing_FrigatesFIOpenSensors(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfTimerCreateSetStart("FIOpenSensorsTimer", 1), 0);
	
}


//
//  "watch" code for Mission04 MissionBriefing FrigatesFIOpenSensors state
//
void Watch_Mission04_MissionBriefing_FrigatesFIOpenSensors(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((sdword)kasfTimerExpired("FIOpenSensorsTimer"))
	{
	(sdword)(kasfOpenSensors(1), 0);
	(sdword)(kasfUniversePause(), 0);
	kasJump("FrigateFI", Init_Mission04_MissionBriefing_FrigateFI, Watch_Mission04_MissionBriefing_FrigateFI);
	return;
	}
	
}


//
//  "initialize" code for Mission04 MissionBriefing FrigateFI state
//
void Init_Mission04_MissionBriefing_FrigateFI(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfSpeechEvent((498 + 4096 + 268435456), 0), 0);
	(sdword)(kasfTimerCreateSetStart("TimerResourceVeins", 2), 0);
	
}


//
//  "watch" code for Mission04 MissionBriefing FrigateFI state
//
void Watch_Mission04_MissionBriefing_FrigateFI(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((sdword)kasfTimerExpiredDestroy("TimerResourceVeins"))
	{
	kasJump("FrigatesFIPingAndPointer", Init_Mission04_MissionBriefing_FrigatesFIPingAndPointer, Watch_Mission04_MissionBriefing_FrigatesFIPingAndPointer);
	return;
	}
	
}


//
//  "initialize" code for Mission04 MissionBriefing FrigatesFIPingAndPointer state
//
void Init_Mission04_MissionBriefing_FrigatesFIPingAndPointer(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfTutSetPointerTargetShip("Frig1POINTER", kasAITeamShipsPtr("IonFrig1")), 0);
	(sdword)(kasfTutSetPointerTargetShip("Frig2POINTER", kasAITeamShipsPtr("IonFrig2")), 0);
	(sdword)(kasfTutSetPointerTargetShip("Frig3POINTER", kasAITeamShipsPtr("IonFrig3")), 0);
	(sdword)(kasfTimerCreateSetStart("FIPointerTimer", 4), 0);
	
}


//
//  "watch" code for Mission04 MissionBriefing FrigatesFIPingAndPointer state
//
void Watch_Mission04_MissionBriefing_FrigatesFIPingAndPointer(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((sdword)kasfTimerExpiredDestroy("FIPointerTimer"))
	{
	kasJump("FrigatesFITransOut", Init_Mission04_MissionBriefing_FrigatesFITransOut, Watch_Mission04_MissionBriefing_FrigatesFITransOut);
	return;
	}
	
}


//
//  "initialize" code for Mission04 MissionBriefing FrigatesFITransOut state
//
void Init_Mission04_MissionBriefing_FrigatesFITransOut(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfWideScreenOut(60), 0);
	kasJump("Done", Init_Mission04_MissionBriefing_Done, Watch_Mission04_MissionBriefing_Done);
	return;
	
}


//
//  "watch" code for Mission04 MissionBriefing FrigatesFITransOut state
//
void Watch_Mission04_MissionBriefing_FrigatesFITransOut(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "initialize" code for Mission04 MissionBriefing PTFTransIn state
//
void Init_Mission04_MissionBriefing_PTFTransIn(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfWideScreenIn(90), 0);
	kasJump("PTFOpenSensors", Init_Mission04_MissionBriefing_PTFOpenSensors, Watch_Mission04_MissionBriefing_PTFOpenSensors);
	return;
	
}


//
//  "watch" code for Mission04 MissionBriefing PTFTransIn state
//
void Watch_Mission04_MissionBriefing_PTFTransIn(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "initialize" code for Mission04 MissionBriefing PTFOpenSensors state
//
void Init_Mission04_MissionBriefing_PTFOpenSensors(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfTimerCreateSetStart("FIOpenSensorsTimer", 2), 0);
	
}


//
//  "watch" code for Mission04 MissionBriefing PTFOpenSensors state
//
void Watch_Mission04_MissionBriefing_PTFOpenSensors(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((sdword)kasfTimerExpired("FIOpenSensorsTimer"))
	{
	(sdword)(kasfOpenSensors(1), 0);
	(sdword)(kasfUniversePause(), 0);
	kasJump("ProtectFI", Init_Mission04_MissionBriefing_ProtectFI, Watch_Mission04_MissionBriefing_ProtectFI);
	return;
	}
	
}


//
//  "initialize" code for Mission04 MissionBriefing ProtectFI state
//
void Init_Mission04_MissionBriefing_ProtectFI(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((sdword)kasfShipsCount(kasGrowSelectionPtr("ResourcersNearby")) > 0)
	{
	(sdword)(kasfSpeechEvent((497 + 4096 + 268435456), 0), 0);
	}
	else
	{
	(sdword)(kasfSpeechEvent((816 + 4096 + 268435456), 0), 0);
	}
	(sdword)(kasfObjectiveCreate("ProtectTheFleet", LSTRING_Objective1[strCurLanguage], LSTRING_IonFrigs[strCurLanguage]), 0);
	(sdword)(kasfTimerCreateSetStart("TimerProtect", 2), 0);
	
}


//
//  "watch" code for Mission04 MissionBriefing ProtectFI state
//
void Watch_Mission04_MissionBriefing_ProtectFI(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((sdword)kasfIntelEventEnded())
	{
	(sdword)(kasfWideScreenOut(30), 0);
	kasJump("Done", Init_Mission04_MissionBriefing_Done, Watch_Mission04_MissionBriefing_Done);
	return;
	}
	if ((sdword)kasfTimerExpiredDestroy("TimerProtect"))
	{
	kasJump("PTFPingAndPointer", Init_Mission04_MissionBriefing_PTFPingAndPointer, Watch_Mission04_MissionBriefing_PTFPingAndPointer);
	return;
	}
	
}


//
//  "initialize" code for Mission04 MissionBriefing PTFPingAndPointer state
//
void Init_Mission04_MissionBriefing_PTFPingAndPointer(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((sdword)kasfVarValueGet("G_IAmTheWalrus") == 1)
	{
	(sdword)(kasfTutSetPointerTargetShip("BadPOINTER", kasAITeamShipsPtr("TuranicHarrassFighters")), 0);
	}
	else if ((sdword)kasfVarValueGet("G_IAmTheWalrus") == 2)
	{
	(sdword)(kasfTutSetPointerTargetShip("BadPOINTER", kasAITeamShipsPtr("TuranicFighters")), 0);
	}
	else if ((sdword)kasfVarValueGet("G_IAmTheWalrus") == 3)
	{
	(sdword)(kasfTutSetPointerTargetShip("BadPOINTER", kasAITeamShipsPtr("StdCorvette1")), 0);
	}
	else if ((sdword)kasfVarValueGet("G_IAmTheWalrus") == 4)
	{
	(sdword)(kasfTutSetPointerTargetShip("BadPOINTER", kasAITeamShipsPtr("StdCorvette2")), 0);
	}
	else if ((sdword)kasfVarValueGet("G_IAmTheWalrus") == 5)
	{
	(sdword)(kasfTutSetPointerTargetShip("BadPOINTER", kasAITeamShipsPtr("MissileCorvette1")), 0);
	}
	(sdword)(kasfTimerCreateSetStart("FIPointerTimer", 9), 0);
	
}


//
//  "watch" code for Mission04 MissionBriefing PTFPingAndPointer state
//
void Watch_Mission04_MissionBriefing_PTFPingAndPointer(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((sdword)kasfIntelEventEnded())
	{
	(sdword)(kasfWideScreenOut(30), 0);
	kasJump("Done", Init_Mission04_MissionBriefing_Done, Watch_Mission04_MissionBriefing_Done);
	return;
	}
	if ((sdword)kasfTimerExpiredDestroy("FIPointerTimer"))
	{
	kasJump("PTFTransOut", Init_Mission04_MissionBriefing_PTFTransOut, Watch_Mission04_MissionBriefing_PTFTransOut);
	return;
	}
	
}


//
//  "initialize" code for Mission04 MissionBriefing PTFTransOut state
//
void Init_Mission04_MissionBriefing_PTFTransOut(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfWideScreenOut(60), 0);
	(sdword)(kasfTimerCreateSetStart("FiTransOut", 1), 0);
	
}


//
//  "watch" code for Mission04 MissionBriefing PTFTransOut state
//
void Watch_Mission04_MissionBriefing_PTFTransOut(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if (((sdword)kasfTimerExpiredDestroy("FiTransOut")) || ((sdword)kasfIntelEventEnded()))
	{
	kasJump("Done", Init_Mission04_MissionBriefing_Done, Watch_Mission04_MissionBriefing_Done);
	return;
	}
	
}


//
//  "initialize" code for Mission04 MissionBriefing DP1TransIn state
//
void Init_Mission04_MissionBriefing_DP1TransIn(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfWideScreenIn(90), 0);
	kasJump("DP1OpenSensors", Init_Mission04_MissionBriefing_DP1OpenSensors, Watch_Mission04_MissionBriefing_DP1OpenSensors);
	return;
	
}


//
//  "watch" code for Mission04 MissionBriefing DP1TransIn state
//
void Watch_Mission04_MissionBriefing_DP1TransIn(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "initialize" code for Mission04 MissionBriefing DP1OpenSensors state
//
void Init_Mission04_MissionBriefing_DP1OpenSensors(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfTimerCreateSetStart("FIOpenSensorsTimer", 2), 0);
	
}


//
//  "watch" code for Mission04 MissionBriefing DP1OpenSensors state
//
void Watch_Mission04_MissionBriefing_DP1OpenSensors(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((sdword)kasfTimerExpiredDestroy("FIOpenSensorsTimer"))
	{
	(sdword)(kasfOpenSensors(1), 0);
	(sdword)(kasfUniversePause(), 0);
	kasJump("DP1CFI", Init_Mission04_MissionBriefing_DP1CFI, Watch_Mission04_MissionBriefing_DP1CFI);
	return;
	}
	
}


//
//  "initialize" code for Mission04 MissionBriefing DP1CFI state
//
void Init_Mission04_MissionBriefing_DP1CFI(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((sdword)kasfRaceOfHuman() == 0)
	{
	(sdword)(kasfSpeechEvent((501 + 4096 + 268435456), 0), 0);
	}
	else if ((sdword)kasfRaceOfHuman() == 1)
	{
	(sdword)(kasfSpeechEvent((500 + 4096 + 268435456), 0), 0);
	}
	(sdword)(kasfObjectiveCreate("DestroyP1Ms", LSTRING_FIGoGetThem[strCurLanguage], LSTRING_FIGoGetThem[strCurLanguage]), 0);
	(sdword)(kasfTimerCreateSetStart("TimerDP1C", 1), 0);
	
}


//
//  "watch" code for Mission04 MissionBriefing DP1CFI state
//
void Watch_Mission04_MissionBriefing_DP1CFI(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((sdword)kasfIntelEventEnded())
	{
	(sdword)(kasfWideScreenOut(30), 0);
	kasJump("Done", Init_Mission04_MissionBriefing_Done, Watch_Mission04_MissionBriefing_Done);
	return;
	}
	if ((sdword)kasfTimerExpiredDestroy("TimerDP1C"))
	{
	kasJump("DP1PingAndPointer", Init_Mission04_MissionBriefing_DP1PingAndPointer, Watch_Mission04_MissionBriefing_DP1PingAndPointer);
	return;
	}
	
}


//
//  "initialize" code for Mission04 MissionBriefing DP1PingAndPointer state
//
void Init_Mission04_MissionBriefing_DP1PingAndPointer(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfTutSetPointerTargetShip("GoodPOINTER", kasAITeamShipsPtr("P1Mothership")), 0);
	(sdword)(kasfTimerCreateSetStart("FIPointerTimer", 8), 0);
	
}


//
//  "watch" code for Mission04 MissionBriefing DP1PingAndPointer state
//
void Watch_Mission04_MissionBriefing_DP1PingAndPointer(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((sdword)kasfIntelEventEnded())
	{
	(sdword)(kasfWideScreenOut(30), 0);
	kasJump("Done", Init_Mission04_MissionBriefing_Done, Watch_Mission04_MissionBriefing_Done);
	return;
	}
	if ((sdword)kasfTimerExpiredDestroy("FIPointerTimer"))
	{
	kasJump("DP1TransOut", Init_Mission04_MissionBriefing_DP1TransOut, Watch_Mission04_MissionBriefing_DP1TransOut);
	return;
	}
	
}


//
//  "initialize" code for Mission04 MissionBriefing DP1TransOut state
//
void Init_Mission04_MissionBriefing_DP1TransOut(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfWideScreenOut(60), 0);
	(sdword)(kasfTimerCreateSetStart("FiTransOut", 1), 0);
	
}


//
//  "watch" code for Mission04 MissionBriefing DP1TransOut state
//
void Watch_Mission04_MissionBriefing_DP1TransOut(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if (((sdword)kasfTimerExpiredDestroy("FiTransOut")) || ((sdword)kasfIntelEventEnded()))
	{
	kasJump("Done", Init_Mission04_MissionBriefing_Done, Watch_Mission04_MissionBriefing_Done);
	return;
	}
	
}


//
//  "initialize" code for Mission04 MissionBriefing FirstWarning state
//
void Init_Mission04_MissionBriefing_FirstWarning(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfVarCreateSet("G_FuckingStupid", 2), 0);
	(sdword)(kasfSpeechEvent((494 + 8192 + 268435456), 0), 0);
	(sdword)(kasfTimerCreateSetStart("UBetterStop", 2), 0);
	
}


//
//  "watch" code for Mission04 MissionBriefing FirstWarning state
//
void Watch_Mission04_MissionBriefing_FirstWarning(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((sdword)kasfTimerExpiredDestroy("UBetterStop"))
	{
	kasJump("RUCrazy", Init_Mission04_MissionBriefing_RUCrazy, Watch_Mission04_MissionBriefing_RUCrazy);
	return;
	}
	
}


//
//  "initialize" code for Mission04 MissionBriefing RUCrazy state
//
void Init_Mission04_MissionBriefing_RUCrazy(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((sdword)kasfShipsCount(kasGrowSelectionPtr("FuckingStupid")) > 0)
	{
	(sdword)(kasfSpeechEvent((495 + 4096 + 268435456), 0), 0);
	}
	else
	{
	kasJump("Done", Init_Mission04_MissionBriefing_Done, Watch_Mission04_MissionBriefing_Done);
	return;
	}
	
}


//
//  "watch" code for Mission04 MissionBriefing RUCrazy state
//
void Watch_Mission04_MissionBriefing_RUCrazy(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((sdword)kasfIntelEventEnded())
	{
	kasJump("Done", Init_Mission04_MissionBriefing_Done, Watch_Mission04_MissionBriefing_Done);
	return;
	}
	
}


//
//  "initialize" code for Mission04 MissionBriefing YoureMeat state
//
void Init_Mission04_MissionBriefing_YoureMeat(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfSpeechEvent((496 + 8192 + 268435456), 0), 0);
	
}


//
//  "watch" code for Mission04 MissionBriefing YoureMeat state
//
void Watch_Mission04_MissionBriefing_YoureMeat(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((sdword)kasfIntelEventEnded())
	{
	kasJump("Done", Init_Mission04_MissionBriefing_Done, Watch_Mission04_MissionBriefing_Done);
	return;
	}
	
}


//
//  "initialize" code for Mission04 MissionBriefing CarrierTransIn state
//
void Init_Mission04_MissionBriefing_CarrierTransIn(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfWideScreenIn(90), 0);
	(sdword)(kasfTimerCreateSetStart("TimerForNikki", 4), 0);
	
}


//
//  "watch" code for Mission04 MissionBriefing CarrierTransIn state
//
void Watch_Mission04_MissionBriefing_CarrierTransIn(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((sdword)kasfTimerExpiredDestroy("TimerForNikki"))
	{
	kasJump("RenderedCarrier", Init_Mission04_MissionBriefing_RenderedCarrier, Watch_Mission04_MissionBriefing_RenderedCarrier);
	return;
	}
	
}


//
//  "initialize" code for Mission04 MissionBriefing RenderedCarrier state
//
void Init_Mission04_MissionBriefing_RenderedCarrier(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfSoundEvent(262), 0);
	(sdword)(kasfTutCameraFocus(kasAITeamShipsPtr("P1Mothership")), 0);
	(sdword)(kasfTutCameraFocus(kasAITeamShipsPtr("P1Mothership")), 0);
	(sdword)(kasfSpeechEvent((499 + 4096 + 268435456), 0), 0);
	
}


//
//  "watch" code for Mission04 MissionBriefing RenderedCarrier state
//
void Watch_Mission04_MissionBriefing_RenderedCarrier(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((sdword)kasfIntelEventEnded())
	{
	(sdword)(kasfWideScreenOut(30), 0);
	(sdword)(kasfSoundEvent(262), 0);
	(sdword)(kasfTutCameraFocusCancel(), 0);
	(sdword)(kasfTutCameraFocusCancel(), 0);
	kasJump("Done", Init_Mission04_MissionBriefing_Done, Watch_Mission04_MissionBriefing_Done);
	return;
	}
	
}


//
//  "initialize" code for Mission04 MissionBriefing Done state
//
void Init_Mission04_MissionBriefing_Done(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfTutRemoveAllPointers(), 0);
	(sdword)(kasfUniverseUnpause(), 0);
	if ((sdword)kasfSensorsIsOpen(1) == 1)
	{
	(sdword)(kasfCloseSensors(1), 0);
	}
	(sdword)(kasfVarDestroy("G_CLICK_ProtectTheFleet"), 0);
	(sdword)(kasfVarDestroy("G_CLICK_BuildResourceController"), 0);
	(sdword)(kasfVarDestroy("G_CLICK_DestroyP1Ms"), 0);
	(sdword)(kasfVarDestroy("G_CLICK_CollectResources"), 0);
	
}


//
//  "watch" code for Mission04 MissionBriefing Done state
//
void Watch_Mission04_MissionBriefing_Done(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if (((sdword)kasfTimerExpired("G_TimerSecondaryObjective01")) && (!((sdword)kasfObjectiveGet("BuildResourceController") == 1)) && (!((sdword)kasfVarValueGet("G_TradersRHere") == 1)))
	{
	(sdword)kasfFindEnemiesInside(kasVolumePtr("MajorResourceVolume"), kasGrowSelectionPtr("PResourcing"), 500);
	(sdword)kasfShipsSelectType(kasGrowSelectionPtr("PResourceController"), kasGrowSelectionPtr("PResourcing"), "ResourceController");
	if ((!(sdword)kasfFindEnemyShipsOfType(kasGrowSelectionPtr("PlayerShips"), "ResourceController")) && (!((sdword)kasfVarValueGet("GotVar") == 1)))
	{
	(sdword)(kasfVarCreateSet("GotVar", 1), 0);
	kasJump("HasTech", Init_Mission04_MissionBriefing_HasTech, Watch_Mission04_MissionBriefing_HasTech);
	return;
	}
	else if (((sdword)kasfFindEnemyShipsOfType(kasGrowSelectionPtr("PlayerShips"), "ResourceController")) && (!((sdword)kasfVarValueGet("GotVar2") == 1)))
	{
	(sdword)(kasfVarCreateSet("GotVar2", 1), 0);
	kasJump("HasShip", Init_Mission04_MissionBriefing_HasShip, Watch_Mission04_MissionBriefing_HasShip);
	return;
	}
	else if ((sdword)kasfShipsCount(kasGrowSelectionPtr("PResourceController")) > 0)
	{
	(sdword)(kasfObjectiveSet("BuildResourceController", 1), 0);
	}
	}
	if (!kasfVarValueGet("_VIFONCE010") && (((sdword)kasfVarValueGet("G_ResourcersAttacked") == 1) || ((sdword)kasfShipsCount(kasAITeamShipsPtr("TuranicHarrassFighters")) < 1))) // "ifonce" #10
	{
	kasfVarCreateSet("_VIFONCE010", 1);
	(sdword)(kasfMusicPlay(12), 0);
	kasJump("PTFTransIn", Init_Mission04_MissionBriefing_PTFTransIn, Watch_Mission04_MissionBriefing_PTFTransIn);
	return;
	}
	if (!kasfVarValueGet("_VIFONCE011") && ((sdword)kasfVarValueGet("G_IonFrigsHere") == 1)) // "ifonce" #11
	{
	kasfVarCreateSet("_VIFONCE011", 1);
	kasJump("FrigatesFITransIn", Init_Mission04_MissionBriefing_FrigatesFITransIn, Watch_Mission04_MissionBriefing_FrigatesFITransIn);
	return;
	}
	if (!kasfVarValueGet("_VIFONCE012") && (((sdword)kasfVarValueGet("G_IcantLetYouGo") == 1) && ((sdword)kasfShipsCount(kasAITeamShipsPtr("P1Mothership")) > 0))) // "ifonce" #12
	{
	kasfVarCreateSet("_VIFONCE012", 1);
	kasJump("DP1TransIn", Init_Mission04_MissionBriefing_DP1TransIn, Watch_Mission04_MissionBriefing_DP1TransIn);
	return;
	}
	if ((sdword)kasfVarValueGet("G_FuckingStupid") == 1)
	{
	kasJump("FirstWarning", Init_Mission04_MissionBriefing_FirstWarning, Watch_Mission04_MissionBriefing_FirstWarning);
	return;
	}
	if (!kasfVarValueGet("_VIFONCE013") && ((sdword)kasfVarValueGet("G_FuckingStupid2") == 1)) // "ifonce" #13
	{
	kasfVarCreateSet("_VIFONCE013", 1);
	kasJump("YoureMeat", Init_Mission04_MissionBriefing_YoureMeat, Watch_Mission04_MissionBriefing_YoureMeat);
	return;
	}
	if (!kasfVarValueGet("_VIFONCE014") && ((sdword)kasfRenderedShips(kasAITeamShipsPtr("P1Mothership"), 3))) // "ifonce" #14
	{
	kasfVarCreateSet("_VIFONCE014", 1);
	kasJump("CarrierTransIn", Init_Mission04_MissionBriefing_CarrierTransIn, Watch_Mission04_MissionBriefing_CarrierTransIn);
	return;
	}
	if ((sdword)kasfVarValueGet("G_CLICK_BuildResourceController"))
	{
	kasJump("HasTech", Init_Mission04_MissionBriefing_HasTech, Watch_Mission04_MissionBriefing_HasTech);
	return;
	}
	if ((sdword)kasfVarValueGet("G_CLICK_CollectResources"))
	{
	kasJump("ResourceVeinsTransIn", Init_Mission04_MissionBriefing_ResourceVeinsTransIn, Watch_Mission04_MissionBriefing_ResourceVeinsTransIn);
	return;
	}
	if ((sdword)kasfVarValueGet("G_CLICK_DestroyP1Ms"))
	{
	kasJump("DP1TransIn", Init_Mission04_MissionBriefing_DP1TransIn, Watch_Mission04_MissionBriefing_DP1TransIn);
	return;
	}
	if ((sdword)kasfVarValueGet("G_CLICK_ProtectTheFleet"))
	{
	kasJump("PTFTransIn", Init_Mission04_MissionBriefing_PTFTransIn, Watch_Mission04_MissionBriefing_PTFTransIn);
	return;
	}
	
}


//
//  "initialize" code for Mission04 TuranicFighters FSM
//
void Init_Mission04_TuranicFighters(void)
{
	CurrentMissionScope = KAS_SCOPE_FSM;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfHideShips(kasAITeamShipsPtr("TuranicFighters")), 0);
	(sdword)(kasfVarCreateSet("requested", 0), 0);
	(sdword)(kasfVarCreateSet("needed", 0), 0);
	(sdword)(kasfVarCreateSet("newships", 0), 0);
	(sdword)(kasfVarCreateSet("DontBuild", 0), 0);
	
}


//
//  "watch" code for Mission04 TuranicFighters FSM
//
void Watch_Mission04_TuranicFighters(void)
{
	CurrentMissionScope = KAS_SCOPE_FSM;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if (((sdword)kasfTeamCount() > 0) && ((sdword)kasfVarValueGet("DontBuild") == 0))
	{
	if ((sdword)kasfTeamCount() + (sdword)kasfVarValueGet("requested") < (sdword)kasfTeamCountOriginal())
	{
	(sdword)(kasfVarValueSet("needed", (sdword)kasfTeamCountOriginal() - ((sdword)kasfTeamCount() + (sdword)kasfVarValueGet("requested"))), 0);
	(sdword)(kasfRequestShipsOriginal((sdword)kasfVarValueGet("needed")), 0);
	(sdword)(kasfVarValueSet("DontBuild", 1), 0);
	(sdword)(kasfTimerCreateSetStart("BuildAgain", 10), 0);
	(sdword)(kasfVarValueSet("requested", (sdword)kasfVarValueGet("requested") + (sdword)kasfVarValueGet("needed")), 0);
	}
	(sdword)(kasfVarValueSet("newships", (sdword)kasfNewShipsAdded()), 0);
	if ((sdword)kasfVarValueGet("newships"))
	{
	(sdword)(kasfVarValueSet("requested", (sdword)kasfVarValueGet("requested") - (sdword)kasfVarValueGet("newships")), 0);
	}
	if ((sdword)kasfTimerExpiredDestroy("BuildAgain"))
	{
	(sdword)(kasfVarValueSet("DontBuild", 0), 0);
	}
	}
	if ((sdword)kasfShipsCount(kasAITeamShipsPtr("TuranicFighters")) < 1)
	{
	kasJump("Dead", Init_Mission04_TuranicFighters_Dead, Watch_Mission04_TuranicFighters_Dead);
	return;
	}
	else if ((sdword)kasfShipsCount(kasGrowSelectionPtr("EnemyAttackers")) > 0)
	{
	kasJump("DefendMothership", Init_Mission04_TuranicFighters_DefendMothership, Watch_Mission04_TuranicFighters_DefendMothership);
	return;
	}
	else if (((sdword)kasfUnderAttack(kasGrowSelectionPtr("AttackFighters"))) && ((sdword)kasfTeamCount() <= ((sdword)kasfTeamCountOriginal() / 2)))
	{
	kasJump("DefendYourSelf", Init_Mission04_TuranicFighters_DefendYourSelf, Watch_Mission04_TuranicFighters_DefendYourSelf);
	return;
	}
	else if (((sdword)kasfVarValueGet("G_AssaultMsgSent") == 1) && (!((sdword)kasfVarValueGet("G_StartingTimer") == 1)))
	{
	kasJump("AttackTimer", Init_Mission04_TuranicFighters_AttackTimer, Watch_Mission04_TuranicFighters_AttackTimer);
	return;
	}
	else if (((sdword)kasfVarValueGet("G_AssaultMsgSent") == 1) && ((sdword)kasfVarValueGet("G_StartingTimer") == 1))
	{
	kasJump("AssaultMothership", Init_Mission04_TuranicFighters_AssaultMothership, Watch_Mission04_TuranicFighters_AssaultMothership);
	return;
	}
	
}


//
//  "initialize" code for Mission04 TuranicFighters DefendMothership state
//
void Init_Mission04_TuranicFighters_DefendMothership(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "watch" code for Mission04 TuranicFighters DefendMothership state
//
void Watch_Mission04_TuranicFighters_DefendMothership(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((sdword)kasfShipsCount(kasGrowSelectionPtr("AttackingFighters")) > 0)
	{
	(sdword)(kasfAttack(kasGrowSelectionPtr("AttackingFighters")), 0);
	}
	else if ((sdword)kasfShipsCount(kasGrowSelectionPtr("AttackingFighters")) < 1)
	{
	(sdword)(kasfAttackFlank(kasGrowSelectionPtr("AttackingCorvettes")), 0);
	}
	else if (((sdword)kasfShipsCount(kasGrowSelectionPtr("AttackingFighters")) < 1) && ((sdword)kasfShipsCount(kasGrowSelectionPtr("AttackingCorvettes")) < 1))
	{
	(sdword)(kasfAttackFlank(kasGrowSelectionPtr("AttackingCapitalShips")), 0);
	}
	else if (((sdword)kasfShipsCount(kasGrowSelectionPtr("AttackingFighters")) < 1) && ((sdword)kasfShipsCount(kasGrowSelectionPtr("AttackingCorvettes")) < 1) && ((sdword)kasfShipsCount(kasGrowSelectionPtr("AttackingCapitalShips")) < 1))
	{
	(sdword)(kasfAttack(kasGrowSelectionPtr("EnemyAttackers")), 0);
	}
	else if ((sdword)kasfShipsCount(kasGrowSelectionPtr("EnemyAttackers")) < 1)
	{
	kasJump("AssaultMothership", Init_Mission04_TuranicFighters_AssaultMothership, Watch_Mission04_TuranicFighters_AssaultMothership);
	return;
	}
	
}


//
//  "initialize" code for Mission04 TuranicFighters AttackTimer state
//
void Init_Mission04_TuranicFighters_AttackTimer(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "watch" code for Mission04 TuranicFighters AttackTimer state
//
void Watch_Mission04_TuranicFighters_AttackTimer(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if (!kasfVarValueGet("_VIFONCE015") && ((sdword)kasfMsgReceived("AttackPlayerMothership"))) // "ifonce" #15
	{
	kasfVarCreateSet("_VIFONCE015", 1);
	(sdword)(kasfTimerCreateSetStart("FighterDelay", ((sdword)kasfRandom(30, 100))), 0);
	}
	if (!kasfVarValueGet("_VIFONCE016") && ((sdword)kasfTimerExpired("FighterDelay"))) // "ifonce" #16
	{
	kasfVarCreateSet("_VIFONCE016", 1);
	(sdword)(kasfVarCreateSet("G_StartingTimer", 1), 0);
	(sdword)(kasfUnhideShips(kasAITeamShipsPtr("TuranicFighters")), 0);
	kasJump("AssaultMothership", Init_Mission04_TuranicFighters_AssaultMothership, Watch_Mission04_TuranicFighters_AssaultMothership);
	return;
	}
	
}


//
//  "initialize" code for Mission04 TuranicFighters DefendYourSelf state
//
void Init_Mission04_TuranicFighters_DefendYourSelf(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "watch" code for Mission04 TuranicFighters DefendYourSelf state
//
void Watch_Mission04_TuranicFighters_DefendYourSelf(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if (((sdword)kasfUnderAttack(kasGrowSelectionPtr("AttackFighters")) > 0) && ((sdword)kasfTeamCount() <= ((sdword)kasfTeamCountOriginal() / 2)))
	{
	(sdword)(kasfAttack(kasGrowSelectionPtr("AttackFighters")), 0);
	}
	if ((sdword)kasfShipsCount(kasGrowSelectionPtr("AttackFighters")) < 1)
	{
	kasJump("AssaultMothership", Init_Mission04_TuranicFighters_AssaultMothership, Watch_Mission04_TuranicFighters_AssaultMothership);
	return;
	}
	
}


//
//  "initialize" code for Mission04 TuranicFighters AssaultMothership state
//
void Init_Mission04_TuranicFighters_AssaultMothership(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "watch" code for Mission04 TuranicFighters AssaultMothership state
//
void Watch_Mission04_TuranicFighters_AssaultMothership(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if (!kasfVarValueGet("_VIFONCE017") && ((!((sdword)kasfVarValueGet("G_ResourcersAttacked") == 1)) && ((sdword)kasfFindEnemiesNearTeam(kasGrowSelectionPtr("NearNone"), 15000)))) // "ifonce" #17
	{
	kasfVarCreateSet("_VIFONCE017", 1);
	(sdword)(kasfVarCreateSet("G_ResourcersAttacked", 1), 0);
	(sdword)(kasfVarValueSet("G_IAmTheWalrus", 2), 0);
	}
	if ((sdword)kasfShipsCount(kasGrowSelectionPtr("PlayerCapitalShips")) > 0)
	{
	(sdword)(kasfAttack(kasGrowSelectionPtr("PlayerCapitalShips")), 0);
	}
	else if (((sdword)kasfShipsCount(kasGrowSelectionPtr("PlayerCapitalShips")) < 1) && ((sdword)kasfShipsCount(kasGrowSelectionPtr("PlayerFighters")) > 0))
	{
	(sdword)(kasfAttack(kasGrowSelectionPtr("PlayerFighters")), 0);
	}
	else if (((sdword)kasfShipsCount(kasGrowSelectionPtr("PlayerFighters")) < 1) && ((sdword)kasfShipsCount(kasGrowSelectionPtr("PlayerCapitalShips")) < 1))
	{
	(sdword)(kasfAttack(kasGrowSelectionPtr("PlayerCorvettes")), 0);
	}
	else if (((sdword)kasfShipsCount(kasGrowSelectionPtr("PlayerFighters")) < 1) && ((sdword)kasfShipsCount(kasGrowSelectionPtr("PlayerCorvettes")) < 1) && ((sdword)kasfShipsCount(kasGrowSelectionPtr("PlayerCapitalShips")) < 1))
	{
	(sdword)(kasfAttack(kasGrowSelectionPtr("PlayerShips")), 0);
	}
	
}


//
//  "initialize" code for Mission04 TuranicFighters Dead state
//
void Init_Mission04_TuranicFighters_Dead(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "watch" code for Mission04 TuranicFighters Dead state
//
void Watch_Mission04_TuranicFighters_Dead(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "initialize" code for Mission04 TuranicHarrassFighters FSM
//
void Init_Mission04_TuranicHarrassFighters(void)
{
	CurrentMissionScope = KAS_SCOPE_FSM;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfVarCreateSet("requested", 0), 0);
	(sdword)(kasfVarCreateSet("needed", 0), 0);
	(sdword)(kasfVarCreateSet("newships", 0), 0);
	kasJump("NeverNeverLand", Init_Mission04_TuranicHarrassFighters_NeverNeverLand, Watch_Mission04_TuranicHarrassFighters_NeverNeverLand);
	return;
	
}


//
//  "watch" code for Mission04 TuranicHarrassFighters FSM
//
void Watch_Mission04_TuranicHarrassFighters(void)
{
	CurrentMissionScope = KAS_SCOPE_FSM;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((sdword)kasfShipsCount(kasAITeamShipsPtr("TuranicHarrassFighters")) < 1)
	{
	kasJump("Dead", Init_Mission04_TuranicHarrassFighters_Dead, Watch_Mission04_TuranicHarrassFighters_Dead);
	return;
	}
	(sdword)kasfFindEnemiesNearTeam(kasGrowSelectionPtr("InTheArea"), 5000);
	(sdword)kasfShipsSelectType(kasGrowSelectionPtr("ResourcersTemp"), kasGrowSelectionPtr("InTheArea"), "ResourceController");
	(sdword)kasfShipsSelectType(kasGrowSelectionPtr("ResourcersNearby"), kasGrowSelectionPtr("InTheArea"), "ResourceCollector");
	(sdword)kasfShipsAdd(kasGrowSelectionPtr("ResourcersNearby"), kasGrowSelectionPtr("ResourcersTemp"));
	
}


//
//  "initialize" code for Mission04 TuranicHarrassFighters NeverNeverLand state
//
void Init_Mission04_TuranicHarrassFighters_NeverNeverLand(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfTeamHyperspaceOut(), 0);
	
}


//
//  "watch" code for Mission04 TuranicHarrassFighters NeverNeverLand state
//
void Watch_Mission04_TuranicHarrassFighters_NeverNeverLand(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((sdword)kasfMsgReceived("TradersGone"))
	{
	(sdword)(kasfTeamHyperspaceIn(kasVectorPtr("HarrassIn")), 0);
	kasJump("Prowling", Init_Mission04_TuranicHarrassFighters_Prowling, Watch_Mission04_TuranicHarrassFighters_Prowling);
	return;
	}
	
}


//
//  "initialize" code for Mission04 TuranicHarrassFighters DefendSelf state
//
void Init_Mission04_TuranicHarrassFighters_DefendSelf(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "watch" code for Mission04 TuranicHarrassFighters DefendSelf state
//
void Watch_Mission04_TuranicHarrassFighters_DefendSelf(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((sdword)kasfUnderAttack(kasGrowSelectionPtr("AttackHarrassers")) > 0)
	{
	(sdword)(kasfAttack(kasGrowSelectionPtr("AttackHarrassers")), 0);
	}
	else if ((sdword)kasfShipsCount(kasGrowSelectionPtr("AttackHarrassers")) < 1)
	{
	kasJump("Prowling", Init_Mission04_TuranicHarrassFighters_Prowling, Watch_Mission04_TuranicHarrassFighters_Prowling);
	return;
	}
	
}


//
//  "initialize" code for Mission04 TuranicHarrassFighters Prowling state
//
void Init_Mission04_TuranicHarrassFighters_Prowling(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfPatrolPath(kasPathPtr("HarrassPath")), 0);
	
}


//
//  "watch" code for Mission04 TuranicHarrassFighters Prowling state
//
void Watch_Mission04_TuranicHarrassFighters_Prowling(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((sdword)kasfUnderAttack(kasGrowSelectionPtr("AttackHarrassers")) > 0)
	{
	(sdword)(kasfVarCreateSet("G_ResourcersAttacked", 1), 0);
	if (!kasfVarValueGet("_VIFONCE018") && ((sdword)kasfVarValueGet("G_IAmTheWalrus") == 0)) // "ifonce" #18
	{
	kasfVarCreateSet("_VIFONCE018", 1);
	(sdword)(kasfVarValueSet("G_IAmTheWalrus", 1), 0);
	}
	kasJump("DefendSelf", Init_Mission04_TuranicHarrassFighters_DefendSelf, Watch_Mission04_TuranicHarrassFighters_DefendSelf);
	return;
	}
	else if ((sdword)kasfShipsCount(kasGrowSelectionPtr("InTheArea")) > 0)
	{
	kasJump("AssaultEnemy", Init_Mission04_TuranicHarrassFighters_AssaultEnemy, Watch_Mission04_TuranicHarrassFighters_AssaultEnemy);
	return;
	}
	
}


//
//  "initialize" code for Mission04 TuranicHarrassFighters AssaultEnemy state
//
void Init_Mission04_TuranicHarrassFighters_AssaultEnemy(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfMusicPlay(12), 0);
	(sdword)(kasfVarCreateSet("G_ResourcersAttacked", 1), 0);
	if (!kasfVarValueGet("_VIFONCE019") && ((sdword)kasfVarValueGet("G_IAmTheWalrus") == 0)) // "ifonce" #19
	{
	kasfVarCreateSet("_VIFONCE019", 1);
	(sdword)(kasfVarValueSet("G_IAmTheWalrus", 1), 0);
	}
	
}


//
//  "watch" code for Mission04 TuranicHarrassFighters AssaultEnemy state
//
void Watch_Mission04_TuranicHarrassFighters_AssaultEnemy(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((sdword)kasfShipsCount(kasGrowSelectionPtr("ResourcersNearby")) > 0)
	{
	(sdword)(kasfAttack(kasGrowSelectionPtr("ResourcersNearby")), 0);
	}
	else if (((sdword)kasfShipsCount(kasGrowSelectionPtr("ResourcersNearby")) < 1) && ((sdword)kasfShipsCount(kasGrowSelectionPtr("InTheArea")) > 0))
	{
	(sdword)(kasfAttack(kasGrowSelectionPtr("InTheArea")), 0);
	}
	else if (((sdword)kasfShipsCount(kasGrowSelectionPtr("ResourcersNearby")) < 1) && ((sdword)kasfShipsCount(kasGrowSelectionPtr("InTheArea")) < 1))
	{
	kasJump("Prowling", Init_Mission04_TuranicHarrassFighters_Prowling, Watch_Mission04_TuranicHarrassFighters_Prowling);
	return;
	}
	
}


//
//  "initialize" code for Mission04 TuranicHarrassFighters Dead state
//
void Init_Mission04_TuranicHarrassFighters_Dead(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "watch" code for Mission04 TuranicHarrassFighters Dead state
//
void Watch_Mission04_TuranicHarrassFighters_Dead(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "initialize" code for Mission04 IonFrig1 FSM
//
void Init_Mission04_IonFrig1(void)
{
	CurrentMissionScope = KAS_SCOPE_FSM;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfTeamHyperspaceOut(), 0);
	kasJump("Waiting", Init_Mission04_IonFrig1_Waiting, Watch_Mission04_IonFrig1_Waiting);
	return;
	
}


//
//  "watch" code for Mission04 IonFrig1 FSM
//
void Watch_Mission04_IonFrig1(void)
{
	CurrentMissionScope = KAS_SCOPE_FSM;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((sdword)kasfUnderAttack(kasGrowSelectionPtr("AttackFrig1")) > 0)
	{
	(sdword)kasfShipsSelectClass(kasGrowSelectionPtr("PCapShipsAttackFrig1"), kasGrowSelectionPtr("AttackFrig1"), "CLASS_CapitalShips");
	kasJump("LovingMe", Init_Mission04_IonFrig1_LovingMe, Watch_Mission04_IonFrig1_LovingMe);
	return;
	}
	
}


//
//  "initialize" code for Mission04 IonFrig1 Waiting state
//
void Init_Mission04_IonFrig1_Waiting(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "watch" code for Mission04 IonFrig1 Waiting state
//
void Watch_Mission04_IonFrig1_Waiting(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((sdword)kasfVarValueGet("G_ResourcersAttacked") == 1)
	{
	kasJump("TimerToLeave", Init_Mission04_IonFrig1_TimerToLeave, Watch_Mission04_IonFrig1_TimerToLeave);
	return;
	}
	
}


//
//  "initialize" code for Mission04 IonFrig1 LovingMe state
//
void Init_Mission04_IonFrig1_LovingMe(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "watch" code for Mission04 IonFrig1 LovingMe state
//
void Watch_Mission04_IonFrig1_LovingMe(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if (((sdword)kasfShipsCount(kasGrowSelectionPtr("PCapShipsAttackFrig1")) > 0) && (!((sdword)kasfVarValueGet("NoSoupForYou") == 1)))
	{
	(sdword)(kasfVarCreateSet("NoSoupForYou", 1), 0);
	(sdword)(kasfMoveAttack(kasGrowSelectionPtr("PCapShipsAttackFrig1")), 0);
	}
	else if (((sdword)kasfShipsCount(kasGrowSelectionPtr("PCapShipsAttackFrig1")) < 1) && ((sdword)kasfVarValueGet("NoSoupForYou") == 1))
	{
	(sdword)(kasfVarDestroy("NoSoupForYou"), 0);
	kasJump("AssaultMothership", Init_Mission04_IonFrig1_AssaultMothership, Watch_Mission04_IonFrig1_AssaultMothership);
	return;
	}
	
}


//
//  "initialize" code for Mission04 IonFrig1 TimerToLeave state
//
void Init_Mission04_IonFrig1_TimerToLeave(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfTimerCreateSetStart("FrigTimer1", 200), 0);
	
}


//
//  "watch" code for Mission04 IonFrig1 TimerToLeave state
//
void Watch_Mission04_IonFrig1_TimerToLeave(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if (!kasfVarValueGet("_VIFONCE020") && ((sdword)kasfTimerExpired("FrigTimer1"))) // "ifonce" #20
	{
	kasfVarCreateSet("_VIFONCE020", 1);
	(sdword)(kasfTeamHyperspaceIn(kasVectorPtr("IonFrig1Point")), 0);
	(sdword)(kasfVarCreateSet("G_IonFrigsHere", 1), 0);
	kasJump("CircleAttackMothership", Init_Mission04_IonFrig1_CircleAttackMothership, Watch_Mission04_IonFrig1_CircleAttackMothership);
	return;
	}
	
}


//
//  "initialize" code for Mission04 IonFrig1 AssaultMothership state
//
void Init_Mission04_IonFrig1_AssaultMothership(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "watch" code for Mission04 IonFrig1 AssaultMothership state
//
void Watch_Mission04_IonFrig1_AssaultMothership(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	kasJump("CircleAttackMothership", Init_Mission04_IonFrig1_CircleAttackMothership, Watch_Mission04_IonFrig1_CircleAttackMothership);
	return;
	
}


//
//  "initialize" code for Mission04 IonFrig1 CircleAttackMothership state
//
void Init_Mission04_IonFrig1_CircleAttackMothership(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfMoveAttack(kasGrowSelectionPtr("PlayerMothership")), 0);
	
}


//
//  "watch" code for Mission04 IonFrig1 CircleAttackMothership state
//
void Watch_Mission04_IonFrig1_CircleAttackMothership(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)kasfFindEnemiesNearTeam(kasGrowSelectionPtr("NearFrig1"), 8000);
	(sdword)kasfShipsSelectType(kasGrowSelectionPtr("NastyCaps1"), kasGrowSelectionPtr("NearFrig1"), "SalCapCorvette");
	if (((sdword)kasfShipsCount(kasGrowSelectionPtr("NastyCaps1")) > 0) && (!((sdword)kasfVarValueGet("WasSalCaps") == 1)))
	{
	(sdword)(kasfVarCreateSet("WasSalCaps", 1), 0);
	(sdword)(kasfAttack(kasGrowSelectionPtr("NastyCaps1")), 0);
	}
	else if (((sdword)kasfShipsCount(kasGrowSelectionPtr("NastyCaps1")) < 1) && ((sdword)kasfVarValueGet("WasSalCaps") == 1))
	{
	(sdword)(kasfVarDestroy("WasSalCaps"), 0);
	kasJump("CircleAttackMothership", Init_Mission04_IonFrig1_CircleAttackMothership, Watch_Mission04_IonFrig1_CircleAttackMothership);
	return;
	}
	
}


//
//  "initialize" code for Mission04 IonFrig2 FSM
//
void Init_Mission04_IonFrig2(void)
{
	CurrentMissionScope = KAS_SCOPE_FSM;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfTeamHyperspaceOut(), 0);
	kasJump("Waiting", Init_Mission04_IonFrig2_Waiting, Watch_Mission04_IonFrig2_Waiting);
	return;
	
}


//
//  "watch" code for Mission04 IonFrig2 FSM
//
void Watch_Mission04_IonFrig2(void)
{
	CurrentMissionScope = KAS_SCOPE_FSM;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((sdword)kasfUnderAttack(kasGrowSelectionPtr("AttackFrig2")) > 0)
	{
	(sdword)kasfShipsSelectClass(kasGrowSelectionPtr("PCapShipsAttackFrig2"), kasGrowSelectionPtr("AttackFrig2"), "CLASS_CapitalShips");
	kasJump("LovingMe", Init_Mission04_IonFrig2_LovingMe, Watch_Mission04_IonFrig2_LovingMe);
	return;
	}
	
}


//
//  "initialize" code for Mission04 IonFrig2 LovingMe state
//
void Init_Mission04_IonFrig2_LovingMe(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "watch" code for Mission04 IonFrig2 LovingMe state
//
void Watch_Mission04_IonFrig2_LovingMe(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if (((sdword)kasfShipsCount(kasGrowSelectionPtr("PCapShipsAttackFrig2")) > 0) && (!((sdword)kasfVarValueGet("NoSoupForYou") == 1)))
	{
	(sdword)(kasfVarCreateSet("NoSoupForYou", 1), 0);
	(sdword)(kasfMoveAttack(kasGrowSelectionPtr("PCapShipsAttackFrig2")), 0);
	}
	else if (((sdword)kasfShipsCount(kasGrowSelectionPtr("PCapShipsAttackFrig2")) < 1) && ((sdword)kasfVarValueGet("NoSoupForYou") == 1))
	{
	(sdword)(kasfVarDestroy("NoSoupForYou"), 0);
	kasJump("AssaultMothership", Init_Mission04_IonFrig2_AssaultMothership, Watch_Mission04_IonFrig2_AssaultMothership);
	return;
	}
	
}


//
//  "initialize" code for Mission04 IonFrig2 Waiting state
//
void Init_Mission04_IonFrig2_Waiting(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "watch" code for Mission04 IonFrig2 Waiting state
//
void Watch_Mission04_IonFrig2_Waiting(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if (((sdword)kasfVarValueGet("G_ResourcersAttacked") == 1) && (!((sdword)kasfVarValueGet("KillMyLandLord") == 1)))
	{
	(sdword)(kasfVarCreateSet("KillMyLandLord", 1), 0);
	kasJump("TimerToLeave", Init_Mission04_IonFrig2_TimerToLeave, Watch_Mission04_IonFrig2_TimerToLeave);
	return;
	}
	
}


//
//  "initialize" code for Mission04 IonFrig2 TimerToLeave state
//
void Init_Mission04_IonFrig2_TimerToLeave(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfTimerCreateSetStart("FrigTimer2", 200), 0);
	
}


//
//  "watch" code for Mission04 IonFrig2 TimerToLeave state
//
void Watch_Mission04_IonFrig2_TimerToLeave(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if (!kasfVarValueGet("_VIFONCE021") && ((sdword)kasfTimerExpired("FrigTimer2"))) // "ifonce" #21
	{
	kasfVarCreateSet("_VIFONCE021", 1);
	(sdword)(kasfTeamHyperspaceIn(kasVectorPtr("IonFrig2Point")), 0);
	(sdword)(kasfVarCreateSet("G_IonFrigsHere", 1), 0);
	kasJump("CircleAttackMothership", Init_Mission04_IonFrig2_CircleAttackMothership, Watch_Mission04_IonFrig2_CircleAttackMothership);
	return;
	}
	
}


//
//  "initialize" code for Mission04 IonFrig2 AssaultMothership state
//
void Init_Mission04_IonFrig2_AssaultMothership(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "watch" code for Mission04 IonFrig2 AssaultMothership state
//
void Watch_Mission04_IonFrig2_AssaultMothership(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	kasJump("CircleAttackMothership", Init_Mission04_IonFrig2_CircleAttackMothership, Watch_Mission04_IonFrig2_CircleAttackMothership);
	return;
	
}


//
//  "initialize" code for Mission04 IonFrig2 CircleAttackMothership state
//
void Init_Mission04_IonFrig2_CircleAttackMothership(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfMoveAttack(kasGrowSelectionPtr("PlayerMothership")), 0);
	
}


//
//  "watch" code for Mission04 IonFrig2 CircleAttackMothership state
//
void Watch_Mission04_IonFrig2_CircleAttackMothership(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)kasfFindEnemiesNearTeam(kasGrowSelectionPtr("NearFrig2"), 8000);
	(sdword)kasfShipsSelectType(kasGrowSelectionPtr("NastyCaps2"), kasGrowSelectionPtr("NearFrig2"), "SalCapCorvette");
	if (((sdword)kasfShipsCount(kasGrowSelectionPtr("NastyCaps2")) > 0) && (!((sdword)kasfVarValueGet("WasSalCaps") == 1)))
	{
	(sdword)(kasfVarCreateSet("WasSalCaps", 1), 0);
	(sdword)(kasfAttack(kasGrowSelectionPtr("NastyCaps2")), 0);
	}
	else if (((sdword)kasfShipsCount(kasGrowSelectionPtr("NastyCaps2")) < 1) && ((sdword)kasfVarValueGet("WasSalCaps") == 1))
	{
	(sdword)(kasfVarDestroy("WasSalCaps"), 0);
	kasJump("CircleAttackMothership", Init_Mission04_IonFrig2_CircleAttackMothership, Watch_Mission04_IonFrig2_CircleAttackMothership);
	return;
	}
	
}


//
//  "initialize" code for Mission04 IonFrig3 FSM
//
void Init_Mission04_IonFrig3(void)
{
	CurrentMissionScope = KAS_SCOPE_FSM;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfTeamHyperspaceOut(), 0);
	kasJump("Waiting", Init_Mission04_IonFrig3_Waiting, Watch_Mission04_IonFrig3_Waiting);
	return;
	
}


//
//  "watch" code for Mission04 IonFrig3 FSM
//
void Watch_Mission04_IonFrig3(void)
{
	CurrentMissionScope = KAS_SCOPE_FSM;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((sdword)kasfUnderAttack(kasGrowSelectionPtr("AttackFrig3")) > 0)
	{
	(sdword)kasfShipsSelectClass(kasGrowSelectionPtr("PCapShipsAttackFrig3"), kasGrowSelectionPtr("AttackFrig3"), "CLASS_CapitalShips");
	kasJump("LovingMe", Init_Mission04_IonFrig3_LovingMe, Watch_Mission04_IonFrig3_LovingMe);
	return;
	}
	
}


//
//  "initialize" code for Mission04 IonFrig3 Waiting state
//
void Init_Mission04_IonFrig3_Waiting(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "watch" code for Mission04 IonFrig3 Waiting state
//
void Watch_Mission04_IonFrig3_Waiting(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if (((sdword)kasfVarValueGet("G_ResourcersAttacked") == 1) && (!((sdword)kasfVarValueGet("KillMyLandLord") == 1)))
	{
	(sdword)(kasfVarCreateSet("KillMyLandLord", 1), 0);
	kasJump("TimerToLeave", Init_Mission04_IonFrig3_TimerToLeave, Watch_Mission04_IonFrig3_TimerToLeave);
	return;
	}
	
}


//
//  "initialize" code for Mission04 IonFrig3 LovingMe state
//
void Init_Mission04_IonFrig3_LovingMe(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "watch" code for Mission04 IonFrig3 LovingMe state
//
void Watch_Mission04_IonFrig3_LovingMe(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if (((sdword)kasfShipsCount(kasGrowSelectionPtr("PCapShipsAttackFrig3")) > 0) && (!((sdword)kasfVarValueGet("NoSoupForYou") == 1)))
	{
	(sdword)(kasfVarCreateSet("NoSoupForYou", 1), 0);
	(sdword)(kasfMoveAttack(kasGrowSelectionPtr("PCapShipsAttackFrig3")), 0);
	}
	else if (((sdword)kasfShipsCount(kasGrowSelectionPtr("PCapShipsAttackFrig3")) < 1) && ((sdword)kasfVarValueGet("NoSoupForYou") == 1))
	{
	(sdword)(kasfVarDestroy("NoSoupForYou"), 0);
	kasJump("AssaultMothership", Init_Mission04_IonFrig3_AssaultMothership, Watch_Mission04_IonFrig3_AssaultMothership);
	return;
	}
	
}


//
//  "initialize" code for Mission04 IonFrig3 TimerToLeave state
//
void Init_Mission04_IonFrig3_TimerToLeave(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfTimerCreateSetStart("FrigTimer3", 200), 0);
	
}


//
//  "watch" code for Mission04 IonFrig3 TimerToLeave state
//
void Watch_Mission04_IonFrig3_TimerToLeave(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if (!kasfVarValueGet("_VIFONCE022") && ((sdword)kasfTimerExpired("FrigTimer3"))) // "ifonce" #22
	{
	kasfVarCreateSet("_VIFONCE022", 1);
	(sdword)(kasfTeamHyperspaceIn(kasVectorPtr("IonFrig3Point")), 0);
	(sdword)(kasfVarCreateSet("G_IonFrigsHere", 1), 0);
	kasJump("CircleAttackMothership", Init_Mission04_IonFrig3_CircleAttackMothership, Watch_Mission04_IonFrig3_CircleAttackMothership);
	return;
	}
	
}


//
//  "initialize" code for Mission04 IonFrig3 AssaultMothership state
//
void Init_Mission04_IonFrig3_AssaultMothership(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "watch" code for Mission04 IonFrig3 AssaultMothership state
//
void Watch_Mission04_IonFrig3_AssaultMothership(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	kasJump("CircleAttackMothership", Init_Mission04_IonFrig3_CircleAttackMothership, Watch_Mission04_IonFrig3_CircleAttackMothership);
	return;
	
}


//
//  "initialize" code for Mission04 IonFrig3 CircleAttackMothership state
//
void Init_Mission04_IonFrig3_CircleAttackMothership(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfMoveAttack(kasGrowSelectionPtr("PlayerMothership")), 0);
	
}


//
//  "watch" code for Mission04 IonFrig3 CircleAttackMothership state
//
void Watch_Mission04_IonFrig3_CircleAttackMothership(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)kasfFindEnemiesNearTeam(kasGrowSelectionPtr("NearFrig3"), 8000);
	(sdword)kasfShipsSelectType(kasGrowSelectionPtr("NastyCaps3"), kasGrowSelectionPtr("NearFrig3"), "SalCapCorvette");
	if (((sdword)kasfShipsCount(kasGrowSelectionPtr("NastyCaps3")) > 0) && (!((sdword)kasfVarValueGet("WasSalCaps") == 1)))
	{
	(sdword)(kasfVarCreateSet("WasSalCaps", 1), 0);
	(sdword)(kasfAttack(kasGrowSelectionPtr("NastyCaps3")), 0);
	}
	else if (((sdword)kasfShipsCount(kasGrowSelectionPtr("NastyCaps3")) < 1) && ((sdword)kasfVarValueGet("WasSalCaps") == 1))
	{
	(sdword)(kasfVarDestroy("WasSalCaps"), 0);
	kasJump("CircleAttackMothership", Init_Mission04_IonFrig3_CircleAttackMothership, Watch_Mission04_IonFrig3_CircleAttackMothership);
	return;
	}
	
}


//
//  "initialize" code for Mission04 StdCorvette1 FSM
//
void Init_Mission04_StdCorvette1(void)
{
	CurrentMissionScope = KAS_SCOPE_FSM;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfHideShips(kasAITeamShipsPtr("StdCorvette1")), 0);
	(sdword)(kasfVarCreateSet("requested", 0), 0);
	(sdword)(kasfVarCreateSet("needed", 0), 0);
	(sdword)(kasfVarCreateSet("newships", 0), 0);
	(sdword)(kasfVarCreateSet("DontBuild", 0), 0);
	kasJump("Waiting", Init_Mission04_StdCorvette1_Waiting, Watch_Mission04_StdCorvette1_Waiting);
	return;
	
}


//
//  "watch" code for Mission04 StdCorvette1 FSM
//
void Watch_Mission04_StdCorvette1(void)
{
	CurrentMissionScope = KAS_SCOPE_FSM;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if (((sdword)kasfTeamCount() > 0) && ((sdword)kasfVarValueGet("DontBuild") == 0))
	{
	if ((sdword)kasfTeamCount() + (sdword)kasfVarValueGet("requested") < (sdword)kasfTeamCountOriginal())
	{
	(sdword)(kasfVarValueSet("needed", (sdword)kasfTeamCountOriginal() - ((sdword)kasfTeamCount() + (sdword)kasfVarValueGet("requested"))), 0);
	(sdword)(kasfRequestShipsOriginal((sdword)kasfVarValueGet("needed")), 0);
	(sdword)(kasfVarValueSet("DontBuild", 1), 0);
	(sdword)(kasfTimerCreateSetStart("BuildAgain", 20), 0);
	(sdword)(kasfVarValueSet("requested", (sdword)kasfVarValueGet("requested") + (sdword)kasfVarValueGet("needed")), 0);
	}
	(sdword)(kasfVarValueSet("newships", (sdword)kasfNewShipsAdded()), 0);
	if ((sdword)kasfVarValueGet("newships"))
	{
	(sdword)(kasfVarValueSet("requested", (sdword)kasfVarValueGet("requested") - (sdword)kasfVarValueGet("newships")), 0);
	}
	if ((sdword)kasfTimerExpiredDestroy("BuildAgain"))
	{
	(sdword)(kasfVarValueSet("DontBuild", 0), 0);
	}
	}
	if ((sdword)kasfShipsCount(kasAITeamShipsPtr("StdCorvette1")) < 1)
	{
	kasJump("Dead", Init_Mission04_StdCorvette1_Dead, Watch_Mission04_StdCorvette1_Dead);
	return;
	}
	else if ((sdword)kasfShipsCount(kasGrowSelectionPtr("EnemyAttackers")) > 0)
	{
	kasJump("DefendMothership", Init_Mission04_StdCorvette1_DefendMothership, Watch_Mission04_StdCorvette1_DefendMothership);
	return;
	}
	else if ((sdword)kasfUnderAttack(kasGrowSelectionPtr("AttackC1")))
	{
	kasJump("DefendYourSelf", Init_Mission04_StdCorvette1_DefendYourSelf, Watch_Mission04_StdCorvette1_DefendYourSelf);
	return;
	}
	else if ((!((sdword)kasfVarValueGet("G_AssaultMsgSent") == 1)) && (!((sdword)kasfVarValueGet("G_CStartingTimer") == 1)))
	{
	kasJump("Waiting", Init_Mission04_StdCorvette1_Waiting, Watch_Mission04_StdCorvette1_Waiting);
	return;
	}
	else if (((sdword)kasfVarValueGet("G_AssaultMsgSent") == 1) && (!((sdword)kasfVarValueGet("G_CStartingTimer") == 1)))
	{
	kasJump("AssaultTimer", Init_Mission04_StdCorvette1_AssaultTimer, Watch_Mission04_StdCorvette1_AssaultTimer);
	return;
	}
	else if (((sdword)kasfVarValueGet("G_AssaultMsgSent") == 1) && ((sdword)kasfVarValueGet("G_CStartingTimer") == 1))
	{
	kasJump("AssaultMothership", Init_Mission04_StdCorvette1_AssaultMothership, Watch_Mission04_StdCorvette1_AssaultMothership);
	return;
	}
	
}


//
//  "initialize" code for Mission04 StdCorvette1 DefendMothership state
//
void Init_Mission04_StdCorvette1_DefendMothership(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "watch" code for Mission04 StdCorvette1 DefendMothership state
//
void Watch_Mission04_StdCorvette1_DefendMothership(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((sdword)kasfShipsCount(kasGrowSelectionPtr("AttackingCapitalShips")) > 0)
	{
	(sdword)(kasfAttack(kasGrowSelectionPtr("AttackingCapitalShips")), 0);
	}
	else if ((sdword)kasfShipsCount(kasGrowSelectionPtr("AttackingCapitalShips")) < 1)
	{
	(sdword)(kasfAttackFlank(kasGrowSelectionPtr("AttackingCorvettes")), 0);
	}
	else if (((sdword)kasfShipsCount(kasGrowSelectionPtr("AttackingCapitalShips")) < 1) && ((sdword)kasfShipsCount(kasGrowSelectionPtr("AttackingCorvettes")) < 1))
	{
	(sdword)(kasfAttackFlank(kasGrowSelectionPtr("AttackingFighters")), 0);
	}
	else if (((sdword)kasfShipsCount(kasGrowSelectionPtr("AttackingFighters")) < 1) && ((sdword)kasfShipsCount(kasGrowSelectionPtr("AttackingCorvettes")) < 1) && ((sdword)kasfShipsCount(kasGrowSelectionPtr("AttackingCapitalShips")) < 1))
	{
	(sdword)(kasfAttack(kasGrowSelectionPtr("EnemyAttackers")), 0);
	}
	else if ((sdword)kasfShipsCount(kasGrowSelectionPtr("EnemyAttackers")) < 1)
	{
	kasJump("AssaultMothership", Init_Mission04_StdCorvette1_AssaultMothership, Watch_Mission04_StdCorvette1_AssaultMothership);
	return;
	}
	
}


//
//  "initialize" code for Mission04 StdCorvette1 Waiting state
//
void Init_Mission04_StdCorvette1_Waiting(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "watch" code for Mission04 StdCorvette1 Waiting state
//
void Watch_Mission04_StdCorvette1_Waiting(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((sdword)kasfVarValueGet("G_AssaultMsgSent") == 1)
	{
	kasJump("AssaultTimer", Init_Mission04_StdCorvette1_AssaultTimer, Watch_Mission04_StdCorvette1_AssaultTimer);
	return;
	}
	
}


//
//  "initialize" code for Mission04 StdCorvette1 AssaultTimer state
//
void Init_Mission04_StdCorvette1_AssaultTimer(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "watch" code for Mission04 StdCorvette1 AssaultTimer state
//
void Watch_Mission04_StdCorvette1_AssaultTimer(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if (!((sdword)kasfVarValueGet("G_CTimeExists") == 1))
	{
	(sdword)(kasfTimerCreateSetStart("Corvette1Delay", ((sdword)kasfRandom(40, 100))), 0);
	(sdword)(kasfVarCreateSet("G_CTimeExists", 1), 0);
	}
	if (((sdword)kasfTimerExpired("Corvette1Delay")) && (!((sdword)kasfVarValueGet("G_CStartingTimer") == 1)))
	{
	(sdword)(kasfVarCreateSet("G_CStartingTimer", 1), 0);
	(sdword)(kasfUnhideShips(kasAITeamShipsPtr("StdCorvette1")), 0);
	kasJump("AssaultMothership", Init_Mission04_StdCorvette1_AssaultMothership, Watch_Mission04_StdCorvette1_AssaultMothership);
	return;
	}
	
}


//
//  "initialize" code for Mission04 StdCorvette1 AssaultMothership state
//
void Init_Mission04_StdCorvette1_AssaultMothership(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "watch" code for Mission04 StdCorvette1 AssaultMothership state
//
void Watch_Mission04_StdCorvette1_AssaultMothership(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if (!kasfVarValueGet("_VIFONCE023") && ((!((sdword)kasfVarValueGet("G_ResourcersAttacked") == 1)) && ((sdword)kasfFindEnemiesNearTeam(kasGrowSelectionPtr("NearNone"), 15000)))) // "ifonce" #23
	{
	kasfVarCreateSet("_VIFONCE023", 1);
	(sdword)(kasfVarCreateSet("G_ResourcersAttacked", 1), 0);
	(sdword)(kasfVarCreateSet("G_IAmTheWalrus", 3), 0);
	}
	if ((sdword)kasfShipsCount(kasGrowSelectionPtr("PlayerResourcers")) > 0)
	{
	(sdword)(kasfAttack(kasGrowSelectionPtr("PlayerResourcers")), 0);
	}
	else if ((sdword)kasfShipsCount(kasGrowSelectionPtr("PlayerFighters")) > 0)
	{
	(sdword)(kasfAttack(kasGrowSelectionPtr("PlayerFighters")), 0);
	}
	else if ((sdword)kasfShipsCount(kasGrowSelectionPtr("PlayerFighters")) < 1)
	{
	(sdword)(kasfAttack(kasGrowSelectionPtr("PlayerCapitalShips")), 0);
	}
	else if (((sdword)kasfShipsCount(kasGrowSelectionPtr("PlayerFighters")) < 1) && ((sdword)kasfShipsCount(kasGrowSelectionPtr("PlayerCapitalShips")) < 1))
	{
	(sdword)(kasfAttack(kasGrowSelectionPtr("PlayerShips")), 0);
	}
	
}


//
//  "initialize" code for Mission04 StdCorvette1 DefendYourSelf state
//
void Init_Mission04_StdCorvette1_DefendYourSelf(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "watch" code for Mission04 StdCorvette1 DefendYourSelf state
//
void Watch_Mission04_StdCorvette1_DefendYourSelf(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if (((sdword)kasfUnderAttack(kasGrowSelectionPtr("AttackC1")) > 0) && ((sdword)kasfTeamCount() <= ((sdword)kasfTeamCountOriginal() / 2)))
	{
	(sdword)(kasfAttack(kasGrowSelectionPtr("AttackC1")), 0);
	}
	else if ((sdword)kasfShipsCount(kasGrowSelectionPtr("AttackC1")) < 1)
	{
	kasJump("AssaultMothership", Init_Mission04_StdCorvette1_AssaultMothership, Watch_Mission04_StdCorvette1_AssaultMothership);
	return;
	}
	
}


//
//  "initialize" code for Mission04 StdCorvette1 Dead state
//
void Init_Mission04_StdCorvette1_Dead(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "watch" code for Mission04 StdCorvette1 Dead state
//
void Watch_Mission04_StdCorvette1_Dead(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "initialize" code for Mission04 StdCorvette2 FSM
//
void Init_Mission04_StdCorvette2(void)
{
	CurrentMissionScope = KAS_SCOPE_FSM;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfHideShips(kasAITeamShipsPtr("StdCorvette2")), 0);
	(sdword)(kasfVarCreateSet("requested", 0), 0);
	(sdword)(kasfVarCreateSet("needed", 0), 0);
	(sdword)(kasfVarCreateSet("newships", 0), 0);
	(sdword)(kasfVarCreateSet("DontBuild", 0), 0);
	kasJump("Waiting", Init_Mission04_StdCorvette2_Waiting, Watch_Mission04_StdCorvette2_Waiting);
	return;
	
}


//
//  "watch" code for Mission04 StdCorvette2 FSM
//
void Watch_Mission04_StdCorvette2(void)
{
	CurrentMissionScope = KAS_SCOPE_FSM;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if (((sdword)kasfTeamCount() > 0) && ((sdword)kasfVarValueGet("DontBuild") == 0))
	{
	if ((sdword)kasfTeamCount() + (sdword)kasfVarValueGet("requested") < (sdword)kasfTeamCountOriginal())
	{
	(sdword)(kasfVarValueSet("needed", (sdword)kasfTeamCountOriginal() - ((sdword)kasfTeamCount() + (sdword)kasfVarValueGet("requested"))), 0);
	(sdword)(kasfRequestShipsOriginal((sdword)kasfVarValueGet("needed")), 0);
	(sdword)(kasfVarValueSet("DontBuild", 1), 0);
	(sdword)(kasfTimerCreateSetStart("BuildAgain", 20), 0);
	(sdword)(kasfVarValueSet("requested", (sdword)kasfVarValueGet("requested") + (sdword)kasfVarValueGet("needed")), 0);
	}
	(sdword)(kasfVarValueSet("newships", (sdword)kasfNewShipsAdded()), 0);
	if ((sdword)kasfVarValueGet("newships"))
	{
	(sdword)(kasfVarValueSet("requested", (sdword)kasfVarValueGet("requested") - (sdword)kasfVarValueGet("newships")), 0);
	}
	if ((sdword)kasfTimerExpiredDestroy("BuildAgain"))
	{
	(sdword)(kasfVarValueSet("DontBuild", 0), 0);
	}
	}
	if ((sdword)kasfShipsCount(kasAITeamShipsPtr("StdCorvette2")) < 1)
	{
	kasJump("Dead", Init_Mission04_StdCorvette2_Dead, Watch_Mission04_StdCorvette2_Dead);
	return;
	}
	else if ((sdword)kasfShipsCount(kasGrowSelectionPtr("EnemyAttackers")) > 0)
	{
	kasJump("DefendMothership", Init_Mission04_StdCorvette2_DefendMothership, Watch_Mission04_StdCorvette2_DefendMothership);
	return;
	}
	else if ((sdword)kasfUnderAttack(kasGrowSelectionPtr("AttackC2")))
	{
	kasJump("DefendYourSelf", Init_Mission04_StdCorvette2_DefendYourSelf, Watch_Mission04_StdCorvette2_DefendYourSelf);
	return;
	}
	else if ((!((sdword)kasfVarValueGet("G_AssaultMsgSent") == 1)) && (!((sdword)kasfVarValueGet("G_C2StartingTimer") == 1)))
	{
	kasJump("Waiting", Init_Mission04_StdCorvette2_Waiting, Watch_Mission04_StdCorvette2_Waiting);
	return;
	}
	else if (((sdword)kasfShipsCount(kasAITeamShipsPtr("MissileCorvette1")) < 1) && (!((sdword)kasfVarValueGet("G_C2StartingTimer") == 1)))
	{
	kasJump("AssaultTimer", Init_Mission04_StdCorvette2_AssaultTimer, Watch_Mission04_StdCorvette2_AssaultTimer);
	return;
	}
	else if (((sdword)kasfVarValueGet("G_AssaultMsgSent") == 1) && ((sdword)kasfVarValueGet("G_C2StartingTimer") == 1))
	{
	kasJump("AssaultMothership", Init_Mission04_StdCorvette2_AssaultMothership, Watch_Mission04_StdCorvette2_AssaultMothership);
	return;
	}
	
}


//
//  "initialize" code for Mission04 StdCorvette2 DefendMothership state
//
void Init_Mission04_StdCorvette2_DefendMothership(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "watch" code for Mission04 StdCorvette2 DefendMothership state
//
void Watch_Mission04_StdCorvette2_DefendMothership(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((sdword)kasfShipsCount(kasGrowSelectionPtr("AttackingCapitalShips")) > 0)
	{
	(sdword)(kasfAttack(kasGrowSelectionPtr("AttackingCapitalShips")), 0);
	}
	else if ((sdword)kasfShipsCount(kasGrowSelectionPtr("AttackingCapitalShips")) < 1)
	{
	(sdword)(kasfAttackFlank(kasGrowSelectionPtr("AttackingCorvettes")), 0);
	}
	else if (((sdword)kasfShipsCount(kasGrowSelectionPtr("AttackingCapitalShips")) < 1) && ((sdword)kasfShipsCount(kasGrowSelectionPtr("AttackingCorvettes")) < 1))
	{
	(sdword)(kasfAttackFlank(kasGrowSelectionPtr("AttackingFighters")), 0);
	}
	else if (((sdword)kasfShipsCount(kasGrowSelectionPtr("AttackingFighters")) < 1) && ((sdword)kasfShipsCount(kasGrowSelectionPtr("AttackingCorvettes")) < 1) && ((sdword)kasfShipsCount(kasGrowSelectionPtr("AttackingCapitalShips")) < 1))
	{
	(sdword)(kasfAttack(kasGrowSelectionPtr("EnemyAttackers")), 0);
	}
	else if ((sdword)kasfShipsCount(kasGrowSelectionPtr("EnemyAttackers")) < 1)
	{
	kasJump("AssaultMothership", Init_Mission04_StdCorvette2_AssaultMothership, Watch_Mission04_StdCorvette2_AssaultMothership);
	return;
	}
	
}


//
//  "initialize" code for Mission04 StdCorvette2 Waiting state
//
void Init_Mission04_StdCorvette2_Waiting(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "watch" code for Mission04 StdCorvette2 Waiting state
//
void Watch_Mission04_StdCorvette2_Waiting(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((sdword)kasfVarValueGet("G_AssaultMsgSent") == 1)
	{
	kasJump("AssaultTimer", Init_Mission04_StdCorvette2_AssaultTimer, Watch_Mission04_StdCorvette2_AssaultTimer);
	return;
	}
	
}


//
//  "initialize" code for Mission04 StdCorvette2 AssaultTimer state
//
void Init_Mission04_StdCorvette2_AssaultTimer(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "watch" code for Mission04 StdCorvette2 AssaultTimer state
//
void Watch_Mission04_StdCorvette2_AssaultTimer(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if (!((sdword)kasfVarValueGet("G_C2TimeExists") == 1))
	{
	(sdword)(kasfTimerCreateSetStart("Corvette2Delay", ((sdword)kasfRandom(50, 150))), 0);
	(sdword)(kasfVarCreateSet("G_C2TimeExists", 1), 0);
	}
	else if (((sdword)kasfTimerExpired("Corvette2Delay")) && (!((sdword)kasfVarValueGet("G_C2StartingTimer") == 1)))
	{
	(sdword)(kasfVarCreateSet("G_C2StartingTimer", 1), 0);
	(sdword)(kasfUnhideShips(kasAITeamShipsPtr("StdCorvette2")), 0);
	kasJump("AssaultMothership", Init_Mission04_StdCorvette2_AssaultMothership, Watch_Mission04_StdCorvette2_AssaultMothership);
	return;
	}
	
}


//
//  "initialize" code for Mission04 StdCorvette2 AssaultMothership state
//
void Init_Mission04_StdCorvette2_AssaultMothership(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "watch" code for Mission04 StdCorvette2 AssaultMothership state
//
void Watch_Mission04_StdCorvette2_AssaultMothership(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if (!kasfVarValueGet("_VIFONCE024") && ((!((sdword)kasfVarValueGet("G_ResourcersAttacked") == 1)) && ((sdword)kasfFindEnemiesNearTeam(kasGrowSelectionPtr("NearNone"), 15000)))) // "ifonce" #24
	{
	kasfVarCreateSet("_VIFONCE024", 1);
	(sdword)(kasfVarCreateSet("G_ResourcersAttacked", 1), 0);
	(sdword)(kasfVarValueSet("G_IAmTheWalrus", 4), 0);
	}
	if ((sdword)kasfShipsCount(kasGrowSelectionPtr("PlayerResourcers")) > 0)
	{
	(sdword)(kasfAttack(kasGrowSelectionPtr("PlayerResourcers")), 0);
	}
	else if ((sdword)kasfShipsCount(kasGrowSelectionPtr("PlayerFighters")) > 0)
	{
	(sdword)(kasfAttack(kasGrowSelectionPtr("PlayerFighters")), 0);
	}
	else if ((sdword)kasfShipsCount(kasGrowSelectionPtr("PlayerFighters")) < 1)
	{
	(sdword)(kasfAttack(kasGrowSelectionPtr("PlayerCapitalShips")), 0);
	}
	else if (((sdword)kasfShipsCount(kasGrowSelectionPtr("PlayerFighters")) < 1) && ((sdword)kasfShipsCount(kasGrowSelectionPtr("PlayerCapitalShips")) < 1))
	{
	(sdword)(kasfAttack(kasGrowSelectionPtr("PlayerShips")), 0);
	}
	
}


//
//  "initialize" code for Mission04 StdCorvette2 DefendYourSelf state
//
void Init_Mission04_StdCorvette2_DefendYourSelf(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "watch" code for Mission04 StdCorvette2 DefendYourSelf state
//
void Watch_Mission04_StdCorvette2_DefendYourSelf(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if (((sdword)kasfUnderAttack(kasGrowSelectionPtr("AttackC2")) > 0) && ((sdword)kasfTeamCount() <= ((sdword)kasfTeamCountOriginal() / 2)))
	{
	(sdword)(kasfAttack(kasGrowSelectionPtr("AttackC2")), 0);
	}
	else if ((sdword)kasfShipsCount(kasGrowSelectionPtr("AttackC2")) < 1)
	{
	kasJump("AssaultMothership", Init_Mission04_StdCorvette2_AssaultMothership, Watch_Mission04_StdCorvette2_AssaultMothership);
	return;
	}
	
}


//
//  "initialize" code for Mission04 StdCorvette2 Dead state
//
void Init_Mission04_StdCorvette2_Dead(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "watch" code for Mission04 StdCorvette2 Dead state
//
void Watch_Mission04_StdCorvette2_Dead(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "initialize" code for Mission04 MissileCorvette1 FSM
//
void Init_Mission04_MissileCorvette1(void)
{
	CurrentMissionScope = KAS_SCOPE_FSM;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfHideShips(kasAITeamShipsPtr("MissileCorvette1")), 0);
	(sdword)(kasfVarCreateSet("requested", 0), 0);
	(sdword)(kasfVarCreateSet("needed", 0), 0);
	(sdword)(kasfVarCreateSet("newships", 0), 0);
	(sdword)(kasfVarCreateSet("DontBuild", 0), 0);
	
}


//
//  "watch" code for Mission04 MissileCorvette1 FSM
//
void Watch_Mission04_MissileCorvette1(void)
{
	CurrentMissionScope = KAS_SCOPE_FSM;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if (((sdword)kasfTeamCount() > 0) && ((sdword)kasfVarValueGet("DontBuild") == 0))
	{
	if ((sdword)kasfTeamCount() + (sdword)kasfVarValueGet("requested") < (sdword)kasfTeamCountOriginal())
	{
	(sdword)(kasfVarValueSet("needed", (sdword)kasfTeamCountOriginal() - ((sdword)kasfTeamCount() + (sdword)kasfVarValueGet("requested"))), 0);
	(sdword)(kasfRequestShipsOriginal((sdword)kasfVarValueGet("needed")), 0);
	(sdword)(kasfVarValueSet("DontBuild", 1), 0);
	(sdword)(kasfTimerCreateSetStart("BuildAgain", 20), 0);
	(sdword)(kasfVarValueSet("requested", (sdword)kasfVarValueGet("requested") + (sdword)kasfVarValueGet("needed")), 0);
	}
	(sdword)(kasfVarValueSet("newships", (sdword)kasfNewShipsAdded()), 0);
	if ((sdword)kasfVarValueGet("newships"))
	{
	(sdword)(kasfVarValueSet("requested", (sdword)kasfVarValueGet("requested") - (sdword)kasfVarValueGet("newships")), 0);
	}
	if ((sdword)kasfTimerExpiredDestroy("BuildAgain"))
	{
	(sdword)(kasfVarValueSet("DontBuild", 0), 0);
	}
	}
	if ((sdword)kasfShipsCount(kasAITeamShipsPtr("MissileCorvette1")) < 1)
	{
	kasJump("Dead", Init_Mission04_MissileCorvette1_Dead, Watch_Mission04_MissileCorvette1_Dead);
	return;
	}
	else if ((sdword)kasfShipsCount(kasGrowSelectionPtr("EnemyAttackers")) > 0)
	{
	kasJump("DefendMothership", Init_Mission04_MissileCorvette1_DefendMothership, Watch_Mission04_MissileCorvette1_DefendMothership);
	return;
	}
	else if ((sdword)kasfUnderAttack(kasGrowSelectionPtr("AttackMc")))
	{
	kasJump("DefendYourSelf", Init_Mission04_MissileCorvette1_DefendYourSelf, Watch_Mission04_MissileCorvette1_DefendYourSelf);
	return;
	}
	else if ((!((sdword)kasfVarValueGet("G_AssaultMsgSent") == 1)) && (!((sdword)kasfVarValueGet("G_MCStartingTimer") == 1)))
	{
	kasJump("Waiting", Init_Mission04_MissileCorvette1_Waiting, Watch_Mission04_MissileCorvette1_Waiting);
	return;
	}
	else if (((sdword)kasfShipsCount(kasAITeamShipsPtr("StdCorvette1")) < 1) && (!((sdword)kasfVarValueGet("G_MCStartingTimer") == 1)))
	{
	kasJump("AssaultTimer", Init_Mission04_MissileCorvette1_AssaultTimer, Watch_Mission04_MissileCorvette1_AssaultTimer);
	return;
	}
	else if (((sdword)kasfVarValueGet("G_AssaultMsgSent") == 1) && ((sdword)kasfVarValueGet("G_MCStartingTimer") == 1))
	{
	kasJump("AssaultMothership", Init_Mission04_MissileCorvette1_AssaultMothership, Watch_Mission04_MissileCorvette1_AssaultMothership);
	return;
	}
	
}


//
//  "initialize" code for Mission04 MissileCorvette1 Waiting state
//
void Init_Mission04_MissileCorvette1_Waiting(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "watch" code for Mission04 MissileCorvette1 Waiting state
//
void Watch_Mission04_MissileCorvette1_Waiting(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if (((sdword)kasfVarValueGet("G_AssaultMsgSent") == 1) && (!((sdword)kasfVarValueGet("OnceTheFuck") == 1)))
	{
	(sdword)(kasfVarCreateSet("OnceTheFuck", 1), 0);
	kasJump("AssaultTimer", Init_Mission04_MissileCorvette1_AssaultTimer, Watch_Mission04_MissileCorvette1_AssaultTimer);
	return;
	}
	
}


//
//  "initialize" code for Mission04 MissileCorvette1 AssaultTimer state
//
void Init_Mission04_MissileCorvette1_AssaultTimer(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "watch" code for Mission04 MissileCorvette1 AssaultTimer state
//
void Watch_Mission04_MissileCorvette1_AssaultTimer(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if (!((sdword)kasfVarValueGet("G_MCTimeExists") == 1))
	{
	(sdword)(kasfTimerCreateSetStart("MCorvetteDelay", ((sdword)kasfRandom(40, 120))), 0);
	(sdword)(kasfVarCreateSet("G_MCTimeExists", 1), 0);
	}
	else if (((sdword)kasfTimerExpired("MCorvetteDelay")) && (!((sdword)kasfVarValueGet("G_MCStartingTimer") == 1)))
	{
	(sdword)(kasfVarCreateSet("G_MCStartingTimer", 1), 0);
	(sdword)(kasfUnhideShips(kasAITeamShipsPtr("MissileCorvette1")), 0);
	kasJump("AssaultMothership", Init_Mission04_MissileCorvette1_AssaultMothership, Watch_Mission04_MissileCorvette1_AssaultMothership);
	return;
	}
	
}


//
//  "initialize" code for Mission04 MissileCorvette1 AssaultMothership state
//
void Init_Mission04_MissileCorvette1_AssaultMothership(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "watch" code for Mission04 MissileCorvette1 AssaultMothership state
//
void Watch_Mission04_MissileCorvette1_AssaultMothership(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if (!kasfVarValueGet("_VIFONCE025") && ((!((sdword)kasfVarValueGet("G_ResourcersAttacked") == 1)) && ((sdword)kasfFindEnemiesNearTeam(kasGrowSelectionPtr("NearNone"), 15000)))) // "ifonce" #25
	{
	kasfVarCreateSet("_VIFONCE025", 1);
	(sdword)(kasfVarCreateSet("G_ResourcersAttacked", 1), 0);
	(sdword)(kasfVarValueSet("G_IAmTheWalrus", 5), 0);
	}
	if ((sdword)kasfShipsCount(kasGrowSelectionPtr("PlayerFighters")) > 0)
	{
	(sdword)(kasfAttack(kasGrowSelectionPtr("PlayerFighters")), 0);
	}
	else if ((sdword)kasfShipsCount(kasGrowSelectionPtr("PlayerFighters")) < 1)
	{
	(sdword)(kasfAttack(kasGrowSelectionPtr("PlayerCorvettes")), 0);
	}
	else if (((sdword)kasfShipsCount(kasGrowSelectionPtr("PlayerFighters")) < 1) && ((sdword)kasfShipsCount(kasGrowSelectionPtr("PlayerCorvettes")) < 1))
	{
	(sdword)(kasfAttack(kasGrowSelectionPtr("PlayerCapitalShips")), 0);
	}
	else if (((sdword)kasfShipsCount(kasGrowSelectionPtr("PlayerFighters")) < 1) && ((sdword)kasfShipsCount(kasGrowSelectionPtr("PlayerCorvettes")) < 1) && ((sdword)kasfShipsCount(kasGrowSelectionPtr("PlayerCapitalShips")) < 1))
	{
	(sdword)(kasfAttack(kasGrowSelectionPtr("PlayerShips")), 0);
	}
	
}


//
//  "initialize" code for Mission04 MissileCorvette1 DefendYourSelf state
//
void Init_Mission04_MissileCorvette1_DefendYourSelf(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "watch" code for Mission04 MissileCorvette1 DefendYourSelf state
//
void Watch_Mission04_MissileCorvette1_DefendYourSelf(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((sdword)kasfShipsCount(kasGrowSelectionPtr("AttackMc")) > 0)
	{
	(sdword)(kasfAttack(kasGrowSelectionPtr("AttackMc")), 0);
	}
	if ((sdword)kasfShipsCount(kasGrowSelectionPtr("AttackMc")) < 1)
	{
	kasJump("AssaultMothership", Init_Mission04_MissileCorvette1_AssaultMothership, Watch_Mission04_MissileCorvette1_AssaultMothership);
	return;
	}
	
}


//
//  "initialize" code for Mission04 MissileCorvette1 DefendMothership state
//
void Init_Mission04_MissileCorvette1_DefendMothership(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "watch" code for Mission04 MissileCorvette1 DefendMothership state
//
void Watch_Mission04_MissileCorvette1_DefendMothership(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((sdword)kasfShipsCount(kasGrowSelectionPtr("AttackingFighters")) > 0)
	{
	(sdword)(kasfAttack(kasGrowSelectionPtr("AttackingFighters")), 0);
	}
	else if ((sdword)kasfShipsCount(kasGrowSelectionPtr("AttackingFighters")) < 1)
	{
	(sdword)(kasfAttackFlank(kasGrowSelectionPtr("AttackingCorvettes")), 0);
	}
	else if (((sdword)kasfShipsCount(kasGrowSelectionPtr("AttackingFighters")) < 1) && ((sdword)kasfShipsCount(kasGrowSelectionPtr("AttackingCorvettes")) < 1))
	{
	(sdword)(kasfAttack(kasGrowSelectionPtr("AttackingCapitalShips")), 0);
	}
	else if (((sdword)kasfShipsCount(kasGrowSelectionPtr("AttackingFighters")) < 1) && ((sdword)kasfShipsCount(kasGrowSelectionPtr("AttackingCorvettes")) < 1) && ((sdword)kasfShipsCount(kasGrowSelectionPtr("AttackingCapitalShips")) < 1))
	{
	(sdword)(kasfAttack(kasGrowSelectionPtr("EnemyAttackers")), 0);
	}
	else if ((sdword)kasfShipsCount(kasGrowSelectionPtr("EnemyAttackers")) < 1)
	{
	kasJump("AssaultMothership", Init_Mission04_MissileCorvette1_AssaultMothership, Watch_Mission04_MissileCorvette1_AssaultMothership);
	return;
	}
	
}


//
//  "initialize" code for Mission04 MissileCorvette1 Dead state
//
void Init_Mission04_MissileCorvette1_Dead(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "watch" code for Mission04 MissileCorvette1 Dead state
//
void Watch_Mission04_MissileCorvette1_Dead(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "initialize" code for Mission04 P1Mothership FSM
//
void Init_Mission04_P1Mothership(void)
{
	CurrentMissionScope = KAS_SCOPE_FSM;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfTeamHyperspaceOut(), 0);
	kasJump("Waiting", Init_Mission04_P1Mothership_Waiting, Watch_Mission04_P1Mothership_Waiting);
	return;
	
}


//
//  "watch" code for Mission04 P1Mothership FSM
//
void Watch_Mission04_P1Mothership(void)
{
	CurrentMissionScope = KAS_SCOPE_FSM;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if (!kasfVarValueGet("_VIFONCE026") && ((sdword)kasfTeamHealthAverage() < 50)) // "ifonce" #26
	{
	kasfVarCreateSet("_VIFONCE026", 1);
	(sdword)(kasfVarCreateSet("Leaving", 1), 0);
	kasJump("RetreatMothership", Init_Mission04_P1Mothership_RetreatMothership, Watch_Mission04_P1Mothership_RetreatMothership);
	return;
	}
	if (!kasfVarValueGet("_VIFONCE027") && ((sdword)kasfShipsCount(kasAITeamShipsPtr("P1Mothership")) < 1)) // "ifonce" #27
	{
	kasfVarCreateSet("_VIFONCE027", 1);
	kasJump("Dead", Init_Mission04_P1Mothership_Dead, Watch_Mission04_P1Mothership_Dead);
	return;
	}
	if (((sdword)kasfUnderAttack(kasGrowSelectionPtr("EnemyOfMS")) > 0) && (!((sdword)kasfVarValueGet("G_SaveAiMothership") == 1)))
	{
	(sdword)kasfShipsSelectCapital(kasGrowSelectionPtr("PCapShipsAttackCarrier"), kasGrowSelectionPtr("EnemyOfMS"));
	if ((sdword)kasfShipsCount(kasGrowSelectionPtr("PCapShipsAttackCarrier")) > 0)
	{
	(sdword)(kasfVarCreateSet("G_SaveAiMothership", 1), 0);
	kasJump("LovingMe", Init_Mission04_P1Mothership_LovingMe, Watch_Mission04_P1Mothership_LovingMe);
	return;
	}
	}
	
}


//
//  "initialize" code for Mission04 P1Mothership LovingMe state
//
void Init_Mission04_P1Mothership_LovingMe(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "watch" code for Mission04 P1Mothership LovingMe state
//
void Watch_Mission04_P1Mothership_LovingMe(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)kasfUnderAttack(kasGrowSelectionPtr("EnemyOfMS"));
	if ((sdword)kasfShipsSelectClass(kasGrowSelectionPtr("PCapShipsAttackCarrier"), kasGrowSelectionPtr("EnemyOfMS"), "CLASS_CapitalShips") > 0)
	{
	(sdword)(kasfAttack(kasGrowSelectionPtr("PCapShipsAttackCarrier")), 0);
	}
	else
	{
	(sdword)(kasfGrowSelectionClear(kasGrowSelectionPtr("EnemyOfMS")), 0);
	if ((sdword)kasfVarValueGet("Leaving") == 1)
	{
	kasJump("RetreatMothership", Init_Mission04_P1Mothership_RetreatMothership, Watch_Mission04_P1Mothership_RetreatMothership);
	return;
	}
	else if ((sdword)kasfVarValueGet("G_ReadyToSpew") == 1)
	{
	(sdword)(kasfVarDestroy("G_SaveAiMothership"), 0);
	kasJump("SpewDeath", Init_Mission04_P1Mothership_SpewDeath, Watch_Mission04_P1Mothership_SpewDeath);
	return;
	}
	else
	{
	(sdword)(kasfVarDestroy("G_SaveAiMothership"), 0);
	kasJump("AssaultTimer", Init_Mission04_P1Mothership_AssaultTimer, Watch_Mission04_P1Mothership_AssaultTimer);
	return;
	}
	}
	
}


//
//  "initialize" code for Mission04 P1Mothership Waiting state
//
void Init_Mission04_P1Mothership_Waiting(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "watch" code for Mission04 P1Mothership Waiting state
//
void Watch_Mission04_P1Mothership_Waiting(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((sdword)kasfMsgReceived("AttackPlayerMothership"))
	{
	(sdword)(kasfTeamHyperspaceIn(kasVectorPtr("P1MsPoint")), 0);
	kasJump("AssaultTimer", Init_Mission04_P1Mothership_AssaultTimer, Watch_Mission04_P1Mothership_AssaultTimer);
	return;
	}
	
}


//
//  "initialize" code for Mission04 P1Mothership AssaultTimer state
//
void Init_Mission04_P1Mothership_AssaultTimer(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if (!kasfVarValueGet("_VIFONCE028") && (1)) // "ifonce" #28
	{
	kasfVarCreateSet("_VIFONCE028", 1);
	(sdword)(kasfTimerCreateSetStart("DoggieTimer", 80), 0);
	}
	
}


//
//  "watch" code for Mission04 P1Mothership AssaultTimer state
//
void Watch_Mission04_P1Mothership_AssaultTimer(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((sdword)kasfTimerExpired("DoggieTimer"))
	{
	kasJump("AssaultMothership", Init_Mission04_P1Mothership_AssaultMothership, Watch_Mission04_P1Mothership_AssaultMothership);
	return;
	}
	
}


//
//  "initialize" code for Mission04 P1Mothership AssaultMothership state
//
void Init_Mission04_P1Mothership_AssaultMothership(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfTeamSetMaxVelocity(170), 0);
	(sdword)(kasfPatrolPath(kasPathPtr("PathMotherShipFlank")), 0);
	(sdword)(kasfVarCreateSet("StillOnPath", 1), 0);
	
}


//
//  "watch" code for Mission04 P1Mothership AssaultMothership state
//
void Watch_Mission04_P1Mothership_AssaultMothership(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if ((sdword)kasfPathNextPoint() == 0)
	{
	(sdword)(kasfMoveTo(kasVectorPtr("PointMotherShipFlank")), 0);
	(sdword)(kasfVarDestroy("StillOnPath"), 0);
	(sdword)(kasfTeamClearMaxVelocity(), 0);
	kasJump("SpewDeath", Init_Mission04_P1Mothership_SpewDeath, Watch_Mission04_P1Mothership_SpewDeath);
	return;
	}
	
}


//
//  "initialize" code for Mission04 P1Mothership SpewDeath state
//
void Init_Mission04_P1Mothership_SpewDeath(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfVarCreateSet("G_ReadyToSpew", 1), 0);
	
}


//
//  "watch" code for Mission04 P1Mothership SpewDeath state
//
void Watch_Mission04_P1Mothership_SpewDeath(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if (((sdword)kasfShipsCount(kasAITeamShipsPtr("IonFrig1")) < 1) && ((sdword)kasfShipsCount(kasAITeamShipsPtr("IonFrig2")) < 1) && ((sdword)kasfShipsCount(kasAITeamShipsPtr("IonFrig3")) < 1))
	{
	(sdword)(kasfPingAddShips(kasAITeamShipsPtr("P1Mothership"), "Turanic Raider Mothership"), 0);
	kasJump("Kamikaze", Init_Mission04_P1Mothership_Kamikaze, Watch_Mission04_P1Mothership_Kamikaze);
	return;
	}
	
}


//
//  "initialize" code for Mission04 P1Mothership Kamikaze state
//
void Init_Mission04_P1Mothership_Kamikaze(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfMoveAttack(kasGrowSelectionPtr("PlayerMothership")), 0);
	
}


//
//  "watch" code for Mission04 P1Mothership Kamikaze state
//
void Watch_Mission04_P1Mothership_Kamikaze(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if (((sdword)kasfUnderAttack(kasGrowSelectionPtr("EnemyOfMS")) > 0) && ((sdword)kasfShipsSelectClass(kasGrowSelectionPtr("PCapShipsAttackCarrier"), kasGrowSelectionPtr("EnemyOfMS"), "CLASS_CapitalShips") > 0))
	{
	(sdword)(kasfVarCreateSet("IWasAttacked", 1), 0);
	(sdword)(kasfAttack(kasGrowSelectionPtr("PlayerMothership")), 0);
	}
	else if (((sdword)kasfVarValueGet("IWasAttacked") == 1) && ((sdword)kasfUnderAttack(kasGrowSelectionPtr("EnemyOfMS")) < 1))
	{
	(sdword)(kasfVarDestroy("IWasAttacked"), 0);
	(sdword)(kasfGrowSelectionClear(kasGrowSelectionPtr("EnemyOfMS")), 0);
	kasJump("Kamikaze", Init_Mission04_P1Mothership_Kamikaze, Watch_Mission04_P1Mothership_Kamikaze);
	return;
	}
	
}


//
//  "initialize" code for Mission04 P1Mothership RetreatMothership state
//
void Init_Mission04_P1Mothership_RetreatMothership(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfTeamClearMaxVelocity(), 0);
	(sdword)(kasfMoveTo(kasVectorPtr("TuranicRetreatPoint")), 0);
	
}


//
//  "watch" code for Mission04 P1Mothership RetreatMothership state
//
void Watch_Mission04_P1Mothership_RetreatMothership(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if (!kasfVarValueGet("_VIFONCE029") && ((sdword)kasfNearby(kasVectorPtr("TuranicRetreatPoint"), 40000))) // "ifonce" #29
	{
	kasfVarCreateSet("_VIFONCE029", 1);
	(sdword)(kasfVarCreateSet("G_IcantLetYouGo", 1), 0);
	}
	if (!kasfVarValueGet("_VIFONCE030") && ((sdword)kasfNearby(kasVectorPtr("TuranicRetreatPoint"), 1000))) // "ifonce" #30
	{
	kasfVarCreateSet("_VIFONCE030", 1);
	(sdword)(kasfTeamHyperspaceOut(), 0);
	(sdword)(kasfMissionFailed(), 0);
	}
	
}


//
//  "initialize" code for Mission04 P1Mothership Dead state
//
void Init_Mission04_P1Mothership_Dead(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "watch" code for Mission04 P1Mothership Dead state
//
void Watch_Mission04_P1Mothership_Dead(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "initialize" code for Mission04 ProtectFrigs FSM
//
void Init_Mission04_ProtectFrigs(void)
{
	CurrentMissionScope = KAS_SCOPE_FSM;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfTeamHyperspaceOut(), 0);
	kasJump("Wait", Init_Mission04_ProtectFrigs_Wait, Watch_Mission04_ProtectFrigs_Wait);
	return;
	
}


//
//  "watch" code for Mission04 ProtectFrigs FSM
//
void Watch_Mission04_ProtectFrigs(void)
{
	CurrentMissionScope = KAS_SCOPE_FSM;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "initialize" code for Mission04 ProtectFrigs Wait state
//
void Init_Mission04_ProtectFrigs_Wait(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "watch" code for Mission04 ProtectFrigs Wait state
//
void Watch_Mission04_ProtectFrigs_Wait(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if (!kasfVarValueGet("_VIFONCE031") && ((sdword)kasfMsgReceived("AttackPlayerMothership"))) // "ifonce" #31
	{
	kasfVarCreateSet("_VIFONCE031", 1);
	(sdword)(kasfTeamHyperspaceIn(kasVectorPtr("P1MsGuardPoint")), 0);
	kasJump("Guard", Init_Mission04_ProtectFrigs_Guard, Watch_Mission04_ProtectFrigs_Guard);
	return;
	}
	
}


//
//  "initialize" code for Mission04 ProtectFrigs Guard state
//
void Init_Mission04_ProtectFrigs_Guard(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfGuardShips(kasAITeamShipsPtr("P1Mothership")), 0);
	
}


//
//  "watch" code for Mission04 ProtectFrigs Guard state
//
void Watch_Mission04_ProtectFrigs_Guard(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	if (((sdword)kasfUnderAttackElsewhere(kasAITeamPtr("P1Mothership"), kasGrowSelectionPtr("VictemFrig1")) > 0) || ((sdword)kasfFindEnemiesNearTeam(kasGrowSelectionPtr("NearFrig1"), 5000) > 0))
	{
	kasJump("Attack", Init_Mission04_ProtectFrigs_Attack, Watch_Mission04_ProtectFrigs_Attack);
	return;
	}
	
}


//
//  "initialize" code for Mission04 ProtectFrigs Attack state
//
void Init_Mission04_ProtectFrigs_Attack(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "watch" code for Mission04 ProtectFrigs Attack state
//
void Watch_Mission04_ProtectFrigs_Attack(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)kasfUnderAttackElsewhere(kasAITeamPtr("P1Mothership"), kasGrowSelectionPtr("VictemFrig1"));
	(sdword)kasfFindEnemiesNearTeam(kasGrowSelectionPtr("NearFrig1"), 10000);
	(sdword)kasfShipsSelectType(kasGrowSelectionPtr("NastyCaps1"), kasGrowSelectionPtr("NearFrig1"), "SalCapCorvette");
	(sdword)kasfShipsSelectCapital(kasGrowSelectionPtr("CapsVictemFrig1"), kasGrowSelectionPtr("VictemFrig1"));
	(sdword)kasfShipsSelectCapital(kasGrowSelectionPtr("CapsNearFrig1"), kasGrowSelectionPtr("NearFrig1"));
	(sdword)kasfShipsSelectIndex(kasGrowSelectionPtr("IndxCapsVictemFrig1"), kasGrowSelectionPtr("CapsVictemFrig1"), 0);
	(sdword)kasfShipsSelectIndex(kasGrowSelectionPtr("IndxCapsNearFrig1"), kasGrowSelectionPtr("CapsNearFrig1"), 0);
	if ((sdword)kasfShipsCount(kasGrowSelectionPtr("NastyCaps1")) > 0)
	{
	(sdword)(kasfAttack(kasGrowSelectionPtr("NastyCaps1")), 0);
	}
	else if ((sdword)kasfShipsCount(kasGrowSelectionPtr("CapsVictemFrig1")) > 0)
	{
	(sdword)(kasfAttack(kasGrowSelectionPtr("IndxCapsVictemFrig1")), 0);
	}
	else if ((sdword)kasfShipsCount(kasGrowSelectionPtr("CapsNearFrig1")) > 0)
	{
	(sdword)(kasfAttack(kasGrowSelectionPtr("IndxCapsNearFrig1")), 0);
	}
	else if ((sdword)kasfShipsCount(kasGrowSelectionPtr("NearFrig1")) > 0)
	{
	(sdword)(kasfAttack(kasGrowSelectionPtr("NearFrig1")), 0);
	}
	else if ((sdword)kasfShipsCount(kasAITeamShipsPtr("P1Mothership")) > 0)
	{
	kasJump("Guard", Init_Mission04_ProtectFrigs_Guard, Watch_Mission04_ProtectFrigs_Guard);
	return;
	}
	
}


//
//  "initialize" code for Mission04 ProtectFrigs Done state
//
void Init_Mission04_ProtectFrigs_Done(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	(sdword)(kasfTeamHyperspaceOut(), 0);
	
}


//
//  "watch" code for Mission04 ProtectFrigs Done state
//
void Watch_Mission04_ProtectFrigs_Done(void)
{
	CurrentMissionScope = KAS_SCOPE_STATE;
	strcpy(CurrentMissionScopeName, kasThisTeamPtr->kasLabel);
	
}


//
//  "initialize" code for Mission04 mission
//
void Init_Mission04(void)
{
	CurrentMissionScope = KAS_SCOPE_MISSION;
	strcpy(CurrentMissionScopeName, "Mission04");
	kasFSMCreate("TuranicFighters", Init_Mission04_TuranicFighters, Watch_Mission04_TuranicFighters, kasAITeamPtr("TuranicFighters"));
	kasFSMCreate("TuranicHarrassFighters", Init_Mission04_TuranicHarrassFighters, Watch_Mission04_TuranicHarrassFighters, kasAITeamPtr("TuranicHarrassFighters"));
	kasFSMCreate("IonFrig1", Init_Mission04_IonFrig1, Watch_Mission04_IonFrig1, kasAITeamPtr("IonFrig1"));
	kasFSMCreate("IonFrig2", Init_Mission04_IonFrig2, Watch_Mission04_IonFrig2, kasAITeamPtr("IonFrig2"));
	kasFSMCreate("IonFrig3", Init_Mission04_IonFrig3, Watch_Mission04_IonFrig3, kasAITeamPtr("IonFrig3"));
	kasFSMCreate("StdCorvette1", Init_Mission04_StdCorvette1, Watch_Mission04_StdCorvette1, kasAITeamPtr("StdCorvette1"));
	kasFSMCreate("StdCorvette2", Init_Mission04_StdCorvette2, Watch_Mission04_StdCorvette2, kasAITeamPtr("StdCorvette2"));
	kasFSMCreate("MissileCorvette1", Init_Mission04_MissileCorvette1, Watch_Mission04_MissileCorvette1, kasAITeamPtr("MissileCorvette1"));
	kasFSMCreate("P1Mothership", Init_Mission04_P1Mothership, Watch_Mission04_P1Mothership, kasAITeamPtr("P1Mothership"));
	kasFSMCreate("MissionBriefing", Init_Mission04_MissionBriefing, Watch_Mission04_MissionBriefing, kasAITeamPtr("TeamOfDummys"));
	kasFSMCreate("Traders", Init_Mission04_Traders, Watch_Mission04_Traders, kasAITeamPtr("Traders"));
	kasFSMCreate("ProtectFrigs", Init_Mission04_ProtectFrigs, Watch_Mission04_ProtectFrigs, kasAITeamPtr("ProtectFrigs"));
	(sdword)(kasfSaveLevel(4, LSTRING_Savegame[strCurLanguage]), 0);
	(sdword)(kasfLocationCard(10000, LSTRING_LocationCard[strCurLanguage]), 0);
	(sdword)(kasfVarCreateSet("G_IAmTheWalrus", 0), 0);
	
}


//
//  "watch" code for Mission04 mission
//
void Watch_Mission04(void)
{
	CurrentMissionScope = KAS_SCOPE_MISSION;
	strcpy(CurrentMissionScopeName, "Mission04");
	(sdword)kasfFindEnemiesInside(kasVolumePtr("WorldSphere"), kasGrowSelectionPtr("PlayerShips"), 1000000);
	(sdword)kasfShipsSelectClass(kasGrowSelectionPtr("PlayerFighters"), kasGrowSelectionPtr("PlayerShips"), "CLASS_Fighter");
	(sdword)kasfShipsSelectClass(kasGrowSelectionPtr("PlayerCorvettes"), kasGrowSelectionPtr("PlayerShips"), "CLASS_Corvette");
	(sdword)kasfShipsSelectClass(kasGrowSelectionPtr("PlayerCapitalShips"), kasGrowSelectionPtr("PlayerShips"), "CLASS_CapitalShips");
	(sdword)kasfShipsSelectClass(kasGrowSelectionPtr("PlayerMothership"), kasGrowSelectionPtr("PlayerShips"), "CLASS_Mothership");
	(sdword)kasfShipsSelectType(kasGrowSelectionPtr("PlayerResourcers"), kasGrowSelectionPtr("PlayerShips"), "ResourceCollector");
	(sdword)kasfShipsSelectClass(kasGrowSelectionPtr("PlayerFrigates"), kasGrowSelectionPtr("PlayerShips"), "CLASS_Frigate");
	(sdword)kasfShipsSelectClass(kasGrowSelectionPtr("PlayerDestroyer"), kasGrowSelectionPtr("PlayerShips"), "CLASS_Destroyer");
	(sdword)kasfShipsSelectClass(kasGrowSelectionPtr("PlayerHeavyCruiser"), kasGrowSelectionPtr("PlayerShips"), "CLASS_HeavyCruiser");
	(sdword)kasfShipsSelectClass(kasGrowSelectionPtr("PlayerCarrier"), kasGrowSelectionPtr("PlayerShips"), "CLASS_Carrier");
	(sdword)kasfShipsSelectCapital(kasGrowSelectionPtr("PlayerCapitalShips"), kasGrowSelectionPtr("PlayerShips"));
	(sdword)kasfUnderAttackElsewhere(kasAITeamPtr("P1Mothership"), kasGrowSelectionPtr("EnemyAttackers"));
	(sdword)kasfShipsSelectClass(kasGrowSelectionPtr("AttackingFighters"), kasGrowSelectionPtr("EnemyAttackers"), "CLASS_Fighter");
	(sdword)kasfShipsSelectClass(kasGrowSelectionPtr("AttackingCorvettes"), kasGrowSelectionPtr("EnemyAttackers"), "CLASS_Corvette");
	(sdword)kasfShipsSelectClass(kasGrowSelectionPtr("AttackingCapitalShips"), kasGrowSelectionPtr("EnemyAttackers"), "CLASS_CapitalShips");
	(sdword)kasfShipsSelectClass(kasGrowSelectionPtr("AttackingFrigates"), kasGrowSelectionPtr("EnemyAttackers"), "CLASS_Frigate");
	(sdword)kasfShipsSelectClass(kasGrowSelectionPtr("AttackingDestroyer"), kasGrowSelectionPtr("EnemyAttackers"), "CLASS_Destroyer");
	(sdword)kasfShipsSelectClass(kasGrowSelectionPtr("AttackingHeavyCruiser"), kasGrowSelectionPtr("EnemyAttackers"), "CLASS_HeavyCruiser");
	(sdword)kasfShipsSelectClass(kasGrowSelectionPtr("AttackingCarrier"), kasGrowSelectionPtr("EnemyAttackers"), "CLASS_Carrier");
	(sdword)kasfShipsAdd(kasGrowSelectionPtr("AttackingCapitalShips"), kasGrowSelectionPtr("AttackingFrigates"));
	(sdword)kasfShipsAdd(kasGrowSelectionPtr("AttackingCapitalShips"), kasGrowSelectionPtr("AttackingDestroyer"));
	(sdword)kasfShipsAdd(kasGrowSelectionPtr("AttackingCapitalShips"), kasGrowSelectionPtr("AttackingHeavyCruiser"));
	(sdword)kasfShipsAdd(kasGrowSelectionPtr("AttackingCapitalShips"), kasGrowSelectionPtr("AttackingCarrier"));
	(sdword)kasfFindShipsInside(kasVolumePtr("WorldSphere"), kasGrowSelectionPtr("AllShips"));
	(sdword)kasfShipsAdd(kasGrowSelectionPtr("AllP1"), kasAITeamShipsPtr("TuranicFighters"));
	(sdword)kasfShipsAdd(kasGrowSelectionPtr("AllP1"), kasAITeamShipsPtr("TuranicHarrassFighters"));
	(sdword)kasfShipsAdd(kasGrowSelectionPtr("AllP1"), kasAITeamShipsPtr("IonFrig1"));
	(sdword)kasfShipsAdd(kasGrowSelectionPtr("AllP1"), kasAITeamShipsPtr("IonFrig2"));
	(sdword)kasfShipsAdd(kasGrowSelectionPtr("AllP1"), kasAITeamShipsPtr("IonFrig3"));
	(sdword)kasfShipsAdd(kasGrowSelectionPtr("AllP1"), kasAITeamShipsPtr("StdCorvette1"));
	(sdword)kasfShipsAdd(kasGrowSelectionPtr("AllP1"), kasAITeamShipsPtr("StdCorvette2"));
	(sdword)kasfShipsAdd(kasGrowSelectionPtr("AllP1"), kasAITeamShipsPtr("MissileCorvette1"));
	(sdword)kasfShipsAdd(kasGrowSelectionPtr("AllP1"), kasAITeamShipsPtr("P1Mothership"));
	(sdword)kasfShipsAdd(kasGrowSelectionPtr("AllP1"), kasAITeamShipsPtr("ProtectFrigs"));
	if (!kasfVarValueGet("_VIFONCE032") && ((sdword)kasfShipsCount(kasAITeamShipsPtr("P1Mothership")) < 1)) // "ifonce" #32
	{
	kasfVarCreateSet("_VIFONCE032", 1);
	(sdword)(kasfObjectiveSet("DestroyP1Ms", 1), 0);
	(sdword)(kasfMusicStop(12), 0);
	}
	if (!kasfVarValueGet("_VIFONCE033") && (((sdword)kasfShipsCount(kasAITeamShipsPtr("P1Mothership")) < 1) && ((sdword)kasfShipsCount(kasAITeamShipsPtr("IonFrig1")) < 1) && ((sdword)kasfShipsCount(kasAITeamShipsPtr("IonFrig2")) < 1) && ((sdword)kasfShipsCount(kasAITeamShipsPtr("IonFrig3")) < 1) && ((sdword)kasfShipsCount(kasAITeamShipsPtr("ProtectFrigs")) < 1) && (((sdword)kasfUnderAttackElsewhere(kasAITeamPtr("TuranicFighters"), kasGrowSelectionPtr("Out")) < 1) && ((sdword)kasfUnderAttackElsewhere(kasAITeamPtr("TuranicHarrassFighters"), kasGrowSelectionPtr("Out")) < 1) && ((sdword)kasfUnderAttackElsewhere(kasAITeamPtr("StdCorvette1"), kasGrowSelectionPtr("Out")) < 1) && ((sdword)kasfUnderAttackElsewhere(kasAITeamPtr("StdCorvette2"), kasGrowSelectionPtr("Out")) < 1) && ((sdword)kasfUnderAttackElsewhere(kasAITeamPtr("MissileCorvette1"), kasGrowSelectionPtr("Out")) < 1)) && (!((sdword)kasfShipsOrder(kasGrowSelectionPtr("AllP1")) == 2)))) // "ifonce" #33
	{
	kasfVarCreateSet("_VIFONCE033", 1);
	(sdword)(kasfTimerCreateSetStart("EndOfTheWorldAsWeKnowIt", 5), 0);
	}
	if (!kasfVarValueGet("_VIFONCE034") && ((sdword)kasfTimerExpiredDestroy("EndOfTheWorldAsWeKnowIt"))) // "ifonce" #34
	{
	kasfVarCreateSet("_VIFONCE034", 1);
	if ((sdword)kasfRaceOfHuman() == 0)
	{
	(sdword)(kasfSpeechEvent((502 + 4096 + 268435456), 0), 0);
	}
	else if ((sdword)kasfRaceOfHuman() == 1)
	{
	(sdword)(kasfSpeechEvent((503 + 4096 + 268435456), 0), 0);
	}
	(sdword)(kasfObjectiveCreate("Hyperspace", LSTRING_TBHyperspace[strCurLanguage], LSTRING_TBHyperspace[strCurLanguage]), 0);
	(sdword)(kasfObjectiveSet("ProtectTheFleet", 1), 0);
	}
	if (!kasfVarValueGet("_VIFONCE035") && ((sdword)kasfDoesPlayerHave("MassDrive10Kt"))) // "ifonce" #35
	{
	kasfVarCreateSet("_VIFONCE035", 1);
	(sdword)(kasfAllowPlayerToResearch("Chassis2"), 0);
	}
	if (((sdword)kasfDoesPlayerHave("Chassis2")) && ((sdword)kasfVarValueGet("SetMediumGuns") == 0))
	{
	(sdword)(kasfAllowPlayerToResearch("MediumGuns"), 0);
	(sdword)(kasfVarCreateSet("SetMediumGuns", 1), 0);
	}
	if (!kasfVarValueGet("_VIFONCE036") && ((sdword)kasfDoesPlayerHave("Chassis1"))) // "ifonce" #36
	{
	kasfVarCreateSet("_VIFONCE036", 1);
	(sdword)(kasfAllowPlayerToResearch("MassDrive10Kt"), 0);
	}
	
}


